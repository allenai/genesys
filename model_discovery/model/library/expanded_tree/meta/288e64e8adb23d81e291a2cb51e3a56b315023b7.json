{"paperId": "288e64e8adb23d81e291a2cb51e3a56b315023b7", "abstract": "Large language models (LLMs) often struggle with maintaining accuracy throughout multiple multiple reasoning steps, especially in mathematical reasoning where an error in earlier steps can propagate to subsequent ones and it ultimately leading to an incorrect answer. To reduce error propagation, guided decoding is employed to direct the LM decoding on a step-by-step basis. We argue that in guided decoding, assessing the potential of an incomplete reasoning path can be more advantageous than simply ensuring per-step correctness, as the former approach leads towards a correct final answer. This transforms the task into a $\\textit{value estimation}$ problem in planning. Inspired by the findings that $\\textit{outcome supervision for guided decoding essentially acts as a value model}$, we propose Outcome-supervised Value Model (OVM) that employs outcome supervision for training a value model, which prioritizes steps that lead to accurate conclusions. Furthermore, the OVM eliminates the need for labor-intensive annotations of step-level correctness, thereby significantly enhancing its scalability. Our experiments on two multi-step mathematical reasoning datasets, GSM8K and Game of 24, demonstrate the superior performance of the OVM model. Notably, in GSM8K, our $\\textbf{OVM-7B model achieves state-of-the-art results among LLMs up to 13B parameters}$; especially it does not utilize GPT-4 or code execution. These findings offer a novel perspective on the role of outcome supervision in training value models for multi-step reasoning tasks and provide theoretical justification for its advantage in value estimation for guided decoding.", "venue": "", "year": 2023, "citationCount": 18, "influentialCitationCount": 2, "openAccessPdf": null, "tldr": {"model": "tldr@v2.0.0", "text": "Outcome-supervised Value Model (OVM) is proposed that employs outcome supervision for training a value model, which prioritizes steps that lead to accurate conclusions, thereby significantly enhancing its scalability and eliminating the need for labor-intensive annotations of step-level correctness."}, "embedding": {"model": "specter_v2", "vector": [0.2347470074892044, 1.0361913442611694, -0.6714397072792053, -0.010101535357534885, -0.24853640794754028, -0.09971185773611069, 0.714397132396698, 0.29588478803634644, -0.44098639488220215, 0.39889276027679443, 0.38746461272239685, -0.5747769474983215, -0.20899169147014618, -0.09553714096546173, -0.11603079736232758, 0.03256397694349289, -1.1146527528762817, 0.6094836592674255, 0.01822490245103836, -0.037142615765333176, 0.1825449913740158, -0.740834653377533, -0.4375598728656769, 0.16133488714694977, 0.07896363735198975, 0.4529099762439728, -0.25340163707733154, 0.9313734173774719, -0.5996849536895752, 1.285627841949463, 0.46418237686157227, -0.5482690334320068, 0.01910584419965744, -0.027213355526328087, -0.8555206060409546, -0.36276423931121826, -0.5543570518493652, -0.7506639361381531, -0.3905887305736542, 0.8228910565376282, -0.4680226743221283, 0.29171061515808105, 0.9026685953140259, -1.0378576517105103, -0.3061465322971344, 1.2944339513778687, 0.770070493221283, 0.3601754307746887, 0.010642094537615776, -0.5114673376083374, 1.804296851158142, -1.097893476486206, 0.6678158640861511, 1.2835688591003418, 0.12059308588504791, 0.5665013194084167, -0.47384387254714966, -0.11884256452322006, 0.3362295925617218, 0.33886805176734924, -0.9753491282463074, -0.19439305365085602, -0.26919522881507874, -0.12293446063995361, 1.7810174226760864, -0.5966335535049438, 0.022980771958827972, -0.12249267101287842, -0.0856856033205986, 1.3654345273971558, -0.07225725799798965, -0.7448122501373291, 0.1347823143005371, 0.2572767436504364, 0.15366077423095703, 0.9019132256507874, -0.15491585433483124, 0.4112117886543274, -1.1670056581497192, 0.017514603212475777, 0.41825851798057556, -0.41391387581825256, -0.18025042116641998, -0.4965788424015045, -0.5472686290740967, 0.2753213942050934, 0.1725376546382904, 0.48981761932373047, 0.054165929555892944, 0.8612196445465088, -0.017335867509245872, 0.7737092971801758, -0.32513776421546936, 0.4306049346923828, -0.6034724116325378, 0.3068627119064331, -0.585972249507904, 0.36443594098091125, 0.10870013386011124, 0.6789308786392212, -0.21037814021110535, 0.27524471282958984, -0.9902295470237732, -0.2200259566307068, 1.6689575910568237, 0.04518664628267288, 0.4256860613822937, -0.8910079002380371, 0.5717480182647705, -0.013895629905164242, 0.8691479563713074, -0.05122056603431702, -0.34923750162124634, 0.1310698390007019, -0.07078108936548233, -0.5703648924827576, -0.016325626522302628, 0.105569027364254, -0.7373479604721069, 0.7701965570449829, -0.2732619643211365, 0.1830536276102066, 0.5646860599517822, 0.7504466772079468, 0.8503850698471069, 0.5560216903686523, 0.21477006375789642, 0.00538078136742115, 0.4218238294124603, -0.4428238272666931, -0.42867523431777954, -0.7599628567695618, 1.1576536893844604, 0.3604937493801117, -0.18934857845306396, -0.3808414936065674, -1.615966558456421, -0.6376646757125854, -0.8764891624450684, 0.021275818347930908, -0.20685352385044098, -0.07003993541002274, 0.9612991213798523, -0.023478973656892776, -1.0427606105804443, 1.1744108200073242, 0.11992525309324265, 0.3600587248802185, 0.31038033962249756, 0.4628983438014984, 0.16676054894924164, -0.37274062633514404, -1.1003735065460205, 0.5080452561378479, 0.5799723267555237, -0.6812861561775208, -0.43816664814949036, -0.4941469430923462, -1.690325379371643, 0.04728706553578377, 0.6942102909088135, -0.5240927934646606, 1.6904661655426025, 0.33702531456947327, -1.567201852798462, 0.5893875360488892, -0.4920700490474701, -0.3115270733833313, 0.5021043419837952, 0.3455781042575836, -0.2888672649860382, -0.27458032965660095, -0.1893114596605301, 0.47407039999961853, 0.07319708168506622, -0.37164855003356934, -0.36566218733787537, 0.12060686945915222, -0.0856136605143547, -0.20909467339515686, 0.1767461746931076, 0.8131203651428223, 0.028796719387173653, 0.34884920716285706, 0.3088124692440033, 1.0768059492111206, -0.3333297371864319, 0.11728742718696594, -0.24193605780601501, -1.3002607822418213, -0.2251337170600891, 0.0794687494635582, 0.9499731659889221, -0.46674880385398865, -0.13496403396129608, -0.3049694299697876, 0.12748287618160248, -0.3946237862110138, -0.41722676157951355, 0.4025271236896515, -0.2983947992324829, 0.7190315127372742, -0.4995031952857971, -1.0394818782806396, 0.259714275598526, -0.25418171286582947, -0.4657590985298157, -0.11715772747993469, 0.5259064435958862, 1.3400120735168457, -0.7683526873588562, -0.4809187650680542, 0.3206019103527069, -0.39062854647636414, -0.5945848226547241, 1.191666603088379, -0.6686432957649231, 0.2543334662914276, -0.5764764547348022, -0.41511157155036926, -0.09100391715765, -0.33229875564575195, 0.4727737307548523, 0.2013634592294693, -0.24119827151298523, 0.49614807963371277, -0.8472639322280884, 1.089503288269043, 0.05402822047472, 0.27871328592300415, -0.3479549288749695, -0.6254888772964478, -0.039123713970184326, 0.5335683822631836, -0.24324576556682587, -0.39308398962020874, 0.5151105523109436, 0.11159341037273407, -0.21219107508659363, -0.11196999251842499, 0.2011861354112625, 0.2990230917930603, -0.3685417175292969, 0.5124521255493164, 0.4809660017490387, -0.674165666103363, 0.8112093806266785, 0.2591259777545929, 0.5947958827018738, 0.7570101618766785, 0.9626436233520508, 0.06665456295013428, 0.6971241235733032, -0.23624420166015625, -0.002302803797647357, 0.4042988717556, 0.5420393347740173, 0.7537902593612671, 0.7552165389060974, -0.8068234324455261, -0.5011627674102783, 0.09465610980987549, 0.3884531259536743, 1.0968737602233887, 0.31616151332855225, -0.4443785548210144, -0.4367924928665161, -0.15460531413555145, 0.03149528056383133, 0.7694147229194641, -0.5681064128875732, -0.19622370600700378, -0.6342142224311829, -0.6910002827644348, 0.7402371168136597, 0.6840274333953857, 0.8630540370941162, -0.8107326030731201, -0.049209482967853546, -0.19682097434997559, 0.3623987138271332, -0.7515178918838501, 0.3332388997077942, 0.4599936008453369, -0.6094329357147217, -0.2970573604106903, 0.13973841071128845, -0.0821009948849678, 0.32729724049568176, -1.0093787908554077, 0.7725333571434021, -0.07329560071229935, -0.22082865238189697, 0.10681361705064774, 0.7186415791511536, -0.6272638440132141, -0.8835071921348572, -0.3277584910392761, -0.32235953211784363, -0.41693225502967834, 0.2835949659347534, 0.8732911348342896, 0.34405583143234253, -0.02805948071181774, -0.2890680730342865, 0.5016299486160278, -0.06217222288250923, 0.22985100746154785, 0.34383365511894226, 0.17490926384925842, -0.37281352281570435, -0.8954609036445618, 0.63301020860672, 0.0882745310664177, -0.831932544708252, 0.26926055550575256, -1.180413007736206, 0.05329470336437225, 0.5305253863334656, -0.29454877972602844, -0.16555938124656677, -1.2603342533111572, 0.7772431969642639, 0.2104002684354782, -0.35995960235595703, 0.4504736661911011, 0.591796338558197, 0.35266202688217163, -0.006407363805919886, 0.32579147815704346, 0.4890032112598419, 0.24470172822475433, 0.4156844913959503, -1.0174376964569092, -0.032968271523714066, 0.030895326286554337, 0.3396326005458832, -0.19756048917770386, 0.34950339794158936, -0.27334415912628174, -0.2044578343629837, -0.04013434424996376, -0.15721017122268677, -0.1302315890789032, 0.32926565408706665, -0.3996559977531433, -1.1569956541061401, -0.011336774565279484, -0.7382029891014099, -1.0785521268844604, 0.17905427515506744, -0.4155760407447815, -0.3079967796802521, -1.1551824808120728, -1.0710254907608032, -0.7575139999389648, 0.05000590533018112, -1.0988373756408691, 0.47629210352897644, -0.006025858223438263, -0.6049006581306458, -0.6555017828941345, -0.25765594840049744, -0.2274785041809082, 0.3850812315940857, -0.7625256180763245, 1.2881710529327393, -0.15344759821891785, -0.39417514204978943, -0.07702226936817169, 0.15951338410377502, 0.10627514123916626, -0.5725768208503723, -0.08560565114021301, -0.2228161096572876, 0.5533434748649597, -0.38032570481300354, -0.7489249110221863, -0.2305963635444641, 0.18842019140720367, 0.723800778388977, 0.28641000390052795, -0.3630847632884979, -0.3049878478050232, 1.2744348049163818, -0.6282810568809509, 0.14617016911506653, 0.5662964582443237, 0.6446927785873413, 0.5613990426063538, 0.1866651326417923, 0.5301803350448608, 0.5512179136276245, 0.43559643626213074, 0.34362325072288513, 0.3421160578727722, 0.1452343612909317, -0.42603158950805664, 0.4963420033454895, 0.2774192690849304, -0.005914692766964436, 0.07630075514316559, -1.3222862482070923, 0.6595054268836975, -1.3504266738891602, -0.380563348531723, 0.4003527760505676, 0.9734252095222473, 0.6485151648521423, -0.10670743137598038, -0.5780115127563477, 0.27856335043907166, 0.1746673732995987, 0.025017039850354195, -0.29309579730033875, -0.21263054013252258, 0.3178924322128296, 0.51600581407547, 0.1292298585176468, 0.9214128851890564, 0.05041965842247009, 0.6950132846832275, 14.86439323425293, 0.4686088562011719, 0.44124820828437805, 0.29725968837738037, 0.6618455052375793, 0.1555536389350891, -0.45362311601638794, 0.1295238584280014, -1.0950188636779785, -0.5131151080131531, 1.1516889333724976, -0.11564493924379349, 0.47099727392196655, 0.014068769291043282, 0.13971488177776337, -0.2029036581516266, -0.7722573280334473, 0.09749145060777664, 0.27238669991493225, -1.2857022285461426, 0.518618106842041, 0.16734391450881958, 0.16467922925949097, -0.08087333291769028, 0.3770996034145355, 0.903901219367981, 0.7586142420768738, -0.9885750412940979, 0.9838424324989319, -0.13008765876293182, 1.0050022602081299, 0.030274920165538788, 0.7138246297836304, 0.6722925901412964, -1.0322575569152832, -0.4509410262107849, -0.551058828830719, -1.5052560567855835, 0.07651328295469284, -0.13919132947921753, -0.9781134128570557, -0.4565376043319702, -0.5186150074005127, 0.655652642250061, 0.5060706734657288, 0.039171505719423294, -0.7214946150779724, 0.7156205773353577, 0.287677139043808, -0.371279239654541, -0.007204721216112375, 0.349038690328598, 0.14445629715919495, -0.5825902223587036, 0.12266459316015244, 0.04869451746344566, 0.008396941237151623, 0.6523372530937195, -0.34680458903312683, -0.11527183651924133, -0.4341258704662323, -0.4291529357433319, -0.27454501390457153, 0.44141849875450134, 0.3351888954639435, 0.18209098279476166, -0.25039422512054443, -0.15205197036266327, 0.882236659526825, 0.14654874801635742, -0.2784712612628937, 0.3179473280906677, 0.5331131219863892, -0.5413070917129517, 0.061183009296655655, 0.5054053068161011, -0.6690769791603088, -0.5271214246749878, -0.740850567817688, -0.07435336709022522, 0.29196563363075256, -0.9400312900543213, -0.0589849054813385, 0.18866628408432007, 0.09531532973051071, -0.6130307912826538, 0.0006142222555354238, -1.2198148965835571, -0.07786974310874939, 0.2523149251937866, -1.5274022817611694, -0.6014528274536133, 0.4198688566684723, -0.05778001621365547, -0.10374888777732849, 0.15664443373680115, 1.233738899230957, -0.628871738910675, -0.24299724400043488, -0.37788161635398865, -0.32770007848739624, 0.10172217339277267, -0.1825713962316513, -1.306882381439209, 0.4269612729549408, 0.11895516514778137, -0.21142679452896118, 0.36908066272735596, -0.01466011255979538, -0.12376965582370758, -0.7926252484321594, -0.06682708859443665, 0.844566285610199, -1.2451199293136597, 0.054621051996946335, -0.35807985067367554, -0.4777282178401947, 0.38769209384918213, 0.19679568707942963, -0.33690503239631653, 0.25231489539146423, -0.2405536025762558, -0.2593576908111572, 0.18736383318901062, -0.8046184182167053, 0.49147701263427734, 0.8743448853492737, 0.010683669708669186, -0.8049030900001526, -0.2837815284729004, 0.42849019169807434, -1.056076169013977, -0.5205108523368835, -0.04882725700736046, -0.03097967430949211, 0.09117121249437332, 0.8153660893440247, -0.9094588160514832, 1.3158957958221436, 0.4136536419391632, -0.06636013090610504, -0.5960673093795776, -0.3330127000808716, -0.8105087280273438, -0.03321250155568123, 0.033519674092531204, 1.4824496507644653, -0.5970593690872192, 0.15279482305049896, 1.2472320795059204, 0.5355397462844849, -0.3946385681629181, -0.858891487121582, 0.18303799629211426, 0.2828928232192993, -0.8827370405197144, 0.5554333925247192, -0.4773508310317993, 0.0783349946141243, 0.10759354382753372, 0.3165692090988159, 0.8944950699806213, -0.38990986347198486, -0.4312807023525238, 0.5833860635757446, -0.05794447287917137, -0.030903015285730362, -0.8217195868492126, -0.5021387338638306, -1.0945522785186768, 0.03513258695602417, -1.338716745376587, 0.3169781267642975, -1.6938327550888062, -0.3865319490432739, 0.3198246359825134, -0.3323553204536438, 0.273436963558197, 0.3526780903339386, -0.40149959921836853, -0.6818590760231018, -0.5136064887046814, -0.6479350328445435, 0.5479605793952942, 0.991115391254425, -0.8366851806640625, 0.2891365587711334, -0.03217983990907669, -0.13843213021755219, 0.24915778636932373, 0.4098682999610901, -0.6415297389030457, -0.9246593117713928, -1.0169342756271362, 0.6600821018218994, 0.28786584734916687, -0.07607804983854294, -0.23321226239204407, 0.5038291811943054, 0.10078354179859161, 0.10482648760080338, 0.23081953823566437, 0.3074357509613037, -0.8986364603042603, -0.6726962924003601, 0.5153654217720032, -1.173874020576477, -0.40428391098976135, 0.1222551092505455, -0.552010715007782, -0.13783489167690277, -0.14124652743339539, -0.18530277907848358, -1.1154289245605469, -0.7888678908348083, 0.19863258302211761, -0.8229694366455078, -0.017650805413722992, 0.0705282986164093, -0.09854470193386078, -0.7683154344558716, -0.20277398824691772, 0.059994060546159744, 0.9288968443870544, -0.3995315432548523, 0.48764580488204956, 0.7336944341659546, -0.8323911428451538, 0.04425930231809616, 0.10687697678804398, -0.029415542259812355, 0.3901735842227936, 0.13339398801326752, 0.1358412504196167, -0.23977158963680267, 0.42882493138313293, 0.5246999859809875, 0.414962500333786, -0.9066765904426575, -0.2860627770423889, 0.5117829442024231, -0.7325560450553894, -0.4601533114910126, 0.9522944092750549, -0.48492681980133057, -1.3328207731246948, 0.28712600469589233, -1.2632404565811157, -1.0594936609268188, -0.8020378351211548, 0.9961365461349487, 0.16882149875164032, -0.5520119667053223, 0.22144633531570435, -0.3129849433898926, 0.5029661655426025, 0.23902802169322968, -0.851071298122406, 0.581321656703949, -0.09197022020816803, -0.7530767917633057, 0.7553401589393616, 0.23721452057361603, -0.9484939575195312, -0.4762844443321228, -0.3939792215824127, -0.08787652105093002, 0.12163128703832626, 0.35249218344688416, -0.5319452285766602, 0.04784785583615303, 0.49434372782707214, -0.10457532852888107, 0.35686221718788147, -0.27854087948799133, -0.07165132462978363, -0.28746116161346436, 0.9053323864936829, 0.6134818196296692, -0.43737277388572693, -0.3789880871772766, 0.8402227163314819, 1.2916022539138794, -1.1283824443817139, 0.4893103241920471, -0.1644940972328186, -0.9205663204193115, 1.2823445796966553, 0.4880436956882477, 0.13961857557296753, 0.5776620507240295, -0.26398879289627075, -0.03230616822838783, 0.10561273992061615, -1.0320724248886108, -0.42886069416999817, 0.700917661190033, 0.9153634309768677, 0.5863080620765686, 0.24537229537963867, 0.3233706057071686, 1.063228726387024, -0.073292575776577, 0.6500189304351807, 0.820259153842926, 0.7064613699913025, -0.38084304332733154, -0.049669310450553894, 0.08175986260175705, 0.6258395910263062, -0.4885358214378357, -0.7106150984764099, -0.018535474315285683, 0.7972511053085327, -0.08133545517921448, 0.9386433362960815, 0.25996503233909607, 0.24739104509353638, 0.20380450785160065, 0.3721136152744293, 0.6021186113357544, -0.8327015042304993, -0.010949116200208664, -0.3481083810329437, -0.07985340058803558, -0.12810009717941284, -0.11996728926897049, -0.34162667393684387, -1.4159804582595825, -0.2168309986591339, 0.3226122558116913, 0.09600330144166946, 0.2095431238412857, 1.6941839456558228, 0.2603474259376526, 0.568138062953949, -0.5100522637367249, -0.22961091995239258, -0.7619004249572754, -0.8798677921295166, 0.023532027378678322, -0.7871294617652893, -0.3350833058357239, -0.6198760271072388, -0.3517698049545288, -0.37222856283187866]}, "authors": [{"authorId": "2267150079", "name": "Fei Yu"}, {"authorId": "2266840612", "name": "Anningzhe Gao"}, {"authorId": "2267007505", "name": "Benyou Wang"}], "references": [{"paperId": "84c03d0ec9dd00de3dc7ea7577ceefc9f093c564", "title": "MuggleMath: Assessing the Impact of Query and Response Augmentation on Math Reasoning"}, {"paperId": "e8df1cf6742b50a15500b8dd3dde3942e9c91418", "title": "Alphazero-like Tree-Search can Guide Large Language Model Decoding and Training"}, {"paperId": "dd18782960f9ee4c66b79e1518b342ad3f8d19e7", "title": "WizardMath: Empowering Mathematical Reasoning for Large Language Models via Reinforced Evol-Instruct"}, {"paperId": "1dbd58bd8768ba0dada2e7c84aa2fe0b9f418ebc", "title": "Solving Challenging Math Word Problems Using GPT-4 Code Interpreter with Code-based Self-Verification"}, {"paperId": "be8db99310602d66bba64bcf41a572c45816fbfc", "title": "Let's Verify Step by Step"}, {"paperId": "5dbffedcabe3fa43060ebbe2b1789500edfd871f", "title": "Reasoning with Language Model is Planning with World Model"}, {"paperId": "574beee702be3856d60aa482ec725168fe64fc99", "title": "Sparks of Artificial General Intelligence: Early experiments with GPT-4"}, {"paperId": "7715ba5e75f5256e1061c7473afe61bb0dbb9065", "title": "Large Language Models are Better Reasoners with Self-Verification"}, {"paperId": "6d7b8a478801bd9d21df82d5f33ae6eced90da5e", "title": "Solving math word problems with process- and outcome-based feedback"}, {"paperId": "d33504263ff0b263a1562075711264228d83b181", "title": "Solving Math Word Problems via Cooperative Reasoning induced Language Models"}, {"paperId": "3fa70115248377c3d1517c9f978791a296fbc1dd", "title": "Large Language Models Can Self-Improve"}, {"paperId": "663a41c866d49ce052801fbc88947d39764cad29", "title": "Challenging BIG-Bench Tasks and Whether Chain-of-Thought Can Solve Them"}, {"paperId": "e070ff286709db28312e08b52b05539debe88146", "title": "Measuring and Narrowing the Compositionality Gap in Language Models"}, {"paperId": "e826ac71dad8c4ce36d82fb7add43e3d306bb7e1", "title": "Making Language Models Better Reasoners with Step-Aware Verifier"}, {"paperId": "87c5b281fa43e6f27191b20a8dd694eda1126336", "title": "FlashAttention: Fast and Memory-Efficient Exact Attention with IO-Awareness"}, {"paperId": "d48b29889241551e1ee6622fa78c3fa4159255dd", "title": "Selection-Inference: Exploiting Large Language Models for Interpretable Logical Reasoning"}, {"paperId": "d6045d2ccc9c09ca1671348de86d07da6bc28eea", "title": "Training Verifiers to Solve Math Word Problems"}, {"paperId": "4698fc4712f0212c8a3810fd67b41ee8b8896aba", "title": "Generate & Rank: A Multi-task Framework for Math Word Problems"}, {"paperId": "760561c57f68044e2f1d089088df1da6c627b09a", "title": "On the Advance of Making Language Models Better Reasoners"}, {"paperId": "97efafdb4a3942ab3efba53ded7413199f79c054", "title": "Reinforcement Learning: An Introduction"}, {"paperId": null, "title": "2023. Tree of thoughts: Deliberate problem solving with large language models"}, {"paperId": null, "title": "2023. Discriminator-guided multi-step reasoning with language models"}, {"paperId": null, "title": "2023. De-composition enhances reasoning via self-evaluation guided decoding"}, {"paperId": null, "title": "2023. Meta-math: Bootstrap your own mathematical questions for large language models"}, {"paperId": null, "title": "2023. Tora: A tool-integrated reasoning agent for mathematical problem solving"}, {"paperId": null, "title": "better parallelism and work partitioning"}]}