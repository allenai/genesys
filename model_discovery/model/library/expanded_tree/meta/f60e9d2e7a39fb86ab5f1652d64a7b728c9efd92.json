{"paperId": "f60e9d2e7a39fb86ab5f1652d64a7b728c9efd92", "abstract": "Comments, or natural language descriptions of source code, are standard practice among software developers. By communicating important aspects of the code such as functionality and usage, comments help with software project maintenance. However, when the code is modified without an accompanying correction to the comment, an inconsistency between the comment and code can arise, which opens up the possibility for developer confusion and bugs. In this paper, we propose two models based on BERT (Devlin et al., 2019) and Longformer (Beltagy et al., 2020) to detect such inconsistencies in a natural language inference (NLI) context. Through an evaluation on a previously established corpus of comment-method pairs both during and after code changes, we demonstrate that our models outperform multiple baselines and yield comparable results to the state-of-the-art models that exclude linguistic and lexical features. We further discuss ideas for future research in using pretrained language models for both inconsistency detection and automatic comment updating.", "venue": "arXiv.org", "year": 2022, "citationCount": 3, "influentialCitationCount": 1, "openAccessPdf": {"url": "http://arxiv.org/pdf/2207.14444", "status": "GREEN"}, "tldr": {"model": "tldr@v2.0.0", "text": "This paper proposes two models based on BERT and Longformer to detect inconsistencies in a natural language inference (NLI) context and demonstrates that their models outperform multiple baselines and yield comparable results to the state-of-the-art models that exclude linguistic and lexical features."}, "embedding": {"model": "specter_v2", "vector": [-0.3084743320941925, 0.6986358761787415, -0.7913650870323181, -0.07310229539871216, -0.06077834963798523, -0.5925980806350708, 0.8606946468353271, 0.5416334867477417, -0.021298039704561234, -0.0926203802227974, 0.4194229245185852, -0.27893733978271484, 0.5732263922691345, 0.4914519488811493, -0.20422965288162231, 0.2996610999107361, -0.3293932378292084, 0.06694210320711136, 0.15619541704654694, 0.09401009976863861, 0.6545063853263855, -1.2289613485336304, -0.6616595983505249, 0.07027238607406616, 0.5464031100273132, 0.08257757872343063, -0.20977135002613068, 0.5626838803291321, -0.7246702313423157, 0.35715624690055847, 0.27719739079475403, -0.7849763035774231, 0.0641239807009697, -0.161418616771698, 0.04454314708709717, -0.2528347074985504, 0.28398922085762024, -0.3406599462032318, 0.5006328821182251, 1.1738221645355225, -0.41906672716140747, -0.11226321011781693, 0.7034226059913635, -0.7722072601318359, -0.6626232862472534, 1.5668710470199585, -0.008450688794255257, 0.8532317876815796, 0.3487045168876648, -0.27674296498298645, 0.996229350566864, -1.5451651811599731, 0.5084767937660217, 1.1330642700195312, 0.6722307801246643, 0.3680468499660492, -0.3954494297504425, -0.3285176753997803, 0.4621247351169586, -0.16415297985076904, -1.110327959060669, 0.06393204629421234, -0.12351644784212112, -0.9802283048629761, 1.7309608459472656, -0.7638262510299683, -0.4308335781097412, 0.33733898401260376, 0.4693051874637604, 0.6728127598762512, -0.4079599678516388, -0.6993968486785889, 0.07039137184619904, 0.7126932144165039, 0.19121000170707703, 0.5506036877632141, -0.08292420208454132, 0.17740781605243683, -0.7031710147857666, -0.4566247761249542, 0.3067440688610077, -0.32300087809562683, -0.308387815952301, -0.05763697251677513, -0.3800862729549408, 0.46369317173957825, -0.13743290305137634, 0.8331302404403687, 0.159203439950943, 0.6302252411842346, 0.36491599678993225, 0.32248711585998535, 0.21420812606811523, 0.5786272883415222, -0.4316575825214386, 0.22445745766162872, -0.4810822010040283, 0.3190340995788574, 0.2732796370983124, 0.9206669330596924, -0.05502811446785927, 0.47853291034698486, -0.656934916973114, 0.3924421966075897, 1.3801711797714233, -0.04557623341679573, 0.37925171852111816, -0.5572274327278137, 0.008714533410966396, 0.11364677548408508, 0.5473827123641968, -0.8531475067138672, -0.18762363493442535, -0.17459364235401154, -0.6080197691917419, -0.3796176314353943, -0.5221269726753235, -0.03495069965720177, -0.06212054193019867, 0.44404128193855286, -0.4793766736984253, -0.36039531230926514, -0.08134477585554123, 0.41630667448043823, 0.6574978828430176, 0.2895989716053009, 0.02444463036954403, -0.03972889110445976, 0.3018493056297302, -0.9598577618598938, -0.6822535991668701, -0.9600152373313904, 0.8828735947608948, -0.40894120931625366, -0.21008355915546417, -0.343975305557251, -1.1093635559082031, -1.007763147354126, -0.8343991637229919, 0.39267125725746155, -0.31585413217544556, 0.406593918800354, 0.5930599570274353, 0.15774987637996674, -0.7943828105926514, 0.5790858268737793, 0.0752360075712204, -0.06261882185935974, 0.08692464232444763, -0.16796067357063293, 0.36722996830940247, -0.08986860513687134, -0.8057250380516052, 0.552007257938385, 0.2092149257659912, -0.47760963439941406, -0.19538801908493042, -0.6409788727760315, -1.1809093952178955, -0.3527015149593353, 0.6118770241737366, -0.15816687047481537, 1.8360756635665894, -0.8071080446243286, -0.7768937945365906, 0.3032691776752472, -0.057767804712057114, 0.33338823914527893, 0.45259854197502136, 0.17065834999084473, -0.6620323657989502, -1.180297613143921, 0.465497761964798, 0.48723140358924866, 0.5474562048912048, -0.36594271659851074, -0.34334179759025574, 0.6319447755813599, 0.5282840132713318, -0.7169303297996521, -0.027358869090676308, 0.9834179282188416, -0.2006959319114685, -0.08903619647026062, -0.10943514108657837, 0.9836816191673279, 0.10460097342729568, 0.4690415561199188, -0.13661105930805206, -1.398124098777771, 0.30621951818466187, 0.018935183063149452, 1.30856454372406, -0.9963712096214294, -0.5419018864631653, -0.4536036252975464, -0.13193947076797485, -0.11730758100748062, -0.5859869122505188, 0.4270026981830597, -0.8526901602745056, 1.0198397636413574, -0.934903621673584, -0.7322534322738647, -0.15477243065834045, -0.39872246980667114, 0.14206236600875854, 0.27203989028930664, 0.28855693340301514, 1.1001631021499634, -0.8708338141441345, 0.293215274810791, -0.2952415645122528, -0.3014851212501526, -1.1652791500091553, 1.0870572328567505, -0.8612438440322876, 0.1742468923330307, 0.34103772044181824, -0.27459582686424255, 0.848470151424408, -0.1948321908712387, 0.07780304551124573, -0.1736380010843277, -1.015751838684082, 0.5941068530082703, -0.4163740277290344, 1.796257734298706, -0.1904291808605194, 0.4482221305370331, 0.030226968228816986, -0.4667723774909973, 0.26956868171691895, 0.557924747467041, -0.2575420141220093, -0.2772732377052307, 0.11171839386224747, 0.419757217168808, -0.35438933968544006, -0.7898705005645752, -0.03472958877682686, 0.7982774376869202, -0.28691044449806213, 1.0277974605560303, 0.3969975411891937, -0.37377309799194336, 0.6401121020317078, 0.4115016460418701, 0.5811138153076172, 0.42054882645606995, 0.9576969742774963, -0.17666584253311157, 0.8395159244537354, -0.32597076892852783, -0.0702899619936943, 0.16706649959087372, 0.7186905145645142, 0.7050649523735046, 0.8784921169281006, -0.7529975175857544, -0.2564125061035156, 0.082603320479393, 0.4600910544395447, 1.037979006767273, 0.0975351557135582, -0.27116110920906067, -0.2848968505859375, -0.8203403949737549, -0.03732088953256607, 0.38900455832481384, -0.7634149193763733, -0.3234722912311554, -0.743912935256958, -0.3728749454021454, 0.7228736877441406, 0.4348948001861572, 0.9229574799537659, -0.31484073400497437, -0.2738451659679413, -0.2420462965965271, 0.17065422236919403, -0.12470803409814835, -0.7510245442390442, 0.11037631332874298, 0.20340731739997864, -0.48825904726982117, 0.3442152440547943, -0.35467728972435, 0.7614243030548096, -0.6858759522438049, 1.310992956161499, 0.0799441710114479, -0.5453987717628479, -0.2001480758190155, -0.007175050210207701, -0.5803031325340271, -1.3144367933273315, -0.1886911541223526, -0.11088923364877701, -0.75993812084198, 0.45059478282928467, 0.6137723326683044, 0.3366428315639496, 0.31343311071395874, -0.9893270134925842, 0.18497778475284576, -0.23886682093143463, 0.46059027314186096, -0.3227411210536957, 0.012415369972586632, 0.0996493324637413, -1.2139182090759277, 0.7178820967674255, -0.37962716817855835, -0.8721857666969299, -0.03296739235520363, -0.974986732006073, -0.30673539638519287, 0.3708692789077759, -0.3343825042247772, -0.6220381855964661, -1.3921488523483276, 0.17108245193958282, 0.6642849445343018, -0.31436532735824585, 0.8670603632926941, 0.6369048357009888, 0.14922039210796356, 0.877118706703186, -0.1670764535665512, 0.33162248134613037, -0.30245378613471985, 0.3729543089866638, -0.26324576139450073, 0.6271487474441528, 0.3615029454231262, 0.4734359383583069, -0.18741601705551147, -0.8249462246894836, 0.1760951429605484, -0.440582811832428, -0.48807796835899353, -0.5129549503326416, -0.32946833968162537, -0.0980537161231041, -0.7102699279785156, -0.5076491236686707, -0.2449219524860382, -1.8294503688812256, -0.0883978083729744, 0.15648511052131653, -0.3723008930683136, 0.24497514963150024, -0.5933283567428589, -0.5637291073799133, -0.6119111776351929, -0.2294933944940567, -0.5381441116333008, 0.2075011134147644, -0.028053518384695053, -0.48364725708961487, -0.5182765126228333, 0.42637068033218384, -0.6357493996620178, 0.9246415495872498, -0.6116795539855957, 1.0848021507263184, 0.35241979360580444, 0.009473721496760845, -0.006010100711137056, -0.18925684690475464, 0.5921831130981445, -0.11408862471580505, 0.5616017580032349, 0.02793503925204277, 0.40278807282447815, -0.03842602297663689, -0.26465654373168945, -0.3602776527404785, -0.019949916750192642, 0.6267367601394653, 0.050293318927288055, -0.1360606998205185, -0.18747864663600922, 1.7571885585784912, -0.9823168516159058, -0.3369112014770508, 0.10808300226926804, 0.5203268527984619, 0.7016420364379883, 0.05118725448846817, 0.9737167358398438, 0.22184503078460693, 0.7204195261001587, 0.8175529837608337, 0.02990211918950081, 0.0022234285715967417, 0.024992940947413445, 0.44002828001976013, 0.8891998529434204, 0.2359473556280136, -0.06326685100793839, -1.4179435968399048, 0.745621919631958, -1.4255694150924683, -0.3664889931678772, -0.31715497374534607, 0.5662647485733032, 0.46279481053352356, -0.5440613627433777, -0.5265701413154602, -0.25194084644317627, 0.44453126192092896, -0.0922035425901413, -0.3230920135974884, -0.8528420925140381, 0.31940096616744995, -0.3268260657787323, 0.09495431929826736, 0.4708822965621948, -0.28864744305610657, 0.06833930313587189, 14.66921615600586, -0.1821363866329193, 0.4479741156101227, 0.8645222783088684, -0.06256310641765594, 0.6816089749336243, -0.9265747666358948, -0.13380925357341766, -1.1699953079223633, -0.2003406435251236, 0.7947202920913696, -0.28270530700683594, 0.11224371194839478, 0.4689510762691498, 0.30920061469078064, -0.7125563025474548, -0.7278082966804504, 0.4671734571456909, 1.2857612371444702, -1.4569873809814453, 0.1933116763830185, -0.3074054419994354, 0.9520301818847656, 0.5071346759796143, 0.3436028063297272, 0.5620730519294739, 0.24605944752693176, -0.23424912989139557, 0.8384348154067993, -0.29966917634010315, 0.8247086405754089, 0.1684200018644333, 1.2530220746994019, 0.7392085194587708, -0.7064270973205566, -0.5193405747413635, -0.939792811870575, -1.42527174949646, 0.21386979520320892, 0.34006303548812866, -0.7770208716392517, -0.25300389528274536, -0.2946088910102844, 1.2842426300048828, -0.3690658509731293, 0.8406451940536499, -0.8003861308097839, 0.24710769951343536, 0.5627789497375488, 0.10224192589521408, -0.33853691816329956, 0.5460625290870667, 0.2636565864086151, 0.16548565030097961, -0.23408369719982147, -0.33548620343208313, 0.0979011207818985, 1.203305959701538, -0.6776481866836548, 0.0293011162430048, -0.27733510732650757, -0.3311167061328888, -0.5585187077522278, 0.41434890031814575, 0.5201489329338074, 0.34054985642433167, -0.7885732650756836, 0.26611563563346863, 0.5504152774810791, 0.2029176503419876, -0.7701672911643982, 0.23130390048027039, 0.4301733076572418, 0.04133730009198189, -0.3315551280975342, 0.35008323192596436, -0.4815424382686615, -0.6750268936157227, -0.44515031576156616, 0.020236879587173462, 0.1746378391981125, -0.8031306862831116, -0.8986889123916626, 0.5542297959327698, -0.18754544854164124, -1.1506433486938477, 0.04187100753188133, -0.5831043124198914, -0.5318717360496521, 0.3683664798736572, -1.5741968154907227, -0.25282907485961914, -0.163326695561409, -0.3255901038646698, 0.08419089019298553, 0.04321451112627983, 1.3102346658706665, -0.015269886702299118, 0.05762120708823204, -0.056025806814432144, -0.0035202554427087307, -0.015868401154875755, 0.6137819290161133, -0.9436482787132263, 0.6016521453857422, 0.3935892879962921, -0.5366442203521729, 0.5993784070014954, 0.1710614264011383, -0.20646820962429047, -0.16252322494983673, -0.2689138948917389, 0.5634681582450867, -0.9065832495689392, 0.010673903860151768, -0.6643954515457153, -0.8110719323158264, 0.018925819545984268, 0.8203878402709961, -0.3689667284488678, 0.6768715977668762, -0.05223016068339348, -1.0801331996917725, 0.4110700190067291, -0.7374955415725708, -0.2063492387533188, 0.5636606812477112, -0.5305643677711487, -0.7486304044723511, 0.3323152959346771, 0.13151045143604279, -0.6605380773544312, -0.3593164384365082, 0.07850250601768494, -0.20190410315990448, -0.29803913831710815, 0.22427693009376526, -0.06054339185357094, 1.2397825717926025, 0.09451496601104736, 0.6257085800170898, -0.8243741989135742, -0.34361931681632996, -0.6205942034721375, 0.5428572297096252, 0.1389966607093811, 1.4707279205322266, -0.10300685465335846, -0.2440708875656128, 0.9003623127937317, -0.07670899480581284, -0.04919445887207985, -0.6497369408607483, -0.16308477520942688, 0.40111488103866577, -0.46261459589004517, -0.20055383443832397, 0.1209171861410141, 0.6752737164497375, -0.1476677805185318, 0.32412901520729065, 0.5847455263137817, -0.6901673674583435, -0.43681618571281433, 0.7154252529144287, -0.5003373026847839, -0.21587885916233063, -0.44682028889656067, -0.309370219707489, -1.1664530038833618, 0.465758740901947, -0.9022423624992371, 0.8107481598854065, -0.9780687093734741, -0.039890144020318985, 0.6526561975479126, 0.1821879893541336, 0.0795641615986824, 0.3108876645565033, -0.3674790859222412, -1.2305408716201782, -0.08073645085096359, -0.6881204843521118, 0.6040759682655334, 0.3494735360145569, -0.923360288143158, 0.14399243891239166, -0.23270101845264435, 0.08512852340936661, 0.4301246106624603, 0.37879136204719543, -0.5820889472961426, -0.3659099340438843, -1.4842302799224854, 1.1927579641342163, -0.5936563611030579, -0.04081675410270691, -0.4542390704154968, 0.792206346988678, 0.3656468093395233, -0.591080367565155, 0.1948222815990448, -0.4486019015312195, -0.7974893450737, -0.5665027499198914, 0.47558847069740295, -1.0001070499420166, 0.37416839599609375, 0.15185579657554626, -0.4348370134830475, -0.2253943830728531, -0.10677248984575272, -0.023909538984298706, -0.9647958278656006, -0.3505551815032959, 0.14728878438472748, -1.2805742025375366, 0.07537100464105606, 0.11618567258119583, 0.02935977093875408, -1.296434760093689, -0.06198354810476303, 0.5119933485984802, 0.3974168002605438, 0.14565837383270264, 1.4052823781967163, 0.03829401358962059, -0.7339280247688293, -0.09835752099752426, 0.4511021077632904, 0.7279056310653687, -0.10907653719186783, 0.10052358359098434, 0.47683635354042053, -0.48321425914764404, 0.24002721905708313, 0.2443414330482483, 0.05010947585105896, -0.6565070748329163, 0.01870601810514927, 0.31112536787986755, 0.2485762983560562, -0.17874622344970703, 1.3162882328033447, -0.4096737504005432, -1.080867886543274, 0.15493609011173248, -1.0193313360214233, -0.7247580885887146, -0.6196036338806152, 0.8733891248703003, -0.2823325991630554, -0.055990010499954224, -0.019545143470168114, -0.5155827403068542, -0.007549986708909273, -0.03802473843097687, -0.2981858253479004, 0.6466116905212402, -0.2318287342786789, -0.916893482208252, 0.9977736473083496, 0.49715667963027954, -0.3275633752346039, -0.08060047775506973, -0.15035182237625122, -0.19933480024337769, -0.4631143808364868, -0.05471500754356384, -0.8381631970405579, -0.2879179120063782, 0.4276495575904846, 0.15018174052238464, 0.11099966615438461, -0.31879693269729614, 0.18474994599819183, -0.8127081990242004, 0.3232772648334503, 0.06451161205768585, -0.78348708152771, -0.18847323954105377, 1.0143990516662598, 1.5485881567001343, -1.5005948543548584, 0.31057339906692505, -0.566015899181366, -0.21782001852989197, 1.205118179321289, 0.8325859904289246, 0.14346449077129364, 1.2113090753555298, 0.01901068352162838, 0.018676863983273506, -0.004883823916316032, -0.9605644345283508, 0.1443398892879486, 0.23850516974925995, 1.0847046375274658, 1.395392894744873, 0.024823075160384178, -0.8127372860908508, 0.7361170053482056, 0.6777576804161072, 0.2504359483718872, 1.4711713790893555, 0.5117673277854919, 0.14464420080184937, -0.5819895267486572, 0.4048458933830261, 0.5527623295783997, -0.23103919625282288, -0.59193354845047, -0.1727517545223236, 0.1620882898569107, 0.8797160983085632, 0.9693729877471924, 0.2885201871395111, 0.37808462977409363, 0.1749526560306549, 0.15572670102119446, -0.2684715986251831, -1.3176019191741943, -0.8387151956558228, -0.4556272625923157, -0.26538124680519104, -0.23498038947582245, -0.8368987441062927, -0.49776691198349, -0.5194945931434631, 0.27624210715293884, -0.43928536772727966, 0.41684260964393616, 0.6698448061943054, 1.2557117938995361, 0.44061025977134705, 0.3466380834579468, -0.49622640013694763, -0.007877063006162643, -0.3159541189670563, -1.39156973361969, 0.07732260227203369, -0.5374143719673157, -0.5013723969459534, -0.5221105217933655, -0.7700019478797913, 0.18376140296459198]}, "authors": [{"authorId": "2179707673", "name": "Theo Steiner"}, {"authorId": "144142354", "name": "Rui Zhang"}], "references": [{"paperId": "72360dea1360382c0cbe4534c9e14b8f846815ef", "title": "HatCUP: Hybrid Analysis and Attention based Just-In-Time Comment Updating"}, {"paperId": "03b6e258168796f96f1c40d32411bd699b6de922", "title": "Deep Just-In-Time Inconsistency Detection Between Comments and Source Code"}, {"paperId": "4083958684292f6fa2f5c7fd4f9be975e80145b6", "title": "GraphCodeBERT: Pre-training Code Representations with Data Flow"}, {"paperId": "e16732d74306d75c149025afc6557c3595664d5a", "title": "Detecting Code Comment Inconsistency using Siamese Recurrent Network"}, {"paperId": "a266b37f98928f27fddd863d11b38a5563043315", "title": "Learning to Update Natural Language Comments Based on Code Changes"}, {"paperId": "925ad2897d1b5decbea320d07e99afa9110e09b2", "title": "Longformer: The Long-Document Transformer"}, {"paperId": "0fe2636446cd686830da3d971b31a004d6094b3c", "title": "CodeBERT: A Pre-Trained Model for Programming and Natural Languages"}, {"paperId": "077f8329a7b6fa3b7c877a57b81eb6c18b5f87de", "title": "RoBERTa: A Robustly Optimized BERT Pretraining Approach"}, {"paperId": "07bb8b93b2b448ec943b861c58bc357a54575c66", "title": "A Large-Scale Empirical Study on Code-Comment Inconsistencies"}, {"paperId": "1d56926ed44c0e703d55170822a4385a9c8e8ee5", "title": "Automatic Detection of Outdated Comments During Code Changes"}, {"paperId": "6bda1c64e92fce62a168973a015c84572d1ffb0d", "title": "Measuring Program Comprehension: A Large-Scale Field Study with Professionals"}, {"paperId": "1e1855ca80e8ac3de0e169871f320416902e9ad1", "title": "Generalized Cross Entropy Loss for Training Deep Neural Networks with Noisy Labels"}, {"paperId": "cc43bbeb3ec847249340f40c32633f4e1ac1d58b", "title": "[Journal First] Measuring Program Comprehension: A Large-Scale Field Study with Professionals"}, {"paperId": "8fa1c2b2c3340e7198406eb7942b6f315aa5d1c0", "title": "Detecting fragile comments"}, {"paperId": "204e3073870fae3d05bcbc2f6a8e263d9b72e776", "title": "Attention is All you Need"}, {"paperId": "8c453edad87f3a28a0702fde1928bc5c1438f84f", "title": "Analyzing APIs Documentation and Code to Detect Directive Defects"}, {"paperId": "88c72198dc0592a8891c15e224bd1bb211cce1e3", "title": "Coherence of comments and method implementations: a dataset and an empirical investigation"}, {"paperId": "492f57ee9ceb61fb5a47ad7aebfec1121887a175", "title": "Gated Graph Sequence Neural Networks"}, {"paperId": "1518039b5001f1836565215eb047526b3ac7f462", "title": "Neural Machine Translation of Rare Words with Subword Units"}, {"paperId": "a6cb366736791bcccc5c8639de5a8f9636bf87e8", "title": "Adam: A Method for Stochastic Optimization"}, {"paperId": "0b544dfe355a5070b60986319a3f51fb45d1348e", "title": "Learning Phrase Representations using RNN Encoder\u2013Decoder for Statistical Machine Translation"}, {"paperId": "4a22df4834f6aa33555a23799ad8946fa5a087b3", "title": "On the relationship between comment update practices and Software Bugs"}, {"paperId": "ed6262b569c0a62c51d941228c54f34e563af022", "title": "Japanese and Korean voice search"}, {"paperId": "e59ad978f7cb48e5091d74ee6259068d407d1ebf", "title": "@tComment: Testing Javadoc Comments to Detect Comment-Code Inconsistencies"}, {"paperId": "d8138bcf285547b1b0939c9ad86ecd97a1b82621", "title": "/*icomment: bugs or bad comments?*/"}, {"paperId": "889be1c696cea6b67127e6c5cce53d73035d0700", "title": "Examining the evolution of code comments in PostgreSQL"}, {"paperId": "2e9d221c206e9503ceb452302d68d10e293f2a10", "title": "Long Short-Term Memory"}, {"paperId": "df2b0e26d0599ce3e70df8a9da02e51594e0e992", "title": "BERT: Pre-training of Deep Bidirectional Transformers for Language Understanding"}]}