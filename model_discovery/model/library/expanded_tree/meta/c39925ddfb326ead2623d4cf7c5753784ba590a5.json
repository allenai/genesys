{"paperId": "c39925ddfb326ead2623d4cf7c5753784ba590a5", "abstract": "Programming-based Pre-trained Language Models (PPLMs) such as CodeBERT have achieved great success in many downstream code-related tasks. Since the memory and computational complexity of self-attention in the Transformer grow quadratically with the sequence length, PPLMs typically limit the code length to 512. However, codes in real-world applications are generally long, such as code searches, which cannot be processed efficiently by existing PPLMs. To solve this problem, in this paper, we present SASA, a Structure-Aware Sparse Attention mechanism, which reduces the complexity and improves performance for long code understanding tasks. The key components in SASA are top-k sparse attention and Abstract Syntax Tree (AST)-based structure-aware attention. With top-k sparse attention, the most crucial attention relation can be obtained with a lower computational cost. As the code structure represents the logic of the code statements, which is a complement to the code sequence characteristics, we further introduce AST structures into attention. Extensive experiments on CodeXGLUE tasks show that SASA achieves better performance than the competing baselines.", "venue": "Annual International ACM SIGIR Conference on Research and Development in Information Retrieval", "year": 2022, "citationCount": 2, "influentialCitationCount": 0, "openAccessPdf": {"url": "https://arxiv.org/pdf/2205.13730", "status": "GREEN"}, "tldr": {"model": "tldr@v2.0.0", "text": "This paper presents SASA, a Structure-Aware Sparse Attention mechanism, which reduces the complexity and improves performance for long code understanding tasks, and introduces AST structures into attention."}, "embedding": {"model": "specter_v2", "vector": [-0.12295926362276077, 0.5564481616020203, -0.6583057641983032, -0.12459462136030197, 0.017361238598823547, -0.7372282147407532, -0.05453133210539818, 0.46370789408683777, 0.21923302114009857, -0.43493422865867615, 0.5331069827079773, -0.38560953736305237, 0.6544260382652283, -0.08344004303216934, -0.490651935338974, 0.5995267629623413, -0.705663800239563, -0.2187262773513794, 0.10581954568624496, -0.09941591322422028, 0.5223858952522278, -0.9942725300788879, -1.006237506866455, 0.5765711665153503, 1.1661062240600586, 0.3703799843788147, 0.20492598414421082, 0.7607713341712952, -0.7397709488868713, 1.002609133720398, 0.6867020726203918, -0.3799070119857788, -0.13929355144500732, 0.10380527377128601, -0.6120700836181641, -0.3205562233924866, 0.20763486623764038, 0.028250964358448982, -0.10709840059280396, 0.9947690963745117, -0.7205700874328613, -0.09219586849212646, 0.17159876227378845, -0.6759629845619202, -0.07617055624723434, 1.1019610166549683, 0.27687376737594604, 0.7126182317733765, -0.16365624964237213, -0.2948397696018219, 1.4820505380630493, -0.8649587035179138, -0.08224571496248245, 0.997908353805542, 0.5338344573974609, 0.3403129279613495, -0.1926874965429306, -0.1109042540192604, 0.45921269059181213, -0.14699894189834595, -0.9381182193756104, -0.4224570393562317, -0.4262111186981201, -0.5775439739227295, 2.6506807804107666, -0.4913334250450134, -0.21139632165431976, -0.12798653542995453, 0.18738430738449097, 1.17156183719635, -0.37269753217697144, -0.5233765840530396, -0.25845596194267273, -0.04101536422967911, 0.6668592691421509, 1.1899913549423218, -0.11803809553384781, 0.07572171837091446, -0.550439178943634, -0.20806251466274261, 0.3888029158115387, 0.01702626794576645, 0.06672706454992294, -0.6132686734199524, -0.3056802451610565, 0.45482659339904785, 0.3642320930957794, 1.0273970365524292, 0.19393546879291534, 0.864528477191925, 0.7317540645599365, 0.22812087833881378, -0.5239011645317078, 0.9772521257400513, -0.33761322498321533, -0.26634082198143005, -0.9705938696861267, -0.1564270555973053, 0.060910046100616455, 1.1631089448928833, -0.029779337346553802, 0.7707846760749817, -0.5139511823654175, 0.06636159867048264, 1.067052960395813, 0.1298212856054306, 0.3492509424686432, -0.6085233092308044, 0.3955273926258087, 0.12793797254562378, -0.31229233741760254, -0.5105471014976501, 0.13382567465305328, -0.43466973304748535, -0.46825847029685974, -0.9069417119026184, -0.47148892283439636, 0.03339248523116112, -0.5341641306877136, 0.5427076816558838, -0.4264674186706543, 0.1406802088022232, 0.26255613565444946, 0.02587742917239666, 0.7097682952880859, 0.7071293592453003, 0.19647522270679474, 0.286598265171051, 0.9245430827140808, -1.1218258142471313, -0.2123209536075592, -1.4069725275039673, 1.0476460456848145, -0.14634862542152405, 0.0030107139609754086, -0.29296451807022095, -1.3275384902954102, -0.9736953973770142, -0.8563574552536011, -0.006562141235917807, -0.5437183976173401, 0.26742586493492126, 0.8590439558029175, 0.46012744307518005, -1.1935747861862183, 0.8135243654251099, -0.5741342902183533, -0.14941971004009247, 0.34104469418525696, -0.08721219003200531, 0.5570944547653198, -0.21556513011455536, -0.893688976764679, -0.1459030658006668, 0.505557119846344, -1.0925824642181396, -0.6034210920333862, -0.881233274936676, -1.9527281522750854, 0.4710024297237396, 0.6860213875770569, -0.14329063892364502, 1.2899610996246338, 0.08509636670351028, -0.8031550049781799, 0.7405625581741333, -0.31692561507225037, -0.0855393335223198, -0.3611343801021576, -0.11841317266225815, -0.1884450614452362, -0.5414252281188965, -0.08872469514608383, -0.14218969643115997, 0.43164724111557007, -0.5031673908233643, -0.27789226174354553, 0.4171946048736572, 0.1432081162929535, -0.4829344153404236, -0.2142605483531952, 1.13946533203125, -0.3620280921459198, -0.05378805845975876, -0.029666267335414886, 0.7685377597808838, 0.2906441390514374, -0.3268245458602905, -0.2813747525215149, -0.9162934422492981, 0.5363706350326538, 0.01632211171090603, 1.6487514972686768, -1.2614336013793945, -0.48729056119918823, -0.4009380042552948, -0.051951829344034195, 0.09247508645057678, -0.47583746910095215, 0.5169603824615479, -0.8883041143417358, 0.46900951862335205, -0.6928796172142029, -0.5118147730827332, -0.08918043971061707, -0.2822488844394684, -0.7910619378089905, -0.326668381690979, -0.012174236588180065, 1.0454607009887695, -1.2281646728515625, 0.024851780384778976, -0.06649898737668991, -0.09192357957363129, -1.2233558893203735, 1.4854857921600342, -0.5141039490699768, -0.2849917709827423, -0.3042914569377899, -0.02351369522511959, -0.032901402562856674, -0.6074944138526917, 0.1760522574186325, -0.30637258291244507, -0.3536113500595093, 0.4724789261817932, 0.031398627907037735, 1.320177674293518, -0.8071311712265015, 0.30976399779319763, -0.029517322778701782, -0.6154165267944336, 0.3366193473339081, 0.45591825246810913, -0.1732267290353775, 0.05649711936712265, 0.018845215439796448, 0.3057589530944824, -0.51998370885849, -0.38674071431159973, 0.32144731283187866, 0.894741952419281, -0.4467765986919403, 0.6521594524383545, 0.371224582195282, -0.6262690424919128, 0.4073721468448639, 0.5216498970985413, 1.0732991695404053, 0.3376641273498535, 1.086265206336975, -0.25569775700569153, 0.7805861830711365, -0.36386969685554504, 0.0031343025621026754, 0.29176411032676697, 0.7847532629966736, 0.8474907875061035, 0.724701464176178, -0.8193705677986145, -0.41844943165779114, 0.37243372201919556, 0.8600957989692688, 1.5839269161224365, -0.030520522966980934, -0.5426326990127563, -0.9268530011177063, -0.8177657127380371, -0.2540736198425293, 0.6485511064529419, -0.12354356795549393, -0.49205437302589417, -0.6801859736442566, -0.6812371611595154, 0.8256487846374512, 0.7804772257804871, 1.3109487295150757, -0.5955150127410889, -0.7397019267082214, -0.41843798756599426, 0.3649064302444458, -0.8122789859771729, -0.8366138935089111, 0.579334557056427, -0.46257323026657104, -0.4452194273471832, 0.6073209047317505, -0.3748403787612915, 0.5261853337287903, -0.6275233626365662, 1.1914621591567993, 0.2249320149421692, -0.3754742443561554, 0.3125477731227875, 0.40642109513282776, -0.35212311148643494, -0.8725141882896423, 0.5147877931594849, -0.23715706169605255, -0.4688841700553894, 0.5974613428115845, 0.5829086303710938, 0.4610717296600342, 0.0858272835612297, -0.3430975675582886, 0.022255349904298782, 0.14038757979869843, -0.13423605263233185, 0.14903807640075684, 0.19580861926078796, -0.6475535035133362, -1.2741988897323608, 0.39539000391960144, 0.2311657965183258, -0.5245822668075562, 0.41056814789772034, -0.5157235264778137, -0.11881323158740997, 0.8148242831230164, -0.23839257657527924, -0.32750532031059265, -0.8879878520965576, 0.4628380835056305, 0.12013202905654907, -0.47332504391670227, 0.5302916169166565, 0.12096426635980606, -0.33490806818008423, 0.2404988557100296, 0.8065459132194519, 0.40405532717704773, -0.04009305313229561, -0.13738857209682465, -0.9180721044540405, 0.5413663983345032, -0.2112785428762436, 0.6848369836807251, -0.5458563566207886, -0.7337192893028259, -0.562781572341919, -0.4909918010234833, -0.3495965003967285, 0.0022143758833408356, 0.31099823117256165, 0.3108392655849457, -0.6174116134643555, -0.9314066767692566, -0.03606721758842468, -1.35938560962677, -0.5404631495475769, 0.36078131198883057, -0.7433987259864807, -0.09679143130779266, -0.7711378335952759, -1.0635501146316528, -0.3170519769191742, -0.45983365178108215, -1.3412810564041138, 0.41194358468055725, -0.08220439404249191, -0.6706415414810181, -0.5166017413139343, 0.05576639994978905, -0.4292208254337311, 1.17276132106781, -0.656280517578125, 1.2793606519699097, 0.13889221847057343, -0.7815564274787903, 0.25349316000938416, 0.06526413559913635, 0.4666171073913574, 0.0531044565141201, 0.19395941495895386, -0.1828097105026245, -0.02156083658337593, 0.11018937081098557, -0.4764449894428253, -0.007474621757864952, 0.04836995154619217, 1.1638845205307007, 0.03190360963344574, -0.5910370945930481, 0.6955015659332275, 1.8827168941497803, -0.42112046480178833, 0.2723487913608551, 0.23082837462425232, 1.4049015045166016, 0.4642983675003052, -0.13627462089061737, 0.4731578826904297, 0.347310334444046, -0.05430750921368599, 0.6727622151374817, 0.18232174217700958, 0.12439469993114471, -0.09634493291378021, 0.6832108497619629, 1.449796438217163, 0.1866505742073059, 0.2719152867794037, -1.6331974267959595, 1.1049625873565674, -1.0751335620880127, -0.3635856509208679, 0.36416923999786377, 0.5174291729927063, 0.510117769241333, -0.5135483145713806, -0.7258973717689514, -0.20147587358951569, 0.5475481152534485, 0.502562403678894, -0.38210779428482056, -0.9847710132598877, 0.6434276700019836, 0.2289179414510727, 0.07774815708398819, 0.7907481789588928, -0.38140732049942017, 0.3360278010368347, 14.307363510131836, 0.700275182723999, 0.2054210901260376, 0.2152376025915146, 0.5225667357444763, 0.5511286854743958, -0.5511892437934875, -0.12245628982782364, -1.334932565689087, -0.41975918412208557, 0.9786248207092285, -0.17812876403331757, 0.6563956141471863, 0.5904608964920044, -0.2598385810852051, 0.08300528675317764, -0.7551600337028503, 0.5872397422790527, 0.6037763953208923, -1.2451292276382446, 0.42876920104026794, 0.07596684992313385, 0.39553019404411316, 0.07499232888221741, 0.7083582878112793, 0.9373983144760132, 0.5559139847755432, -0.7982174754142761, 0.35293999314308167, -0.46487271785736084, 1.0336846113204956, -0.16076670587062836, 0.5984961986541748, 0.5375667810440063, -1.2056154012680054, -0.5117945075035095, -0.6179842352867126, -1.158574104309082, -0.020014597102999687, 0.016123948618769646, -0.4454198479652405, -0.6038573384284973, -0.21140873432159424, 1.0325603485107422, -0.10027288645505905, 0.47704535722732544, -0.6955748200416565, 0.4293399155139923, 0.4757630228996277, -0.13357459008693695, 0.11338210850954056, 0.98103266954422, 0.06118199974298477, -0.07011988759040833, 0.15405018627643585, 0.41123366355895996, 0.3256647288799286, 0.6867727041244507, -0.2705187499523163, -0.17193464934825897, -0.3647575378417969, -0.6079903244972229, -0.31588613986968994, 0.541183352470398, 0.34262746572494507, 0.18823185563087463, -0.8039098381996155, -0.009606268256902695, 0.5993615388870239, 0.10595299303531647, -0.24863369762897491, -0.33816954493522644, 0.38192468881607056, -0.03271234780550003, 0.2024015337228775, 0.3515940308570862, -0.8184924721717834, -0.7186315655708313, -0.8393389582633972, -0.8249979615211487, 0.6802347898483276, -0.6812364459037781, -0.12362772971391678, 1.0362440347671509, -0.2664538323879242, -0.5145324468612671, 0.3404219150543213, -0.848625659942627, -0.6911588311195374, 0.07762757688760757, -1.2736879587173462, -0.42936649918556213, -0.03633291274309158, -0.4100766181945801, -0.21241748332977295, -0.11091970652341843, 1.3477728366851807, -0.45052996277809143, -0.1824851781129837, -0.050841208547353745, -0.08182495087385178, 0.1442074030637741, -0.3963431417942047, -1.3069623708724976, 1.0494039058685303, 0.6384742856025696, -0.48103663325309753, 0.8183460235595703, 0.042327724397182465, -0.3367411196231842, -0.6996765732765198, -0.38494038581848145, 0.7252252697944641, -1.312766671180725, -0.049155693501234055, -0.9719222187995911, -1.3463908433914185, 0.5338237285614014, 0.9128748178482056, -0.09419426321983337, 0.28563788533210754, -0.04273746535181999, -0.898158609867096, -0.20084016025066376, -0.7766147255897522, -0.44780686497688293, 0.5255813598632812, -0.8511700630187988, -0.6699642539024353, -0.4667966365814209, 0.583950400352478, -0.9893158674240112, -0.595725417137146, -0.3282587230205536, -0.041810549795627594, -0.18299825489521027, 0.6943770051002502, -0.13852538168430328, 1.5442885160446167, 0.6647255420684814, 0.2366916835308075, -0.8190078139305115, -0.14374497532844543, -0.9835512638092041, -0.014928887598216534, 0.37443575263023376, 0.7697859406471252, -0.4220384359359741, 0.45614954829216003, 0.976087212562561, 0.16306772828102112, -0.34513407945632935, -0.012644140981137753, -0.2282027155160904, 0.20023895800113678, -0.42171207070350647, 0.3848803639411926, 0.36180347204208374, 0.4655042290687561, -0.3351617157459259, 0.6502957940101624, 0.9035309553146362, -0.22065621614456177, -0.17908956110477448, 0.4036959409713745, 0.12082750350236893, -0.46117275953292847, -0.3436010777950287, -0.29159581661224365, -1.0923194885253906, 0.25826993584632874, -1.099523663520813, 0.4146136939525604, -0.6111108660697937, -0.10875212401151657, 0.5993785262107849, -0.14773136377334595, 0.37786394357681274, 0.08487458527088165, -0.7006610631942749, -0.7957836985588074, -0.8348386287689209, -0.6991490125656128, 0.6568563580513, 0.3360413908958435, -0.6814756393432617, 0.4429186284542084, -0.1976723074913025, -0.2860575020313263, 0.2932617664337158, 0.33617815375328064, -0.7572582364082336, -0.7029990553855896, -1.4512109756469727, 0.41575878858566284, -0.23073838651180267, -0.3444215655326843, -0.7343541383743286, 0.7010171413421631, 0.21677535772323608, -0.5888409614562988, 0.3922686278820038, -0.48639950156211853, -0.9041861891746521, -0.7270829677581787, 0.7560378909111023, -0.7384368777275085, 0.18233075737953186, 0.6400637030601501, -0.715054988861084, -0.5916934609413147, -0.02956671081483364, 0.0016877510352060199, -1.599500060081482, -0.9892029166221619, 0.3188348114490509, -0.740127682685852, 0.4314667880535126, 0.1078987643122673, -0.00926473829895258, -1.2049132585525513, -0.11705402284860611, 0.3020121455192566, 0.720734179019928, 0.3069111108779907, 0.9921206831932068, 0.23939822614192963, -0.6333942413330078, 0.36739009618759155, 0.47689375281333923, 0.21406055986881256, 0.16664889454841614, 0.436696857213974, 0.1122826635837555, -0.868636965751648, 0.4977917969226837, 0.2970511317253113, 0.20334553718566895, -1.1573669910430908, 0.3837127685546875, 0.5107176303863525, -0.4540652930736542, 0.03502329811453819, 1.0149314403533936, 0.09103541076183319, -0.8110883831977844, -0.14674122631549835, -1.4965300559997559, -0.678889811038971, -0.9756438136100769, 0.9579309821128845, -0.17862094938755035, -0.38611075282096863, -0.013141859322786331, -0.7890286445617676, 0.7502319812774658, -0.2693288028240204, 0.30343958735466003, 0.95926433801651, 0.08867168426513672, -1.1704506874084473, 0.4234601855278015, 0.7381579875946045, -0.4824850261211395, -0.38920867443084717, -0.3270838260650635, -0.18835854530334473, -0.22770850360393524, 0.1721871793270111, -0.2035614252090454, -0.7058349251747131, 0.9717298746109009, -0.06536799669265747, 0.5448614954948425, 0.008071595802903175, -0.25009164214134216, 0.0720951184630394, 0.6359243392944336, 0.3900216817855835, -0.21475571393966675, -0.18341439962387085, 1.4390537738800049, 1.1661601066589355, -1.035538673400879, 0.03517024591565132, -0.8816924095153809, -0.6286801099777222, 1.2037155628204346, 1.0331287384033203, -0.05709761008620262, 0.5017335414886475, 0.07120837271213531, -0.03159449249505997, -0.021400166675448418, -0.8117544651031494, -0.09569620341062546, 0.4463643729686737, 1.067010760307312, 1.081984281539917, -0.14642006158828735, 0.4226017892360687, 0.860692024230957, 0.22656577825546265, 0.09780178964138031, 1.1174348592758179, 0.7356443405151367, -0.1984134316444397, 0.02051219344139099, -0.10946329683065414, 0.5519753694534302, -0.8140634894371033, -0.8697819709777832, 0.3323458731174469, 0.4744328558444977, 0.05580610781908035, 0.2462301403284073, 0.4214347004890442, 0.48149245977401733, 0.38910120725631714, 0.3490735590457916, 0.2578922510147095, -1.4739855527877808, -0.4541480839252472, -0.6795510649681091, -0.48527130484580994, -0.43682923913002014, 0.08500445634126663, -0.32123076915740967, -0.5670367479324341, 0.07783222943544388, 0.5443138480186462, 0.2586403489112854, 0.14575478434562683, 0.8793410062789917, 0.6096215844154358, 0.7050760388374329, -0.4358302354812622, 0.08046150952577591, -0.35361039638519287, -0.533586859703064, -0.03200558200478554, -0.6966448426246643, 0.0022246541921049356, -0.10655811429023743, -0.2213336080312729, 0.16105544567108154]}, "authors": [{"authorId": "2166862797", "name": "Tingting Liu"}, {"authorId": "50097294", "name": "Chengyu Wang"}, {"authorId": "2447610", "name": "Cen Chen"}, {"authorId": "46572901", "name": "Ming Gao"}, {"authorId": "145031580", "name": "Aoying Zhou"}], "references": [{"paperId": "a30f912f8c5e2a2bfb06351d4578e1ba3fa37896", "title": "CodeT5: Identifier-aware Unified Pre-trained Encoder-Decoder Models for Code Understanding and Generation"}, {"paperId": "57ed901be5d1b4d853d4f8998dadc1b60e2151f9", "title": "On Attention Redundancy: A Comprehensive Study"}, {"paperId": "96fefab9b083f4fe6308eee7dbb24d0a58743364", "title": "Code Structure\u2013Guided Transformer for Source Code Summarization"}, {"paperId": "0646bb09db4d1ba24150e69b71edcd4aff691b3c", "title": "Unified Pre-training for Program Understanding and Generation"}, {"paperId": "69a72ff5b30642d11c96635e99aadad3140d33a7", "title": "CodeXGLUE: A Machine Learning Benchmark Dataset for Code Understanding and Generation"}, {"paperId": "77f9b54da444f49b2436712abe932627f16cbf95", "title": "Code Summarization with Structure-induced Transformer"}, {"paperId": "4083958684292f6fa2f5c7fd4f9be975e80145b6", "title": "GraphCodeBERT: Pre-training Code Representations with Data Flow"}, {"paperId": "044e13d7dd4e0655eb76f0bd00b2c1bdb44e2be3", "title": "Big Bird: Transformers for Longer Sequences"}, {"paperId": "5d839ec37463be6998a46af8e6ca7a96c575b3ba", "title": "SCELMo: Source Code Embeddings from Language Models"}, {"paperId": "925ad2897d1b5decbea320d07e99afa9110e09b2", "title": "Longformer: The Long-Document Transformer"}, {"paperId": "0fe2636446cd686830da3d971b31a004d6094b3c", "title": "CodeBERT: A Pre-Trained Model for Programming and Natural Languages"}, {"paperId": "92515b7ed018194e340f9edefeb52d9b19f679ef", "title": "Detecting Code Clones with Graph Neural Network and Flow-Augmented Abstract Syntax Tree"}, {"paperId": "2cf3bd0cc1382f35384e259d99e4f9744eeaed28", "title": "Blockwise Self-Attention for Long Document Understanding"}, {"paperId": "463fefdbd81a4a0a32cf59bc58a9545757c8cf2e", "title": "Pre-trained Contextual Embedding of Source Code"}, {"paperId": "fbe25e4f069a19dc63daca27b7c98cff338663b9", "title": "CodeSearchNet Challenge: Evaluating the State of Semantic Code Search"}, {"paperId": "d78aed1dac6656affa4a04cbf225ced11a83d103", "title": "Revealing the Dark Secrets of BERT"}, {"paperId": "077f8329a7b6fa3b7c877a57b81eb6c18b5f87de", "title": "RoBERTa: A Robustly Optimized BERT Pretraining Approach"}, {"paperId": "1432c8378b1cafa3f91f09fa743082d154fdab92", "title": "A Novel Neural Source Code Representation Based on Abstract Syntax Tree"}, {"paperId": "21da617a0f79aabf94272107184606cefe90ab75", "title": "Generating Long Sequences with Sparse Transformers"}, {"paperId": "c4744a7c2bb298e4a52289a1e085c71cc3d37bc6", "title": "Transformer-XL: Attentive Language Models beyond a Fixed-Length Context"}, {"paperId": "3febb2bed8865945e7fddc99efd791887bb7e14f", "title": "Deep Contextualized Word Representations"}, {"paperId": "204e3073870fae3d05bcbc2f6a8e263d9b72e776", "title": "Attention is All you Need"}, {"paperId": "32aa2517b03c871c11e521c2a3406f457833e2c3", "title": "Summarizing Source Code using a Neural Attention Model"}, {"paperId": "e1abe96610cb3bc989e727f0b59cebedb14260f1", "title": "SourcererCC: Scaling Code Clone Detection to Big-Code"}, {"paperId": "df2b0e26d0599ce3e70df8a9da02e51594e0e992", "title": "BERT: Pre-training of Deep Bidirectional Transformers for Language Understanding"}, {"paperId": "caf7d036ac3ab635c29d4602a6729551e64ed658", "title": "New Orleans, Louisiana, USA"}]}