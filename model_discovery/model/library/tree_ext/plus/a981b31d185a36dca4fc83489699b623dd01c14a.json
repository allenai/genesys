{
    "paperId": "a981b31d185a36dca4fc83489699b623dd01c14a",
    "externalIds": {
        "ArXiv": "2409.05152",
        "CorpusId": 272524678
    },
    "title": "OneGen: Efficient One-Pass Unified Generation and Retrieval for LLMs",
    "abstract": "Despite the recent advancements in Large Language Models (LLMs), which have significantly enhanced the generative capabilities for various NLP tasks, LLMs still face limitations in directly handling retrieval tasks. However, many practical applications demand the seamless integration of both retrieval and generation. This paper introduces a novel and efficient One-pass Generation and retrieval framework (OneGen), designed to improve LLMs' performance on tasks that require both generation and retrieval. The proposed framework bridges the traditionally separate training approaches for generation and retrieval by incorporating retrieval tokens generated autoregressively. This enables a single LLM to handle both tasks simultaneously in a unified forward pass. We conduct experiments on two distinct types of composite tasks, RAG and Entity Linking, to validate the pluggability, effectiveness, and efficiency of OneGen in training and inference. Furthermore, our results show that integrating generation and retrieval within the same context preserves the generative capabilities of LLMs while improving retrieval performance. To the best of our knowledge, OneGen is the first to enable LLMs to conduct vector retrieval during the generation.",
    "venue": "",
    "year": 2024,
    "referenceCount": 0,
    "citationCount": 0,
    "influentialCitationCount": 0,
    "openAccessPdf": null,
    "tldr": {
        "model": "tldr@v2.0.0",
        "text": "The proposed framework bridges the traditionally separate training approaches for generation and retrieval by incorporating retrieval tokens generated autoregressively, which enables a single LLM to handle both tasks simultaneously in a unified forward pass."
    },
    "embedding": {
        "model": "specter_v1",
        "vector": [
            -2.09277081489563,
            -1.7397112846374512,
            -2.1549148559570312,
            6.356143951416016,
            -0.332194983959198,
            -0.2816760241985321,
            2.593567132949829,
            -2.17307186126709,
            -1.28372323513031,
            1.6760985851287842,
            -1.4788905382156372,
            4.706168174743652,
            -3.443805694580078,
            -0.9611835479736328,
            -2.6510682106018066,
            0.44364267587661743,
            1.8453322649002075,
            -1.5865445137023926,
            4.193079948425293,
            1.6040886640548706,
            -2.245361328125,
            2.5775866508483887,
            -1.4330872297286987,
            -0.1389390230178833,
            1.7484933137893677,
            0.37993600964546204,
            3.5859756469726562,
            3.1757912635803223,
            -3.050316572189331,
            -3.242938995361328,
            0.9537896513938904,
            -3.2372379302978516,
            4.036079406738281,
            -2.431288480758667,
            2.230367422103882,
            -3.9453299045562744,
            -4.472246170043945,
            5.647019386291504,
            -2.675405263900757,
            -3.199944019317627,
            1.3662922382354736,
            0.16748344898223877,
            1.6709916591644287,
            1.4206584692001343,
            -0.19787275791168213,
            -0.2141718566417694,
            3.4247565269470215,
            0.20901143550872803,
            0.9010236263275146,
            1.2231236696243286,
            0.4892706274986267,
            -0.6799981594085693,
            0.01541706919670105,
            2.8321685791015625,
            -2.0943236351013184,
            -2.159708023071289,
            1.9839190244674683,
            1.8241748809814453,
            0.9291126728057861,
            -4.188595771789551,
            1.6792881488800049,
            5.39646577835083,
            -0.542172908782959,
            1.9482722282409668,
            3.8112008571624756,
            -3.582862615585327,
            -4.238892078399658,
            2.5038657188415527,
            -0.18938636779785156,
            -1.4981858730316162,
            -2.764143466949463,
            -6.242924690246582,
            -1.2055022716522217,
            -0.997031569480896,
            -2.0817270278930664,
            -0.36892950534820557,
            0.2750573456287384,
            -2.9306907653808594,
            -1.294456958770752,
            -1.2399712800979614,
            1.205649971961975,
            1.5021624565124512,
            0.5075264573097229,
            1.0272959470748901,
            3.349310874938965,
            0.559822142124176,
            -3.8495192527770996,
            3.898590087890625,
            5.0138444900512695,
            -3.5391430854797363,
            -0.4924771189689636,
            0.48946690559387207,
            -1.4214129447937012,
            1.173108458518982,
            -4.290644645690918,
            -0.6365744471549988,
            1.419079065322876,
            1.12525475025177,
            -3.7049241065979004,
            0.38712191581726074,
            5.026062488555908,
            -0.34481361508369446,
            -1.5234019756317139,
            1.2892166376113892,
            2.53214693069458,
            -3.139716863632202,
            -0.3905942440032959,
            1.073469877243042,
            -1.4987514019012451,
            -2.753436803817749,
            -1.3845535516738892,
            2.6268129348754883,
            -1.3484668731689453,
            -2.963223695755005,
            -3.2164478302001953,
            -5.144667625427246,
            -0.5065129995346069,
            0.0390932559967041,
            -3.962625026702881,
            6.570032119750977,
            -0.6165977716445923,
            -3.3059163093566895,
            -1.356963872909546,
            4.006789684295654,
            2.349147319793701,
            1.5976732969284058,
            1.0557984113693237,
            0.7614272236824036,
            -0.21811354160308838,
            -2.274907350540161,
            2.0019092559814453,
            1.1225249767303467,
            7.973141193389893,
            -1.421983003616333,
            -0.7906021475791931,
            2.6051759719848633,
            -5.089071273803711,
            0.8858988285064697,
            -1.9094096422195435,
            -1.6568549871444702,
            1.4136366844177246,
            7.091497898101807,
            -0.08844590187072754,
            -0.9336920976638794,
            0.7560471892356873,
            -0.4871923327445984,
            0.0553128644824028,
            2.1097664833068848,
            2.2865793704986572,
            5.022356033325195,
            3.791980266571045,
            -3.3429083824157715,
            -0.6759446859359741,
            0.11211174726486206,
            -0.53282231092453,
            5.288424491882324,
            -3.4679765701293945,
            0.7686253786087036,
            -1.6302626132965088,
            0.3883418142795563,
            -1.4994206428527832,
            0.8686254024505615,
            -8.947245597839355,
            0.20151928067207336,
            5.055869102478027,
            -5.221048355102539,
            -0.5491343140602112,
            2.4152066707611084,
            1.4684422016143799,
            1.2402122020721436,
            -1.134753704071045,
            1.1121811866760254,
            6.2010674476623535,
            2.0247890949249268,
            1.961920142173767,
            3.6548728942871094,
            1.8630201816558838,
            -1.465019941329956,
            -3.5762715339660645,
            1.0721416473388672,
            1.1131114959716797,
            -1.565854787826538,
            -4.494529724121094,
            0.6252235174179077,
            -5.7115960121154785,
            -2.5522212982177734,
            1.5376996994018555,
            -3.6997923851013184,
            -0.94804447889328,
            -0.5568846464157104,
            -4.962088108062744,
            1.1798425912857056,
            3.780564546585083,
            5.415975570678711,
            0.15747225284576416,
            0.5722512602806091,
            2.2354886531829834,
            3.156782388687134,
            -6.347350120544434,
            3.413410186767578,
            4.263566970825195,
            -0.7941026091575623,
            -1.8724664449691772,
            -4.647754669189453,
            4.5493035316467285,
            0.8056586980819702,
            -3.274264335632324,
            6.06795597076416,
            0.4571245610713959,
            -0.5023159980773926,
            1.833438754081726,
            1.158874750137329,
            -2.1178932189941406,
            1.7014873027801514,
            -1.4322513341903687,
            -0.8279760479927063,
            -6.324944496154785,
            1.052450180053711,
            3.291978359222412,
            0.8147058486938477,
            -1.0201367139816284,
            -0.7907881140708923,
            -2.019110918045044,
            -1.1658796072006226,
            1.075015664100647,
            -1.7688612937927246,
            2.36772084236145,
            1.5251941680908203,
            -3.8568506240844727,
            -0.8082643151283264,
            -2.778001546859741,
            -3.081880807876587,
            -1.583187222480774,
            -0.192640021443367,
            -4.9930877685546875,
            -3.3769586086273193,
            -6.4894843101501465,
            0.19937291741371155,
            -3.878000020980835,
            -3.340538501739502,
            7.307030200958252,
            2.4886374473571777,
            0.13971945643424988,
            4.66065788269043,
            3.3997316360473633,
            -0.668662965297699,
            -0.6210178732872009,
            1.7631878852844238,
            -1.1872429847717285,
            -0.584385097026825,
            -1.1188619136810303,
            -0.2590688467025757,
            2.333204507827759,
            -2.319185972213745,
            1.3105942010879517,
            1.395487904548645,
            1.5928263664245605,
            2.046963930130005,
            0.08493238687515259,
            0.5406399965286255,
            1.6240427494049072,
            3.129192352294922,
            -0.3297443687915802,
            5.649249076843262,
            -3.0041871070861816,
            2.846078872680664,
            -0.8693658113479614,
            -0.06171645224094391,
            -1.0085312128067017,
            3.7061049938201904,
            1.568420171737671,
            1.4778869152069092,
            0.8741173148155212,
            -3.9129605293273926,
            -1.7757742404937744,
            -7.0594353675842285,
            -1.7425471544265747,
            -1.0413460731506348,
            3.8685858249664307,
            2.031846284866333,
            2.9636998176574707,
            -1.0671130418777466,
            0.19373303651809692,
            -0.179155170917511,
            -0.29867762327194214,
            -0.7803288102149963,
            -1.0323665142059326,
            -3.3285396099090576,
            -1.9828166961669922,
            -1.7644068002700806,
            -2.406651020050049,
            3.8710060119628906,
            -4.343083381652832,
            -4.3410773277282715,
            -0.9329063892364502,
            5.39914083480835,
            3.71517276763916,
            2.114603281021118,
            0.33666539192199707,
            -0.5674115419387817,
            -1.9987223148345947,
            4.388435363769531,
            1.8686774969100952,
            0.4373471736907959,
            -0.2588418424129486,
            0.6109517812728882,
            -0.11849397420883179,
            -3.00620436668396,
            -1.18625009059906,
            -6.017186164855957,
            2.8416223526000977,
            2.8234000205993652,
            3.7477025985717773,
            -4.9058685302734375,
            1.0391027927398682,
            2.6168112754821777,
            0.5345109701156616,
            -0.05032986402511597,
            -8.763916015625,
            0.11431825160980225,
            -1.3232183456420898,
            1.6526803970336914,
            -4.88118839263916,
            -3.660269021987915,
            -1.0805602073669434,
            1.2984520196914673,
            1.9864243268966675,
            1.5667362213134766,
            -4.448120594024658,
            3.788595199584961,
            -0.7996944189071655,
            3.586686134338379,
            2.287184715270996,
            1.1938011646270752,
            -1.7033134698867798,
            -2.71279239654541,
            1.9619215726852417,
            -1.94153892993927,
            0.2202153205871582,
            0.6099467873573303,
            2.8838672637939453,
            6.95658540725708,
            -1.649097204208374,
            2.0427396297454834,
            -0.08125084638595581,
            0.7373523712158203,
            0.6591042876243591,
            3.4423859119415283,
            -1.2326152324676514,
            -2.1633689403533936,
            1.5404868125915527,
            0.20045456290245056,
            0.5309581160545349,
            -0.46587711572647095,
            3.7308125495910645,
            1.4396756887435913,
            -0.09182121604681015,
            3.120938777923584,
            1.4025585651397705,
            1.507758617401123,
            -0.15428724884986877,
            0.2873597741127014,
            0.30330443382263184,
            2.2198638916015625,
            0.5278577208518982,
            -1.7600817680358887,
            12.723892211914062,
            -6.308626651763916,
            1.581991195678711,
            -5.759533882141113,
            -5.425321578979492,
            -1.2287970781326294,
            -4.299942493438721,
            1.5393673181533813,
            -4.664936542510986,
            -1.905853033065796,
            -5.05555534362793,
            -3.070713758468628,
            0.11418251693248749,
            -0.04467850923538208,
            -4.371315002441406,
            5.187643051147461,
            -1.0187098979949951,
            2.6559228897094727,
            -1.6028361320495605,
            1.5481023788452148,
            -0.9183840751647949,
            3.4111828804016113,
            -0.004471927881240845,
            -1.8257108926773071,
            -1.871665596961975,
            0.6873970031738281,
            1.198329210281372,
            -1.250758171081543,
            -6.0971221923828125,
            -2.683076858520508,
            -1.6286919116973877,
            -1.8178377151489258,
            4.1932549476623535,
            -2.1039817333221436,
            2.4561429023742676,
            -2.41876482963562,
            4.448538780212402,
            5.0757575035095215,
            -4.900277614593506,
            -1.6522291898727417,
            1.4773406982421875,
            -0.3503546416759491,
            -1.8993529081344604,
            -1.6202881336212158,
            -1.2592592239379883,
            -4.9048051834106445,
            -4.40562629699707,
            -6.350314140319824,
            1.2119944095611572,
            3.34157395362854,
            3.419834613800049,
            5.070082664489746,
            1.9584705829620361,
            1.7306162118911743,
            -2.663708448410034,
            1.9652681350708008,
            3.9357869625091553,
            4.546242713928223,
            2.4680285453796387,
            -2.374943256378174,
            2.6176586151123047,
            3.862360954284668,
            -2.679650068283081,
            4.700596332550049,
            3.21903657913208,
            5.740644454956055,
            -2.665468215942383,
            -1.9617235660552979,
            -1.8854327201843262,
            1.731408953666687,
            4.988109588623047,
            3.0058975219726562,
            4.016573905944824,
            -4.949519157409668,
            2.649813652038574,
            2.424858570098877,
            -1.2183024883270264,
            3.65372896194458,
            0.7501927614212036,
            1.5466058254241943,
            2.896853446960449,
            0.36573776602745056,
            -5.963385581970215,
            -1.3364475965499878,
            1.037691593170166,
            -2.5775442123413086,
            -2.8547966480255127,
            -4.0073347091674805,
            2.313474416732788,
            4.823628902435303,
            -1.0361826419830322,
            1.073643684387207,
            2.9261178970336914,
            -2.6524548530578613,
            -1.0306310653686523,
            5.964079856872559,
            -0.6204239130020142,
            3.342432975769043,
            -0.6433002948760986,
            -1.1624590158462524,
            0.39174824953079224,
            -0.12557518482208252,
            2.0474038124084473,
            -0.40208351612091064,
            2.965834140777588,
            -0.9824579954147339,
            -0.8764349222183228,
            4.825310707092285,
            0.7864398956298828,
            -1.9600896835327148,
            5.2398152351379395,
            -0.988908052444458,
            2.7172653675079346,
            -5.3446245193481445,
            -3.071272850036621,
            0.4194934368133545,
            4.425642490386963,
            -3.5847511291503906,
            -0.02395397424697876,
            4.830930233001709,
            2.40008807182312,
            2.5050203800201416,
            4.161257743835449,
            2.0478644371032715,
            -0.6408703327178955,
            4.765377044677734,
            4.1475300788879395,
            -0.6766012907028198,
            0.45337480306625366,
            -0.860555112361908,
            -2.649519443511963,
            0.17637157440185547,
            3.2705254554748535,
            0.6022365093231201,
            0.2964782118797302,
            -6.76042366027832,
            1.3424396514892578,
            -0.6089600920677185,
            -5.258061408996582,
            4.695611953735352,
            7.136476993560791,
            -1.9886741638183594,
            -2.2307674884796143,
            -1.1019233465194702,
            -0.6602805852890015,
            -0.5374003648757935,
            -6.3331499099731445,
            2.873945951461792,
            -0.6169930696487427,
            2.9813039302825928,
            2.652365207672119,
            0.6325929164886475,
            -0.6752845048904419,
            -0.4637746810913086,
            -0.7505552768707275,
            -1.1137540340423584,
            -1.6007537841796875,
            0.3927404582500458,
            2.8538570404052734,
            1.3385955095291138,
            -2.18581223487854,
            3.516915798187256,
            1.0283892154693604,
            8.876893997192383,
            2.7412586212158203,
            3.6651451587677,
            3.5838685035705566,
            -0.3183431923389435,
            -3.1874217987060547,
            -2.264216899871826,
            -0.2770068049430847,
            4.531642913818359,
            -2.624873161315918,
            -0.6446865200996399,
            -1.3969296216964722,
            -0.9852243065834045,
            -0.6360244750976562,
            2.488774299621582,
            -1.2912719249725342,
            2.823561429977417,
            -2.637450933456421,
            0.10261166095733643,
            0.6985106468200684,
            -1.2163323163986206,
            0.05038568377494812,
            -2.3197412490844727,
            3.876674175262451,
            -1.0020761489868164,
            -2.7497823238372803,
            1.7396849393844604,
            1.2022196054458618,
            -1.5550564527511597,
            0.06596624851226807,
            5.548846244812012,
            2.6582086086273193,
            -3.732710361480713,
            1.1200482845306396,
            3.5841965675354004,
            -2.1663639545440674,
            0.49268633127212524,
            -1.3788714408874512,
            3.7715137004852295,
            -0.44594961404800415,
            -0.20708048343658447,
            -2.6298294067382812,
            -3.4909396171569824,
            1.46263587474823,
            1.947305679321289,
            -0.42771726846694946,
            0.6031401753425598,
            4.411696434020996,
            -0.15973228216171265,
            1.1150476932525635,
            -1.5631511211395264,
            -4.002938747406006,
            -1.9097459316253662,
            -4.772739410400391,
            -5.833240032196045,
            0.5007641315460205,
            0.009694695472717285,
            -3.888554573059082,
            0.09724684059619904,
            -3.824207305908203,
            3.3107213973999023,
            4.812971591949463,
            -1.4664897918701172,
            -0.15194058418273926,
            -3.580730438232422,
            2.4642348289489746,
            -2.64605712890625,
            2.454756498336792,
            1.7378432750701904,
            1.6955705881118774,
            1.3354835510253906,
            2.9082260131835938,
            4.799521446228027,
            1.3545498847961426,
            3.2169790267944336,
            -2.284776449203491,
            -3.0331664085388184,
            2.4274845123291016,
            0.6206098198890686,
            0.9028043150901794,
            1.7042007446289062,
            -2.6630494594573975,
            3.0050549507141113,
            17.001811981201172,
            -4.28819465637207,
            -0.0705866813659668,
            -2.368093490600586,
            -0.9197816848754883,
            -4.957088947296143,
            -2.2307238578796387,
            0.3899775743484497,
            2.795271396636963,
            -1.259917974472046,
            0.038173794746398926,
            -2.6610541343688965,
            -0.3131791353225708,
            0.44704917073249817,
            -2.154691219329834,
            -2.6168136596679688,
            -1.1499907970428467,
            0.15924370288848877,
            -2.7825815677642822,
            1.8658018112182617,
            2.082779884338379,
            -0.01473197340965271,
            -1.0835294723510742,
            -2.6172902584075928,
            -0.16540095210075378,
            4.15433406829834,
            1.8847861289978027,
            2.6298065185546875,
            -4.941851615905762,
            -0.6134308576583862,
            0.21990293264389038,
            3.425433874130249,
            -1.1471149921417236,
            -1.4013733863830566,
            -1.659541130065918,
            4.168545722961426,
            3.310166597366333,
            -5.4837493896484375,
            1.1463769674301147,
            2.1687123775482178,
            0.06409087777137756,
            3.996105194091797,
            -2.267620086669922,
            2.27223801612854,
            -3.66422963142395,
            3.9390406608581543,
            3.7778944969177246,
            -1.4056878089904785,
            -0.9741274118423462,
            3.1832356452941895,
            -3.313448667526245,
            -3.0510294437408447,
            -2.6179986000061035,
            0.014697074890136719,
            0.8427330255508423,
            0.8076679706573486,
            -4.00181770324707,
            -2.3420746326446533,
            2.195678234100342,
            1.9998687505722046,
            -0.25420111417770386,
            3.30967378616333,
            -0.3584998846054077,
            -4.944807052612305,
            -2.44616961479187,
            -0.6351945400238037,
            -3.95330810546875,
            1.7347795963287354,
            -0.23141276836395264,
            -1.4395751953125,
            3.29950213432312,
            3.7390382289886475,
            0.44843053817749023,
            -3.2869842052459717,
            0.09377101063728333,
            -0.8511621356010437,
            3.247751235961914,
            -1.8339298963546753,
            -0.450981080532074,
            7.537557601928711,
            -3.1864421367645264,
            2.232081890106201,
            -4.805299282073975,
            -0.27264535427093506,
            4.223715305328369,
            -2.720919132232666,
            2.9840424060821533,
            -0.27055227756500244,
            -1.4988476037979126,
            4.534792423248291,
            -2.062875986099243,
            -1.0847009420394897,
            2.2719221115112305,
            2.930629253387451,
            2.0039782524108887,
            -5.078646659851074,
            0.1439114809036255,
            -0.41142940521240234,
            -1.6148103475570679,
            -0.7748189568519592,
            4.900848865509033,
            1.9331163167953491,
            1.7037304639816284,
            -3.19356632232666,
            0.06606793403625488,
            0.4013270139694214,
            -2.680464744567871,
            -5.764242172241211,
            0.515828013420105,
            -5.580633163452148,
            1.742435097694397,
            -3.880638599395752,
            -1.2883096933364868,
            1.5367729663848877,
            1.3847476243972778,
            -2.5386595726013184,
            1.3129866123199463,
            2.349588394165039,
            1.0426260232925415,
            0.9963286519050598,
            -3.180870532989502,
            0.5364719033241272,
            -1.949099063873291,
            -4.275204658508301,
            0.3646066188812256,
            0.5468307733535767,
            1.7786827087402344,
            -2.235462188720703,
            -1.2438738346099854,
            0.12339359521865845,
            2.403151273727417,
            -1.6957228183746338,
            -2.159919500350952,
            2.9692459106445312,
            -1.2468432188034058,
            -1.1314506530761719,
            1.9975099563598633,
            0.8874551057815552,
            -3.123222827911377,
            6.6455230712890625,
            2.430124282836914,
            -2.0803818702697754,
            -4.750102996826172,
            9.0677490234375,
            -2.1579718589782715,
            -1.4171286821365356,
            -3.0887069702148438,
            -0.8865349292755127,
            -0.8403849601745605,
            1.756699800491333,
            4.211580276489258,
            -1.286811351776123,
            0.7383284568786621,
            -1.7297661304473877,
            -3.0529632568359375,
            -3.249861717224121
        ]
    },
    "authors": [
        {
            "authorId": "2253784578",
            "name": "Jintian Zhang"
        },
        {
            "authorId": null,
            "name": "Cheng Peng"
        },
        {
            "authorId": "2273904059",
            "name": "Mengshu Sun"
        },
        {
            "authorId": null,
            "name": "Xiang Chen"
        },
        {
            "authorId": "2303947668",
            "name": "Lei Liang"
        },
        {
            "authorId": "2290024603",
            "name": "Zhiqiang Zhang"
        },
        {
            "authorId": null,
            "name": "Jun Zhou"
        },
        {
            "authorId": "2144200945",
            "name": "Huajun Chen"
        },
        {
            "authorId": null,
            "name": "Ningyu Zhang"
        }
    ],
    "references": []
}