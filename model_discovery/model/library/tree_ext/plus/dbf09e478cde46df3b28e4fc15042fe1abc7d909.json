{
    "paperId": "dbf09e478cde46df3b28e4fc15042fe1abc7d909",
    "externalIds": {
        "ArXiv": "2408.04653",
        "CorpusId": 271843555
    },
    "title": "Batching BPE Tokenization Merges",
    "abstract": "The Byte Pair Encoding algorithm can be safely batched to merge hundreds of pairs of tokens at a time when building up a tokenizer's vocabulary. This technique combined with reducing the memory footprint of text used in vocabulary training make it feasible to train a high quality tokenizer on a basic laptop. This paper presents BatchBPE, an open-source pure Python implementation of these concepts, with the goal of making experimenting with new tokenization strategies more accessible especially in compute- and memory-constrained contexts. BatchBPE's usefulness and malleability are demonstrated through the training of several token vocabularies to explore the batch merging process and experiment with preprocessing a stop word list and ignoring the least common text chunks in a dataset. Resultant encoded lengths of texts are used as a basic evaluation metric.",
    "venue": "",
    "year": 2024,
    "referenceCount": 18,
    "citationCount": 0,
    "influentialCitationCount": 0,
    "openAccessPdf": null,
    "tldr": {
        "model": "tldr@v2.0.0",
        "text": "BatchBPE's usefulness and malleability are demonstrated through the training of several token vocabularies to explore the batch merging process and experiment with preprocessing a stop word list and ignoring the least common text chunks in a dataset."
    },
    "embedding": {
        "model": "specter_v1",
        "vector": [
            -4.936999797821045,
            -1.3842142820358276,
            -1.6600899696350098,
            2.1397604942321777,
            2.813082218170166,
            1.9436142444610596,
            4.646862983703613,
            -2.388756513595581,
            -1.4899590015411377,
            4.480778217315674,
            2.7627506256103516,
            2.1866869926452637,
            1.9485211372375488,
            -0.33953654766082764,
            -3.441826343536377,
            0.2709851562976837,
            1.3013430833816528,
            -5.513432502746582,
            5.266566276550293,
            2.192396402359009,
            2.4245471954345703,
            -0.34567421674728394,
            -2.4589896202087402,
            0.4813781976699829,
            0.5013877153396606,
            -0.3705981373786926,
            2.1270649433135986,
            1.6253130435943604,
            -4.997337341308594,
            1.0554239749908447,
            1.5750484466552734,
            -6.279073715209961,
            4.3180742263793945,
            -5.675185203552246,
            0.5659093260765076,
            -3.937424659729004,
            -3.133535385131836,
            5.3690900802612305,
            -3.937910318374634,
            -0.5632666945457458,
            -1.9373369216918945,
            1.4787013530731201,
            -3.0499720573425293,
            -1.1544296741485596,
            -1.331239938735962,
            2.6722187995910645,
            6.596351623535156,
            -1.8215436935424805,
            0.7565165758132935,
            0.758114218711853,
            0.8821661472320557,
            -2.1556756496429443,
            -1.7969622611999512,
            0.4602876901626587,
            -0.23850572109222412,
            -5.167099952697754,
            0.7382875680923462,
            2.0822832584381104,
            2.1653714179992676,
            -2.026942253112793,
            3.2962417602539062,
            7.2067155838012695,
            -0.8128918409347534,
            2.2338132858276367,
            3.645071506500244,
            -1.802673578262329,
            -3.224919319152832,
            -0.8010656833648682,
            -0.6875007748603821,
            0.8768116235733032,
            -1.633324146270752,
            -5.29437255859375,
            0.5958476066589355,
            1.418796420097351,
            0.39328455924987793,
            -2.329087257385254,
            -2.860006332397461,
            -3.026762008666992,
            1.625285267829895,
            -2.4317474365234375,
            -0.9698703289031982,
            0.7372997999191284,
            -0.413402259349823,
            4.148187637329102,
            1.6780577898025513,
            -0.8700973987579346,
            -2.7498607635498047,
            -1.4423243999481201,
            2.789390802383423,
            -1.6954498291015625,
            4.286228179931641,
            1.7242637872695923,
            -1.1891156435012817,
            2.4083619117736816,
            -2.2223408222198486,
            -0.4862794280052185,
            -3.0522079467773438,
            -1.1989468336105347,
            -0.7398056387901306,
            3.871737241744995,
            1.3432719707489014,
            -0.5358105897903442,
            0.6585139632225037,
            1.1767852306365967,
            5.1900482177734375,
            -1.407987117767334,
            -1.7759885787963867,
            2.0093507766723633,
            -0.7118898630142212,
            -3.3429980278015137,
            -1.5295701026916504,
            -2.039761543273926,
            1.7438654899597168,
            1.3826563358306885,
            -1.8196702003479004,
            -6.765193462371826,
            0.7379295825958252,
            -1.2381614446640015,
            -3.5231664180755615,
            1.7190340757369995,
            -0.28629937767982483,
            -0.8604369163513184,
            -0.16603252291679382,
            -1.2040308713912964,
            -1.0159800052642822,
            1.1004869937896729,
            -3.3605268001556396,
            0.17379224300384521,
            -1.562137246131897,
            -1.9450708627700806,
            2.372607707977295,
            -0.5035995244979858,
            3.7314975261688232,
            -3.673947334289551,
            1.1217166185379028,
            3.691352128982544,
            -5.704647064208984,
            2.655500650405884,
            0.03422515094280243,
            0.6330368518829346,
            0.845583975315094,
            -0.3505532741546631,
            1.6220413446426392,
            -1.6951605081558228,
            -3.5785892009735107,
            4.329261779785156,
            2.454056978225708,
            2.3971219062805176,
            0.12130580842494965,
            5.010951519012451,
            5.365570068359375,
            -3.7797226905822754,
            1.299131155014038,
            -0.6804709434509277,
            1.3270561695098877,
            5.380784034729004,
            -6.165217399597168,
            3.288515567779541,
            0.8143161535263062,
            -0.4787796437740326,
            1.8926811218261719,
            0.8533287644386292,
            -6.158642768859863,
            -2.7725768089294434,
            1.715897560119629,
            -3.046604633331299,
            -3.2802679538726807,
            4.0180158615112305,
            -0.19383710622787476,
            4.592265605926514,
            -1.2398808002471924,
            0.4159047603607178,
            0.0653536319732666,
            1.5330851078033447,
            6.5132856369018555,
            0.6955652236938477,
            -0.2735123634338379,
            -2.709357500076294,
            0.4340496063232422,
            1.0140607357025146,
            -0.7292568683624268,
            -0.5590218305587769,
            -3.597249984741211,
            -0.9871126413345337,
            -4.377371311187744,
            2.453117847442627,
            -4.229679107666016,
            -3.7307369709014893,
            -0.6674930453300476,
            -0.2744240164756775,
            0.7161309123039246,
            -2.9129409790039062,
            2.9121947288513184,
            2.198467254638672,
            2.0574750900268555,
            -0.7656081914901733,
            0.8037128448486328,
            2.525191307067871,
            -4.746823310852051,
            1.131435751914978,
            1.8063881397247314,
            -0.5640440583229065,
            -2.3799870014190674,
            -1.3999369144439697,
            1.5319381952285767,
            1.5682358741760254,
            -1.200614333152771,
            6.136859893798828,
            4.373905181884766,
            1.4813332557678223,
            2.1547157764434814,
            -2.426225423812866,
            -3.268509864807129,
            -0.4490693211555481,
            -3.3102128505706787,
            -4.470883369445801,
            -8.159260749816895,
            -0.019358694553375244,
            6.020153045654297,
            -1.4543302059173584,
            -0.38677772879600525,
            3.2323203086853027,
            4.002951622009277,
            -2.739865779876709,
            1.4847601652145386,
            -5.071962356567383,
            1.1296679973602295,
            -0.8758668899536133,
            2.640913486480713,
            -1.1184136867523193,
            -3.086369514465332,
            -6.12370491027832,
            -2.866396427154541,
            1.980635166168213,
            -1.9279930591583252,
            -2.8865294456481934,
            -4.277827262878418,
            -0.6212420463562012,
            -3.3916261196136475,
            -5.802741050720215,
            6.983715057373047,
            1.6111762523651123,
            -0.2700501084327698,
            4.579721927642822,
            1.6026227474212646,
            -2.962139368057251,
            -3.146566390991211,
            -3.119636058807373,
            -2.2153568267822266,
            -1.9514957666397095,
            -2.2908573150634766,
            0.98197340965271,
            3.4191133975982666,
            -0.13177615404129028,
            0.8704628944396973,
            3.161334753036499,
            0.40132951736450195,
            -1.334320306777954,
            1.7041113376617432,
            0.6303828954696655,
            -2.58656644821167,
            2.2004446983337402,
            1.3217146396636963,
            1.6725959777832031,
            -2.1068804264068604,
            -3.3124732971191406,
            -3.075840950012207,
            -2.794851064682007,
            -2.147942066192627,
            4.043854713439941,
            2.241875648498535,
            2.220311164855957,
            1.245754361152649,
            -1.6350908279418945,
            -1.5469284057617188,
            -3.9974215030670166,
            -0.5077333450317383,
            -0.3032035827636719,
            1.866288185119629,
            5.155002117156982,
            4.414943695068359,
            -3.882218599319458,
            -4.369095325469971,
            -2.5763344764709473,
            -3.056684970855713,
            -0.8195230960845947,
            -2.045496702194214,
            -2.232194423675537,
            -3.5537033081054688,
            1.0240497589111328,
            -2.9951231479644775,
            4.625683784484863,
            -5.984389305114746,
            -4.2660722732543945,
            -2.7520294189453125,
            0.11370748281478882,
            5.347362518310547,
            -1.1977338790893555,
            1.4356571435928345,
            -1.7852070331573486,
            1.2096800804138184,
            3.1007461547851562,
            3.00754976272583,
            2.9920639991760254,
            -2.2236287593841553,
            3.3970260620117188,
            0.5082852840423584,
            -3.1334900856018066,
            0.5009496212005615,
            -4.357726097106934,
            -1.849196434020996,
            2.5512895584106445,
            0.2995619475841522,
            -7.106764793395996,
            3.639209032058716,
            0.5748715996742249,
            2.8516013622283936,
            -2.621777057647705,
            -2.674002170562744,
            -0.48666805028915405,
            -1.4142757654190063,
            0.4223319888114929,
            -1.2135628461837769,
            -1.008952260017395,
            -2.023467540740967,
            2.8585495948791504,
            1.4949493408203125,
            3.6223018169403076,
            -4.080326557159424,
            4.244908809661865,
            0.545779287815094,
            3.426997661590576,
            1.9199098348617554,
            2.7952497005462646,
            -1.9218811988830566,
            -6.41373872756958,
            -1.5510358810424805,
            -1.672785997390747,
            -0.4456181526184082,
            0.771400511264801,
            4.925673484802246,
            5.343504428863525,
            1.3836621046066284,
            3.166715621948242,
            -3.467363119125366,
            2.2685437202453613,
            0.8392965793609619,
            4.373357772827148,
            -0.17743203043937683,
            -0.32770204544067383,
            0.14083629846572876,
            -0.38950657844543457,
            5.383493900299072,
            -0.32926905155181885,
            -1.9541152715682983,
            5.742478847503662,
            4.6327385902404785,
            1.322750210762024,
            0.5701810121536255,
            -0.19921928644180298,
            1.48587167263031,
            2.101785659790039,
            1.9589534997940063,
            3.7711007595062256,
            -0.12982754409313202,
            -3.2891414165496826,
            10.308786392211914,
            -2.630598306655884,
            2.707357168197632,
            -2.780565023422241,
            -6.329535007476807,
            -2.0314550399780273,
            -3.0623791217803955,
            1.8770419359207153,
            -0.8359746336936951,
            -1.0861992835998535,
            1.1013926267623901,
            0.9218164086341858,
            1.4254382848739624,
            1.185811996459961,
            -3.910426616668701,
            2.897845506668091,
            -0.7564680576324463,
            1.7588138580322266,
            0.9527038335800171,
            0.3795173764228821,
            -0.9810757637023926,
            1.7677885293960571,
            2.9874391555786133,
            0.6249693036079407,
            -0.7005730867385864,
            -1.6411051750183105,
            0.09191808104515076,
            1.2576603889465332,
            -0.74421226978302,
            -0.3878580927848816,
            1.7419673204421997,
            -1.2280770540237427,
            0.4118954539299011,
            -0.09420877695083618,
            -2.8012442588806152,
            -2.9939725399017334,
            6.365845203399658,
            4.783835411071777,
            -4.777090549468994,
            1.74765944480896,
            5.07895040512085,
            -1.1689989566802979,
            1.002317190170288,
            -0.5889545679092407,
            -4.5156755447387695,
            -0.5392720103263855,
            1.4938000440597534,
            -3.7038846015930176,
            2.452256679534912,
            0.7643460631370544,
            3.7795653343200684,
            2.5068180561065674,
            1.7836416959762573,
            2.5178332328796387,
            -0.741451621055603,
            3.846888303756714,
            4.646361351013184,
            1.0257182121276855,
            -0.11929255723953247,
            -0.4287068843841553,
            1.6183046102523804,
            1.405680537223816,
            -0.42405301332473755,
            1.221688151359558,
            -2.105938196182251,
            3.3806471824645996,
            0.44181445240974426,
            2.870245933532715,
            -0.8376247882843018,
            3.0173614025115967,
            0.15333932638168335,
            -0.00755581259727478,
            0.6311227083206177,
            -2.274648427963257,
            3.639958143234253,
            4.809527397155762,
            -0.08432276546955109,
            -0.479572594165802,
            1.468043327331543,
            3.47316312789917,
            2.7633888721466064,
            2.986159324645996,
            -3.280339241027832,
            -0.23539431393146515,
            4.595666408538818,
            -8.183161735534668,
            -2.831531047821045,
            0.3711738884449005,
            -0.36050599813461304,
            0.9887077808380127,
            -4.213910102844238,
            0.8306386470794678,
            -1.4936765432357788,
            -1.960627794265747,
            -2.1955840587615967,
            5.189650535583496,
            -1.1806265115737915,
            0.716033935546875,
            -0.440265029668808,
            2.17075252532959,
            -1.5256983041763306,
            0.768521785736084,
            -2.145045757293701,
            3.743863582611084,
            1.5047810077667236,
            0.38713642954826355,
            -1.00123929977417,
            1.2103819847106934,
            -1.3291109800338745,
            -0.9083085656166077,
            1.9638290405273438,
            3.2952773571014404,
            2.182945966720581,
            -7.9722490310668945,
            -5.181972503662109,
            -0.8411099314689636,
            5.0625224113464355,
            -2.4763741493225098,
            1.2340614795684814,
            2.911243438720703,
            3.620772361755371,
            0.34816592931747437,
            4.032384872436523,
            -0.17190898954868317,
            3.283142566680908,
            3.7117984294891357,
            3.0602004528045654,
            -3.3702478408813477,
            -1.4192545413970947,
            -1.9314900636672974,
            -3.329599380493164,
            -3.1860358715057373,
            2.3813185691833496,
            1.4237860441207886,
            0.020570218563079834,
            -4.527337074279785,
            0.095866858959198,
            -3.4522223472595215,
            -4.865992546081543,
            1.0272856950759888,
            4.077373504638672,
            1.6666522026062012,
            -0.07873761653900146,
            0.1646183729171753,
            -0.1400502324104309,
            1.617152452468872,
            -2.409748077392578,
            2.165416955947876,
            -2.060786724090576,
            -0.15226049721240997,
            2.365467071533203,
            2.497537136077881,
            7.128893852233887,
            -0.289984792470932,
            -1.8417963981628418,
            -1.0033478736877441,
            -1.2809120416641235,
            1.305242896080017,
            1.9939229488372803,
            0.2879698872566223,
            4.421271324157715,
            -1.052515983581543,
            4.71907901763916,
            4.839726448059082,
            7.479612827301025,
            2.7443318367004395,
            3.4612174034118652,
            -2.2240512371063232,
            1.792636513710022,
            -1.986781358718872,
            -1.1100237369537354,
            3.439970016479492,
            -5.121615409851074,
            1.9650909900665283,
            1.0971386432647705,
            -0.9946586489677429,
            1.1891605854034424,
            1.139128565788269,
            0.13199198246002197,
            2.9733657836914062,
            -0.04803043603897095,
            -1.5127596855163574,
            -3.4079437255859375,
            1.7073439359664917,
            0.6184810400009155,
            -1.5563266277313232,
            -0.6112829446792603,
            -1.239450454711914,
            -0.09278237819671631,
            -1.9178907871246338,
            -2.1543009281158447,
            -1.206042766571045,
            0.6889917850494385,
            7.696444988250732,
            1.3000333309173584,
            -2.482816696166992,
            3.976524829864502,
            -0.2782166004180908,
            1.3788844347000122,
            -2.0916337966918945,
            -0.36786073446273804,
            4.564720153808594,
            -0.9616056680679321,
            -4.269986629486084,
            -2.3273277282714844,
            1.1050113439559937,
            -0.05304121971130371,
            0.6853024959564209,
            0.38038507103919983,
            -2.9275054931640625,
            1.7632964849472046,
            4.523210525512695,
            1.799351692199707,
            0.1971931755542755,
            0.6658986806869507,
            -4.800943374633789,
            -4.76703405380249,
            -5.676074504852295,
            1.799471378326416,
            -1.6285865306854248,
            -5.7467498779296875,
            3.2366161346435547,
            -4.560821533203125,
            -2.305727005004883,
            1.073613166809082,
            1.7449698448181152,
            -1.5028762817382812,
            -2.2652838230133057,
            2.996976852416992,
            -3.687676429748535,
            1.4387993812561035,
            -5.6372270584106445,
            -0.4123028516769409,
            5.158037185668945,
            0.232088103890419,
            5.034675598144531,
            1.7765172719955444,
            2.0933830738067627,
            -3.160642385482788,
            -1.129140019416809,
            1.3424785137176514,
            0.5608590245246887,
            2.969999313354492,
            0.35081738233566284,
            -1.1519548892974854,
            1.3234610557556152,
            11.434382438659668,
            -3.727853298187256,
            -2.087038278579712,
            -3.5735814571380615,
            -0.3524613380432129,
            -0.5397933125495911,
            -4.163280010223389,
            2.377953052520752,
            4.777663230895996,
            2.205115795135498,
            -2.1382217407226562,
            0.5731946229934692,
            -2.426863670349121,
            1.4012739658355713,
            -1.4613399505615234,
            -2.0064444541931152,
            -2.9789505004882812,
            3.5651540756225586,
            -1.726670265197754,
            -1.7124594449996948,
            2.1462721824645996,
            0.24661299586296082,
            1.427529215812683,
            -1.170877456665039,
            -3.0378055572509766,
            4.917064666748047,
            -0.0797114372253418,
            0.6470634341239929,
            0.30974113941192627,
            -3.915238857269287,
            0.676661491394043,
            5.523748397827148,
            0.6078193187713623,
            1.0637168884277344,
            -0.9225218892097473,
            3.4972774982452393,
            0.5233415365219116,
            -1.5949342250823975,
            -3.2003512382507324,
            1.8406929969787598,
            -3.24381160736084,
            0.9423288106918335,
            -0.8164272308349609,
            0.3396829068660736,
            -2.8251986503601074,
            2.2591373920440674,
            3.597745180130005,
            -1.0442156791687012,
            -2.122788667678833,
            4.866229057312012,
            -2.6496458053588867,
            -1.9420430660247803,
            0.5582083463668823,
            3.8015615940093994,
            -1.3558697700500488,
            0.5426326394081116,
            0.8095353841781616,
            -4.769812107086182,
            1.4642345905303955,
            -0.8107359409332275,
            2.852470874786377,
            0.6108946800231934,
            2.0618984699249268,
            -3.620983362197876,
            -5.714337348937988,
            1.1720237731933594,
            -5.31363582611084,
            3.3930485248565674,
            3.656229019165039,
            -0.9171246290206909,
            -0.02517823874950409,
            0.28254055976867676,
            -0.1274852752685547,
            -4.518080234527588,
            0.9303461909294128,
            -2.362849712371826,
            -1.1168272495269775,
            -3.216242551803589,
            0.11862368881702423,
            11.064861297607422,
            -2.0154337882995605,
            -1.5792702436447144,
            1.1852607727050781,
            0.19900482892990112,
            3.9823226928710938,
            -3.0979461669921875,
            3.9936983585357666,
            2.65057635307312,
            -1.467987298965454,
            1.4323655366897583,
            -4.2683515548706055,
            1.2655911445617676,
            2.25108003616333,
            5.582287788391113,
            2.410837411880493,
            -6.045649528503418,
            -1.5923945903778076,
            -1.610982060432434,
            -2.5971808433532715,
            -1.2888798713684082,
            2.5880415439605713,
            4.514599323272705,
            -0.6786436438560486,
            -4.618295669555664,
            0.5495699048042297,
            -0.5026341676712036,
            -4.036622524261475,
            -4.505775451660156,
            -0.9890186190605164,
            -2.732140064239502,
            -1.0253326892852783,
            -2.3263587951660156,
            -1.3618173599243164,
            -0.13421347737312317,
            4.999740123748779,
            -1.9732133150100708,
            2.678014039993286,
            0.903427004814148,
            -0.640410304069519,
            1.0337293148040771,
            1.6474603414535522,
            -1.8510560989379883,
            -0.7341179847717285,
            -6.241725444793701,
            -2.4442055225372314,
            -2.3337607383728027,
            3.4763479232788086,
            -2.9393386840820312,
            -0.38626760244369507,
            0.2873018682003021,
            3.991579055786133,
            -2.0484354496002197,
            -3.0896928310394287,
            -2.1251540184020996,
            -2.322315216064453,
            -2.4343957901000977,
            -0.2077101171016693,
            -1.3815908432006836,
            -3.0602288246154785,
            3.1977953910827637,
            2.9918763637542725,
            -2.3618581295013428,
            -0.44005197286605835,
            7.180021286010742,
            1.491600513458252,
            -1.8859682083129883,
            -0.8749803304672241,
            -0.6507814526557922,
            2.047767162322998,
            3.008187770843506,
            1.6212438344955444,
            -1.5807158946990967,
            3.3745241165161133,
            -2.426278591156006,
            1.406441330909729,
            -0.29101839661598206
        ]
    },
    "authors": [
        {
            "authorId": "2315812374",
            "name": "Alexander P. Morgan"
        }
    ],
    "references": [
        {
            "paperId": "d86df672da3479c68cbdfce85b0560ab3264fe3f",
            "title": "Data Mixture Inference: What do BPE Tokenizers Reveal about their Training Data?"
        },
        {
            "paperId": "e6ffa22c9f53c7dc97da365bfe868951ff7ddf42",
            "title": "Fishing for Magikarp: Automatically Detecting Under-trained Tokens in Large Language Models"
        },
        {
            "paperId": "788cae44a021a7a5bbc8032c5626d980a6f7468a",
            "title": "Rethinking Tokenization: Crafting Better Tokenizers for Large Language Models"
        },
        {
            "paperId": "9a56e9b5c1a96e758163296d15e960dfae44ce61",
            "title": "A Formal Perspective on Byte-Pair Encoding"
        },
        {
            "paperId": "b0b0dddb8310e01b9407a21674c2d33a23a6e967",
            "title": "Byte Pair Encoding is Suboptimal for Language Model Pretraining"
        },
        {
            "paperId": "b5246fa284f86b544a7c31f050b3bd0defd053fd",
            "title": "SentencePiece: A simple and language independent subword tokenizer and detokenizer for Neural Text Processing"
        },
        {
            "paperId": "1518039b5001f1836565215eb047526b3ac7f462",
            "title": "Neural Machine Translation of Rare Words with Subword Units"
        },
        {
            "paperId": "1aa9c0045f1fe8c79cce03c7c14ef4b4643a21f8",
            "title": "A new algorithm for data compression"
        },
        {
            "paperId": "9405cc0d6169988371b2755e573cc28650d14dfe",
            "title": "Language Models are Unsupervised Multitask Learners"
        },
        {
            "paperId": null,
            "title": "TokenMonster (Tokenizer repository)"
        },
        {
            "paperId": null,
            "title": "Let\u2019s build the GPT Tokenizer. Tutorial Video"
        },
        {
            "paperId": null,
            "title": "sample 2 column word counts"
        },
        {
            "paperId": null,
            "title": "Batching BPE Tokenization"
        },
        {
            "paperId": null,
            "title": "BatchBPE (Python tokenizer repository, fork of Karpathy\u2019s minbpe)"
        },
        {
            "paperId": null,
            "title": "capcode (Loss-less text case normalizer for tokenization)"
        },
        {
            "paperId": null,
            "title": "HuggingFace. Tokenizers (Multi-language tokenizer repository"
        },
        {
            "paperId": null,
            "title": "minbpe (Python tokenizer"
        },
        {
            "paperId": null,
            "title": "OpenAI"
        }
    ]
}