{
    "paperId": "4ef19c41352bb0ff7bd2d1339ba742c451e5222a",
    "externalIds": {
        "CorpusId": 271840974
    },
    "title": "Edinburgh Research Explorer Accelerating Shared Library Execution in a DBT",
    "abstract": "User-mode Dynamic Binary Translation (DBT) has recently received renewed interest, not least due to Apple\u2019s transition towards the Arm ISA, supported by a DBT compatibility layer for x86 legacy applications. While receiving praise for its performance, execution of legacy applications through Apple\u2019s Rosetta 2 technology still incurs a performance penalty when compared to direct host execution. A particular limitation of Rosetta 2 is that code is either executed exclusively as native Arm code, or as translated Arm code. In particular, mixed mode execution of native Arm code and translated code is not possible. This is a missed opportunity, especially in the case of shared libraries where both optimized x86 and Arm versions of the same library are available. In this paper, we develop mixed mode execution capabilities for shared libraries in a DBT system, eliminating the need to translate code where a highly optimised native version already exists. Our novel execution model intercepts calls to shared library functions in the DBT system and automatically redi-rects them to their faster host counterparts, making better use of the underlying host ISA. To ease the burden for the developer, we make use of an Interface Description Language (IDL) to capture library function signatures, from which relevant stubs and data marshalling code are generated automatically. We have implemented our novel mixed mode execution approach in the open-source Qemu DBT system, and demonstrate both ease of use and performance benefits for three popular libraries (standard C Math library, SQLite, and OpenSSL). Our evaluation confirms that with minimal developer effort, accelerated host execution of shared library functionality results in speedups between 2 . 7 \u00d7 and 6 . 3 \u00d7 on average, and up to 28 \u00d7 for x86 legacy applications on an Arm host system.",
    "venue": "",
    "year": null,
    "referenceCount": 10,
    "citationCount": 0,
    "influentialCitationCount": 0,
    "openAccessPdf": null,
    "tldr": {
        "model": "tldr@v2.0.0",
        "text": "This paper develops mixed mode execution capabilities for shared libraries in a DBT system, eliminating the need to translate code where a highly optimised native version already exists, and implements this approach in the open-source Qemu DBT system."
    },
    "embedding": {
        "model": "specter_v1",
        "vector": [
            -1.8148620128631592,
            -0.36760663986206055,
            -1.4909920692443848,
            4.435394287109375,
            0.9180680513381958,
            1.4670206308364868,
            -1.4156255722045898,
            2.795461416244507,
            -3.886378049850464,
            1.9484763145446777,
            -1.8600759506225586,
            0.22319984436035156,
            1.3310470581054688,
            -1.6765116453170776,
            -2.288961410522461,
            -0.8134596943855286,
            0.07167816162109375,
            -2.5299887657165527,
            6.704828262329102,
            5.0128374099731445,
            1.743375539779663,
            0.44206684827804565,
            0.0032687336206436157,
            4.666238784790039,
            -2.876889705657959,
            -0.023080304265022278,
            2.137395143508911,
            1.9543811082839966,
            -3.5542938709259033,
            0.1922682225704193,
            -0.5499972105026245,
            -4.117900848388672,
            4.016378402709961,
            -3.484931230545044,
            -0.6407129764556885,
            -3.6086831092834473,
            -2.126511812210083,
            6.160184383392334,
            -5.8984880447387695,
            -1.7281582355499268,
            0.4923175573348999,
            0.9344133138656616,
            -1.9849979877471924,
            -3.441410779953003,
            0.07350069284439087,
            1.2598388195037842,
            4.880087852478027,
            -1.677295207977295,
            3.5473403930664062,
            2.874051094055176,
            2.5339620113372803,
            -0.68045973777771,
            0.8417049646377563,
            1.0715606212615967,
            -3.1150827407836914,
            0.4100227952003479,
            0.723042368888855,
            0.23577797412872314,
            2.724776268005371,
            -3.2129054069519043,
            2.092100143432617,
            8.256811141967773,
            1.7957160472869873,
            2.593156576156616,
            2.4501733779907227,
            -1.9906821250915527,
            -2.9704360961914062,
            1.2227964401245117,
            4.474137783050537,
            3.8777687549591064,
            0.23786675930023193,
            -0.4638389050960541,
            4.291065692901611,
            2.1576266288757324,
            -2.9102649688720703,
            0.8430429100990295,
            -2.8193602561950684,
            1.3371378183364868,
            2.9579224586486816,
            -5.278471946716309,
            -3.857787609100342,
            2.920600414276123,
            -2.1393015384674072,
            5.705325603485107,
            2.10690975189209,
            -3.034315586090088,
            0.46831583976745605,
            -0.5284208059310913,
            4.006854057312012,
            0.9335017204284668,
            3.9681317806243896,
            0.5696461200714111,
            -1.6968226432800293,
            2.20426607131958,
            0.5250970721244812,
            0.8669337034225464,
            2.695708990097046,
            -0.42601341009140015,
            2.6915535926818848,
            -0.5769506096839905,
            1.2075434923171997,
            0.16221454739570618,
            -0.3894936144351959,
            -2.3160691261291504,
            2.55511474609375,
            -2.919105291366577,
            0.4658626616001129,
            4.687860012054443,
            -1.92374587059021,
            0.04969817399978638,
            -2.2475218772888184,
            2.3617708683013916,
            -0.3747206926345825,
            -5.970154285430908,
            -2.3168296813964844,
            -2.6466422080993652,
            1.0164426565170288,
            -3.077822685241699,
            -4.582220554351807,
            2.447103500366211,
            0.7803663611412048,
            -3.1182453632354736,
            2.003913640975952,
            3.074939727783203,
            0.9698675274848938,
            -2.6370081901550293,
            -2.4693992137908936,
            -3.0775182247161865,
            -2.770754814147949,
            -2.877152442932129,
            2.833864212036133,
            -0.327950119972229,
            -0.10042551159858704,
            -3.7456583976745605,
            0.36510348320007324,
            -0.6601647734642029,
            -1.3631434440612793,
            1.3600894212722778,
            -0.3302716314792633,
            2.448610305786133,
            3.093151569366455,
            5.862178802490234,
            -1.8886828422546387,
            1.090320110321045,
            -2.453378200531006,
            1.1458277702331543,
            3.877065896987915,
            7.008780479431152,
            -3.4243240356445312,
            4.035365104675293,
            5.231638431549072,
            -0.5938755869865417,
            -1.0698058605194092,
            -2.222747325897217,
            -1.0862812995910645,
            2.826848268508911,
            -3.6103129386901855,
            2.5753767490386963,
            0.7931073307991028,
            0.06780040264129639,
            0.9452291131019592,
            0.54704350233078,
            -10.288640975952148,
            -5.298895835876465,
            6.120084762573242,
            -6.504122257232666,
            -2.068848133087158,
            1.8535706996917725,
            2.539806842803955,
            4.119128227233887,
            -7.127856254577637,
            3.1027069091796875,
            2.1833112239837646,
            -0.595792293548584,
            3.946009397506714,
            1.9725003242492676,
            0.9367880821228027,
            -5.516916275024414,
            -1.4818000793457031,
            -2.3244028091430664,
            0.24992311000823975,
            2.989694356918335,
            -5.976836204528809,
            1.2180895805358887,
            -3.8989498615264893,
            -2.39074969291687,
            -1.825472116470337,
            -1.5920082330703735,
            -2.10528826713562,
            2.3485820293426514,
            -2.050605535507202,
            -1.7586342096328735,
            4.421566009521484,
            4.044875144958496,
            2.6521995067596436,
            -1.6192268133163452,
            6.388613700866699,
            1.5986164808273315,
            -1.6073843240737915,
            -1.5384387969970703,
            1.0169686079025269,
            1.6315035820007324,
            -1.7245326042175293,
            2.5128438472747803,
            4.370057106018066,
            -0.3525053858757019,
            0.28981897234916687,
            -0.9509791731834412,
            -0.7856054902076721,
            0.1964552104473114,
            0.02502536028623581,
            0.23778575658798218,
            -1.9759987592697144,
            -0.636396586894989,
            -0.6384347081184387,
            -2.7508201599121094,
            -6.874441146850586,
            1.7339016199111938,
            6.416031360626221,
            -1.3692671060562134,
            1.0602737665176392,
            -0.7078475952148438,
            -0.8242651224136353,
            -2.9531779289245605,
            1.1894279718399048,
            0.5505819916725159,
            -0.2406110167503357,
            -0.3415493071079254,
            1.43490731716156,
            -0.04994851350784302,
            0.2733910083770752,
            -4.394044399261475,
            0.7193266153335571,
            -4.917365550994873,
            -0.6222188472747803,
            -1.6109399795532227,
            -0.6046643257141113,
            -1.785862922668457,
            2.351231575012207,
            -2.2676796913146973,
            5.166995048522949,
            1.368330717086792,
            0.12185338139533997,
            4.471108913421631,
            1.1811727285385132,
            -0.5251404047012329,
            0.27424201369285583,
            -0.6840684413909912,
            1.2893365621566772,
            1.243393898010254,
            2.247668743133545,
            -2.809382915496826,
            5.175215721130371,
            2.539654493331909,
            2.7738871574401855,
            3.5421700477600098,
            0.003022700548171997,
            -3.8916337490081787,
            -2.662416458129883,
            -0.6603347659111023,
            -0.20580965280532837,
            1.3426432609558105,
            2.737492561340332,
            0.7486829161643982,
            0.03355574607849121,
            -1.7622759342193604,
            -1.9378635883331299,
            -1.501138687133789,
            1.9081071615219116,
            2.4358291625976562,
            4.944835186004639,
            0.8276069760322571,
            -2.31978702545166,
            -5.975568771362305,
            -1.6727194786071777,
            -8.343439102172852,
            -0.8009946346282959,
            -1.389997959136963,
            -2.300737142562866,
            6.116567611694336,
            5.015929222106934,
            -3.5304369926452637,
            -2.17862606048584,
            -1.5677073001861572,
            -1.5302114486694336,
            0.6383218765258789,
            -0.3749855160713196,
            -1.6461632251739502,
            -2.4051051139831543,
            -3.2389822006225586,
            1.2034733295440674,
            0.9484394788742065,
            -2.765780448913574,
            -3.953227996826172,
            -1.2892849445343018,
            3.994349718093872,
            4.449831962585449,
            -2.0954220294952393,
            -2.758155107498169,
            0.07882371544837952,
            -1.5362684726715088,
            1.3915793895721436,
            1.9264764785766602,
            -0.4108126163482666,
            -1.8632712364196777,
            -0.23505988717079163,
            -1.2770698070526123,
            -2.892611265182495,
            1.1421585083007812,
            -1.7909445762634277,
            0.4650602340698242,
            4.427006721496582,
            2.7645626068115234,
            0.19707584381103516,
            -0.7728310227394104,
            -1.676946997642517,
            1.5272672176361084,
            1.2126491069793701,
            -4.433785438537598,
            4.541287422180176,
            -5.681194305419922,
            -0.0404476523399353,
            -1.2536673545837402,
            0.875946044921875,
            -0.1397131383419037,
            -0.2569764256477356,
            -2.21419095993042,
            -0.6422886848449707,
            1.8008716106414795,
            2.7528114318847656,
            2.852092742919922,
            3.4411673545837402,
            1.0717642307281494,
            1.3632571697235107,
            2.9375665187835693,
            0.7098363637924194,
            0.8348819613456726,
            -1.342067003250122,
            -0.7167258858680725,
            -1.9669537544250488,
            2.638212203979492,
            6.117040157318115,
            0.43396270275115967,
            0.5228925943374634,
            2.5955662727355957,
            -0.2574059069156647,
            1.7760604619979858,
            -0.7670238018035889,
            0.29085397720336914,
            0.41809895634651184,
            0.8169053792953491,
            -2.5669031143188477,
            3.47104549407959,
            -1.0390681028366089,
            -1.9908149242401123,
            4.559610366821289,
            0.9220994710922241,
            -0.43341535329818726,
            0.81227707862854,
            -1.8811595439910889,
            -0.4161412715911865,
            2.407968521118164,
            0.8895475268363953,
            0.15324532985687256,
            0.34990447759628296,
            -2.928797960281372,
            10.611895561218262,
            -2.0018906593322754,
            2.5057313442230225,
            -2.554206371307373,
            -3.233255386352539,
            -6.619725227355957,
            -3.2638821601867676,
            -3.5042922496795654,
            -0.8249133825302124,
            -0.28342127799987793,
            -0.7764826416969299,
            -2.5222220420837402,
            -2.4354588985443115,
            -3.48500919342041,
            -4.732484340667725,
            4.501258373260498,
            -2.2182984352111816,
            6.183584213256836,
            0.3094119727611542,
            2.1969709396362305,
            -0.7624506950378418,
            0.5388869643211365,
            0.09401211142539978,
            2.971975803375244,
            -2.3616013526916504,
            0.30567726492881775,
            0.21869713068008423,
            4.897246837615967,
            -0.30503159761428833,
            -1.452810287475586,
            -0.3722214996814728,
            1.035674810409546,
            0.7332725524902344,
            3.1046149730682373,
            -1.2396641969680786,
            -4.02904748916626,
            4.029377460479736,
            3.7920050621032715,
            -3.997891664505005,
            3.3952531814575195,
            0.4197113811969757,
            2.1061456203460693,
            0.8722771406173706,
            -2.1166586875915527,
            -3.9347567558288574,
            -0.10438746213912964,
            -1.4578028917312622,
            -5.60335636138916,
            -3.022057056427002,
            -2.06864070892334,
            1.678556203842163,
            0.7131801247596741,
            1.4785797595977783,
            0.5817949771881104,
            -2.616084098815918,
            0.379696249961853,
            5.673730373382568,
            3.2467286586761475,
            -5.342844009399414,
            0.4028888940811157,
            -0.9310125112533569,
            3.0641841888427734,
            1.3433815240859985,
            3.5167226791381836,
            -1.1160426139831543,
            -0.9584305882453918,
            -3.3957252502441406,
            -0.5575188994407654,
            4.384612083435059,
            3.3158583641052246,
            -4.606424331665039,
            1.2175170183181763,
            0.297760546207428,
            -2.572387218475342,
            1.6716365814208984,
            3.595311403274536,
            -5.263354301452637,
            1.2298412322998047,
            -1.3598581552505493,
            1.3256973028182983,
            4.346832275390625,
            -2.99505877494812,
            -4.953217506408691,
            3.265227794647217,
            1.5823529958724976,
            -5.563960075378418,
            -0.6854444742202759,
            -2.275682210922241,
            3.560624122619629,
            -0.14314037561416626,
            -0.07643572986125946,
            1.2536269426345825,
            -2.4021263122558594,
            -0.9499251842498779,
            -0.5254784822463989,
            5.055757522583008,
            -2.11972975730896,
            -0.6200913190841675,
            3.2896640300750732,
            0.5203647613525391,
            1.4190247058868408,
            -5.114042282104492,
            3.6566147804260254,
            1.7988932132720947,
            -0.36976832151412964,
            -0.1800127625465393,
            -0.2057057023048401,
            3.3114848136901855,
            -0.6337893605232239,
            0.873422384262085,
            1.8730919361114502,
            -3.3054323196411133,
            0.28988033533096313,
            -3.7945971488952637,
            -0.2355203628540039,
            -1.1258405447006226,
            -1.142271637916565,
            -1.0062288045883179,
            -4.188239097595215,
            3.874936819076538,
            3.6216845512390137,
            -0.16929301619529724,
            0.3683165907859802,
            0.42360222339630127,
            -1.6727796792984009,
            -1.492414951324463,
            3.452483654022217,
            -5.090823650360107,
            3.034372329711914,
            1.9673283100128174,
            -3.9848294258117676,
            2.4332380294799805,
            1.006828784942627,
            -0.21728116273880005,
            -3.842402696609497,
            -6.921051025390625,
            -2.5363283157348633,
            -3.3480491638183594,
            -4.943222999572754,
            4.541616439819336,
            2.2329211235046387,
            1.3234834671020508,
            1.769735336303711,
            1.2237966060638428,
            0.36385053396224976,
            0.0909300446510315,
            -0.2092566192150116,
            3.5356101989746094,
            0.3603445291519165,
            -0.7176359295845032,
            5.978133201599121,
            -0.3720357418060303,
            2.8457138538360596,
            0.9343976974487305,
            0.2142784297466278,
            0.13454920053482056,
            -0.13508379459381104,
            0.6666591167449951,
            0.7411945462226868,
            1.8610700368881226,
            0.90999436378479,
            3.3957574367523193,
            4.273587226867676,
            6.372417449951172,
            4.394189834594727,
            5.031292915344238,
            -2.5239148139953613,
            -2.1983706951141357,
            -0.12732571363449097,
            -0.49753111600875854,
            -0.08411788940429688,
            4.100661754608154,
            -2.778604507446289,
            3.5406923294067383,
            -1.8462231159210205,
            -1.7967404127120972,
            -1.3969082832336426,
            3.5450987815856934,
            1.0618503093719482,
            4.751375198364258,
            -3.0878236293792725,
            0.26721084117889404,
            -1.3757107257843018,
            2.8903489112854004,
            2.930896759033203,
            -1.2649130821228027,
            -1.4918320178985596,
            -2.0820891857147217,
            -2.377749443054199,
            -1.9823209047317505,
            -3.8394570350646973,
            -1.8005225658416748,
            -1.042104721069336,
            0.5442227721214294,
            5.565849304199219,
            -0.49121564626693726,
            0.9513332843780518,
            6.064610481262207,
            -1.0208213329315186,
            1.8072009086608887,
            -2.703707218170166,
            2.7572827339172363,
            2.3635900020599365,
            0.14310291409492493,
            -2.187910318374634,
            -1.0918711423873901,
            2.829014778137207,
            0.9416614770889282,
            -1.0981706380844116,
            -0.21381661295890808,
            2.076183319091797,
            1.7728726863861084,
            1.4411396980285645,
            1.0416061878204346,
            -1.303626537322998,
            -5.555232524871826,
            1.419560432434082,
            -5.928539276123047,
            0.26073217391967773,
            -1.8266253471374512,
            -1.8797436952590942,
            4.900813102722168,
            -3.1161131858825684,
            -1.7574150562286377,
            0.8952692747116089,
            -1.892400860786438,
            -2.0238325595855713,
            -4.8634843826293945,
            0.9597253799438477,
            -4.441449165344238,
            -1.3621997833251953,
            -0.7722769379615784,
            2.2458529472351074,
            0.5873143672943115,
            -1.1995234489440918,
            6.340097904205322,
            -0.48223868012428284,
            1.467584490776062,
            -1.4952869415283203,
            0.2988201379776001,
            2.357907295227051,
            2.3513808250427246,
            2.2933590412139893,
            0.6308313012123108,
            -3.4913508892059326,
            -2.790562629699707,
            16.09050750732422,
            -6.057919979095459,
            0.5414068698883057,
            -2.682438611984253,
            0.9596057534217834,
            -2.289140224456787,
            -0.08937591314315796,
            0.6681866645812988,
            2.8102338314056396,
            0.3937695324420929,
            -1.4092049598693848,
            1.710759162902832,
            -0.2740172743797302,
            0.02638058364391327,
            -0.7925814390182495,
            -0.3166496157646179,
            -4.7756452560424805,
            1.6523587703704834,
            -2.957796812057495,
            -0.9463897943496704,
            4.003142833709717,
            -1.9032537937164307,
            -1.0555158853530884,
            -5.052661895751953,
            -3.678286075592041,
            4.28360652923584,
            3.7910995483398438,
            1.1977657079696655,
            2.372790575027466,
            0.6901046633720398,
            3.9433789253234863,
            4.7929840087890625,
            -1.3049569129943848,
            -0.6375830173492432,
            -0.7907841205596924,
            4.977045059204102,
            -1.78440260887146,
            -2.8081064224243164,
            2.498791217803955,
            5.43269157409668,
            -3.279085159301758,
            -1.6761937141418457,
            -0.627220094203949,
            -4.370211601257324,
            -2.014561414718628,
            -1.3492666482925415,
            -0.24892136454582214,
            0.5617029070854187,
            -2.019138813018799,
            1.7571256160736084,
            -2.4305288791656494,
            -6.639196872711182,
            -2.8533401489257812,
            1.2415987253189087,
            -1.8894610404968262,
            0.8844345211982727,
            1.254040241241455,
            -2.39901065826416,
            -1.6710926294326782,
            -5.240076065063477,
            2.7170870304107666,
            -2.434399366378784,
            2.7635746002197266,
            -2.339369058609009,
            -6.2847113609313965,
            2.0507049560546875,
            -0.4970249533653259,
            -1.9891016483306885,
            0.8681297302246094,
            2.1775171756744385,
            -0.07446324080228806,
            2.364363670349121,
            -0.6250627040863037,
            -1.5712292194366455,
            -1.0305627584457397,
            -1.9909746646881104,
            4.4201741218566895,
            -4.966014862060547,
            1.6554268598556519,
            3.401843786239624,
            -1.811426043510437,
            1.3858616352081299,
            2.236284017562866,
            -1.0392510890960693,
            2.1471199989318848,
            -2.564591407775879,
            2.071601629257202,
            1.6147387027740479,
            -2.344119071960449,
            0.4194900691509247,
            -4.134615898132324,
            0.4494275450706482,
            4.668529510498047,
            4.000516891479492,
            0.9602093696594238,
            -2.4339823722839355,
            -3.4152374267578125,
            -2.3141696453094482,
            -1.7853329181671143,
            2.4819860458374023,
            3.772758722305298,
            3.168381690979004,
            1.9495067596435547,
            -0.7845937013626099,
            -0.39401406049728394,
            1.731821894645691,
            -1.2060002088546753,
            -6.143712997436523,
            3.424509048461914,
            1.6508249044418335,
            -0.08504579961299896,
            -5.684836387634277,
            1.2538001537322998,
            2.429490804672241,
            0.6648767590522766,
            -0.7598716020584106,
            2.847890853881836,
            -0.2552180886268616,
            -3.497288703918457,
            1.1995692253112793,
            2.2624762058258057,
            3.3642003536224365,
            -3.291879415512085,
            -2.525578260421753,
            -3.638298511505127,
            -4.771980285644531,
            -3.49664306640625,
            0.2190832793712616,
            -3.882906913757324,
            2.014181137084961,
            -0.41174620389938354,
            -2.3575572967529297,
            -2.603318691253662,
            3.5267491340637207,
            -0.2613668441772461,
            -1.1251780986785889,
            4.9967193603515625,
            0.2938668727874756,
            3.818228244781494,
            1.3604892492294312,
            0.9078255295753479,
            -2.2634925842285156,
            0.566799521446228,
            12.31424617767334,
            0.7927231788635254,
            -0.23520302772521973,
            -2.6459827423095703,
            0.04246199131011963,
            2.6556878089904785,
            4.323676109313965,
            1.0237504243850708,
            -10.563621520996094,
            1.7273151874542236,
            2.359830856323242,
            3.885723114013672,
            -3.1751139163970947
        ]
    },
    "authors": [
        {
            "authorId": "2856040",
            "name": "T. Spink"
        },
        {
            "authorId": "2307438983",
            "name": "Bj\u00f6rn Franke"
        }
    ],
    "references": [
        {
            "paperId": "a6d02a259d7a153cc83b35c06e664d4063c56c3f",
            "title": "SQLite"
        },
        {
            "paperId": "191fb3dc645169ba1922ad9c55bfac9a78e9978e",
            "title": "Using Local Library Function in Binary Translation"
        },
        {
            "paperId": "3777ee5036c662bdc7318c9775f81eca439e551d",
            "title": "Floating Point Optimization Based on Binary Translation System QEMU"
        },
        {
            "paperId": "3e386b0fd071e971ffd7a4eda53dfcb46b77507f",
            "title": "Improving SIMD code generation in QEMU"
        },
        {
            "paperId": "93e591fe251b3eacba89a3ff4a8c503ddc54c617",
            "title": "QEMU, a Fast and Portable Dynamic Translator"
        },
        {
            "paperId": "97c4079a3c9ff30cc73ed9439767fd9b40ce7fd3",
            "title": "DIGITAL FX!32 running 32-Bit x86 applications on Alpha NT"
        },
        {
            "paperId": null,
            "title": "Announcing ARM64EC: Building Native and Interoperable Apps for Windows 11 on ARM"
        },
        {
            "paperId": null,
            "title": "Procedure Call Standard for the Arm 64-bit Architecture (AArch64)"
        },
        {
            "paperId": null,
            "title": "About the Rosetta Translation Environment"
        },
        {
            "paperId": "f21d1fef38673a2308b090a6f9a87b8fb1dae5a9",
            "title": "OpenSSL : The open source toolkit for SSL/TSL"
        }
    ]
}