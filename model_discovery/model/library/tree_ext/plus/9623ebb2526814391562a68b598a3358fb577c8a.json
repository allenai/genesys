{
    "paperId": "9623ebb2526814391562a68b598a3358fb577c8a",
    "externalIds": {
        "ArXiv": "2409.04701",
        "CorpusId": 272524899
    },
    "title": "Late Chunking: Contextual Chunk Embeddings Using Long-Context Embedding Models",
    "abstract": "Many use cases require retrieving smaller portions of text, and dense vector-based retrieval systems often perform better with shorter text segments, as the semantics are less likely to be\"over-compressed\"in the embeddings. Consequently, practitioners often split text documents into smaller chunks and encode them separately. However, chunk embeddings created in this way can lose contextual information from surrounding chunks, resulting in suboptimal representations. In this paper, we introduce a novel method called\"late chunking,\"which leverages long context embedding models to first embed all tokens of the long text, with chunking applied after the transformer model and just before mean pooling. The resulting chunk embeddings capture the full contextual information, leading to superior results across various retrieval tasks without the need for additional training. Moreover, our method is generic enough to be applied to any long-context embedding model.",
    "venue": "",
    "year": 2024,
    "referenceCount": 10,
    "citationCount": 0,
    "influentialCitationCount": 0,
    "openAccessPdf": null,
    "tldr": {
        "model": "tldr@v2.0.0",
        "text": "This paper introduces a novel method called \"late chunking,\" which leverages long context embedding models to first embed all tokens of the long text, with chunking applied after the transformer model and just before mean pooling."
    },
    "embedding": {
        "model": "specter_v1",
        "vector": [
            -3.775029182434082,
            -1.5415914058685303,
            -1.3770288228988647,
            5.76166296005249,
            4.584094047546387,
            1.7105032205581665,
            4.603079319000244,
            1.5606462955474854,
            -0.7736456990242004,
            0.12360656261444092,
            2.565995216369629,
            4.499079704284668,
            -1.2760767936706543,
            2.1740059852600098,
            -3.2288289070129395,
            1.1636919975280762,
            -2.0025153160095215,
            -4.202271461486816,
            4.385556221008301,
            2.289560556411743,
            1.7380871772766113,
            -2.346782922744751,
            -0.8550217151641846,
            -3.0878090858459473,
            -1.834520697593689,
            -2.311591625213623,
            5.046984672546387,
            2.9831414222717285,
            -0.15479516983032227,
            0.467357873916626,
            -0.9060941934585571,
            -4.137164115905762,
            5.163870811462402,
            -3.2557966709136963,
            3.8923330307006836,
            -6.328784942626953,
            -3.8445396423339844,
            6.649885654449463,
            -4.099038124084473,
            -3.220548152923584,
            -0.8293071985244751,
            -2.8065598011016846,
            -1.461245059967041,
            2.4425995349884033,
            -2.152104377746582,
            2.990607261657715,
            2.3057098388671875,
            -1.0771437883377075,
            1.0539759397506714,
            0.8735122680664062,
            -0.09205186367034912,
            -4.537972450256348,
            0.8284170031547546,
            2.446829319000244,
            3.2170863151550293,
            -1.1071949005126953,
            1.2855281829833984,
            1.8571851253509521,
            2.507032871246338,
            -2.3788177967071533,
            2.728137969970703,
            5.433911323547363,
            -2.1884326934814453,
            2.8419580459594727,
            4.812029838562012,
            -3.1223816871643066,
            -3.6094985008239746,
            4.066492080688477,
            -0.7931570410728455,
            -0.09265151619911194,
            -0.8345052003860474,
            -6.259231090545654,
            0.31480130553245544,
            4.041999816894531,
            -2.663844108581543,
            -4.430776596069336,
            0.8026981353759766,
            -2.024782180786133,
            0.5367001295089722,
            -0.3031306862831116,
            -2.4330883026123047,
            2.1725337505340576,
            -0.8006770610809326,
            1.1989778280258179,
            3.297267436981201,
            -0.7027972936630249,
            -3.35994815826416,
            1.8352211713790894,
            1.210825800895691,
            -1.1060807704925537,
            -0.04143470525741577,
            3.6116814613342285,
            -0.8164503574371338,
            0.04874277114868164,
            -4.315054416656494,
            -1.2591259479522705,
            -1.236414909362793,
            1.7529425621032715,
            -2.4200193881988525,
            0.5924971699714661,
            4.483369827270508,
            -0.62260901927948,
            1.5323755741119385,
            2.858489990234375,
            6.472841262817383,
            -6.537548542022705,
            -0.3765450716018677,
            1.6474871635437012,
            0.851820707321167,
            -3.075467586517334,
            -1.0546975135803223,
            -1.7713470458984375,
            -0.14647623896598816,
            2.15278959274292,
            -1.9040398597717285,
            -6.506371021270752,
            -1.4635051488876343,
            0.6936683654785156,
            -3.403930425643921,
            2.5900726318359375,
            -2.044734477996826,
            0.21046537160873413,
            -3.3358347415924072,
            -0.12328261137008667,
            -0.7582074403762817,
            3.5145280361175537,
            -1.4914835691452026,
            0.5225016474723816,
            0.07948040962219238,
            -4.509152412414551,
            2.079688787460327,
            0.024309664964675903,
            4.502988815307617,
            0.7376006841659546,
            0.8969138860702515,
            2.7096669673919678,
            -2.6194300651550293,
            2.567476272583008,
            -2.3719139099121094,
            1.582101583480835,
            0.9141521453857422,
            4.985729217529297,
            -3.2983145713806152,
            3.3310556411743164,
            -0.22122108936309814,
            4.200991630554199,
            -0.12431435286998749,
            4.351982116699219,
            0.4222428798675537,
            4.421145915985107,
            1.6019206047058105,
            -3.5131473541259766,
            0.5801386833190918,
            1.8455227613449097,
            1.3452825546264648,
            4.126213550567627,
            -0.8810423612594604,
            3.788564682006836,
            -0.7062608599662781,
            -2.101566791534424,
            -1.9651589393615723,
            1.323054313659668,
            -8.97259521484375,
            -1.4698047637939453,
            5.551793575286865,
            -6.401555061340332,
            -4.290496826171875,
            1.6051503419876099,
            -0.6406601667404175,
            1.728055715560913,
            0.07211917638778687,
            -2.63657283782959,
            -1.9828499555587769,
            3.61464262008667,
            4.715567111968994,
            7.095894813537598,
            3.068716526031494,
            -4.968202590942383,
            -2.7381789684295654,
            3.9474096298217773,
            2.018429756164551,
            -2.6073856353759766,
            -3.644082546234131,
            -1.573858618736267,
            -8.071402549743652,
            -0.16731739044189453,
            -2.320708751678467,
            -2.6588406562805176,
            0.4888312518596649,
            -2.5412302017211914,
            2.989151954650879,
            -0.7121198773384094,
            3.2060256004333496,
            4.283958911895752,
            0.1161489486694336,
            -0.28567057847976685,
            4.354024887084961,
            5.9503493309021,
            -2.0890285968780518,
            4.562634468078613,
            2.8843584060668945,
            0.36546820402145386,
            -1.8448498249053955,
            -4.505913734436035,
            1.409562110900879,
            5.943263053894043,
            -1.8367611169815063,
            2.6000607013702393,
            -0.29577723145484924,
            0.9293469190597534,
            1.8113648891448975,
            0.04271423816680908,
            0.6804077625274658,
            3.5408053398132324,
            -1.585577130317688,
            -1.8530315160751343,
            -4.843798637390137,
            -2.4033453464508057,
            3.3396177291870117,
            0.33602702617645264,
            -0.8495562076568604,
            0.11139652132987976,
            -1.5114474296569824,
            -3.121063709259033,
            0.9768620729446411,
            -8.282670021057129,
            2.34462308883667,
            2.302114486694336,
            -1.4280099868774414,
            3.2077033519744873,
            -0.5026360154151917,
            -5.151028633117676,
            -1.6721701622009277,
            -0.46403416991233826,
            -2.9067766666412354,
            1.7629356384277344,
            -3.041274070739746,
            0.810306191444397,
            -3.5135138034820557,
            -5.998384475708008,
            7.269469261169434,
            -0.6392430663108826,
            1.82219660282135,
            2.8816535472869873,
            2.163670539855957,
            0.9660033583641052,
            -5.85723876953125,
            -0.3021852970123291,
            -0.31468117237091064,
            1.4393150806427002,
            -0.8936260938644409,
            3.6843652725219727,
            1.6732467412948608,
            -1.7383625507354736,
            1.2891725301742554,
            -1.0838518142700195,
            0.2892684042453766,
            0.24587929248809814,
            2.140500068664551,
            0.2979286313056946,
            1.3781182765960693,
            3.440958023071289,
            -1.9112690687179565,
            0.7681751251220703,
            -1.7881548404693604,
            -5.559354782104492,
            -7.089712142944336,
            -3.2237548828125,
            0.7238489389419556,
            2.9932730197906494,
            -3.029466152191162,
            -0.6020129919052124,
            1.8767138719558716,
            -3.4714415073394775,
            -1.2270474433898926,
            -3.5470774173736572,
            -2.3187668323516846,
            -0.3455198407173157,
            1.4510622024536133,
            4.893563270568848,
            1.956557273864746,
            -0.9259739518165588,
            -2.792994499206543,
            -2.8974735736846924,
            -3.714167833328247,
            -1.800317645072937,
            -5.3297200202941895,
            -1.3631954193115234,
            -3.3841724395751953,
            -1.6801071166992188,
            -2.0890798568725586,
            4.472052574157715,
            -4.097223281860352,
            -2.7725815773010254,
            -5.44322395324707,
            3.239859104156494,
            5.6248345375061035,
            -1.210195541381836,
            1.1242644786834717,
            -0.8704190850257874,
            -0.46039292216300964,
            4.017708778381348,
            3.5417253971099854,
            0.4551660418510437,
            1.9891362190246582,
            2.141774892807007,
            -1.0521196126937866,
            1.4644321203231812,
            -0.10759717226028442,
            -6.832192420959473,
            1.4753283262252808,
            -1.4181957244873047,
            1.8631229400634766,
            -5.272146224975586,
            2.3976261615753174,
            1.3351726531982422,
            1.2359886169433594,
            -2.9258947372436523,
            -2.8046274185180664,
            0.6924455165863037,
            -1.8875041007995605,
            0.21857663989067078,
            -0.45262467861175537,
            2.431027889251709,
            -2.569545030593872,
            1.5188140869140625,
            0.5376014709472656,
            4.048919677734375,
            -6.289666175842285,
            5.837630748748779,
            3.1015841960906982,
            5.5824737548828125,
            2.854876756668091,
            4.0289998054504395,
            -3.662672519683838,
            -5.287627220153809,
            -1.8913483619689941,
            -5.36785364151001,
            -0.04198795557022095,
            1.3701746463775635,
            3.6406922340393066,
            5.039081573486328,
            -1.970166563987732,
            1.913954734802246,
            -1.4868159294128418,
            1.4453784227371216,
            1.1462767124176025,
            1.8490033149719238,
            -0.05075496435165405,
            -4.567157745361328,
            -1.1311705112457275,
            0.77622389793396,
            5.102023124694824,
            -0.20778793096542358,
            -0.14900746941566467,
            3.7917628288269043,
            3.527407169342041,
            -0.8936575055122375,
            0.7884052991867065,
            -0.9417490363121033,
            1.6890597343444824,
            -4.252068042755127,
            0.5701615214347839,
            2.234102249145508,
            0.6179906129837036,
            -1.9394274950027466,
            8.77978801727295,
            -1.1921967267990112,
            5.530543804168701,
            -7.732762336730957,
            -6.903043746948242,
            -1.4803049564361572,
            -2.904698133468628,
            4.637014389038086,
            -4.142251014709473,
            -1.748984694480896,
            -0.4636959433555603,
            -2.47971248626709,
            1.7029573917388916,
            3.0461273193359375,
            -3.6935107707977295,
            0.006243526935577393,
            -1.2925026416778564,
            -0.348089337348938,
            -0.5648772716522217,
            0.09721049666404724,
            -2.3140320777893066,
            2.0631773471832275,
            1.7822775840759277,
            2.1119062900543213,
            0.37383222579956055,
            -0.23137347400188446,
            0.6883918046951294,
            -0.942054271697998,
            -4.362114429473877,
            0.14227157831192017,
            2.050354242324829,
            -3.5494449138641357,
            1.507908582687378,
            -1.164441704750061,
            3.64609432220459,
            0.23762249946594238,
            2.9602341651916504,
            3.3525829315185547,
            -5.324555397033691,
            -3.0524044036865234,
            5.700164794921875,
            -0.9795249700546265,
            -3.496680736541748,
            0.8486343026161194,
            -0.6002582907676697,
            -3.4061317443847656,
            -1.1308550834655762,
            -6.003044128417969,
            2.2723817825317383,
            2.4372215270996094,
            5.460513114929199,
            2.513425827026367,
            1.767533540725708,
            2.7654757499694824,
            0.6167213916778564,
            5.548814296722412,
            5.593062400817871,
            2.6838977336883545,
            3.711463212966919,
            0.12773263454437256,
            -2.706446647644043,
            -0.6121987104415894,
            -4.021733283996582,
            5.313596725463867,
            -1.6225526332855225,
            7.066681861877441,
            -1.0785139799118042,
            -2.7110350131988525,
            -3.0699846744537354,
            4.2396345138549805,
            3.5145955085754395,
            -1.2719221115112305,
            2.773320436477661,
            -4.101332187652588,
            1.9913880825042725,
            4.603455543518066,
            -2.3889825344085693,
            4.764962196350098,
            3.2140722274780273,
            0.335796058177948,
            2.700169324874878,
            0.5272437334060669,
            -7.547938823699951,
            -4.759457588195801,
            3.5997915267944336,
            -3.027512550354004,
            -6.276256084442139,
            -1.8765931129455566,
            -0.3452279269695282,
            1.8449047803878784,
            -3.9558703899383545,
            1.2053658962249756,
            -1.978743553161621,
            -0.0765959620475769,
            -2.4953761100769043,
            4.026112079620361,
            -3.0783581733703613,
            2.3804759979248047,
            1.1379244327545166,
            3.4153084754943848,
            -1.5314264297485352,
            1.0728009939193726,
            -2.6103644371032715,
            2.5200910568237305,
            1.644286036491394,
            -1.7130839824676514,
            -0.7401015758514404,
            1.2088249921798706,
            -2.444809913635254,
            2.3506908416748047,
            5.012599945068359,
            0.4501526653766632,
            -0.15567611157894135,
            -6.454181671142578,
            -5.129770755767822,
            3.7070066928863525,
            5.621362686157227,
            -1.6212726831436157,
            -2.7646195888519287,
            6.924915313720703,
            7.434188365936279,
            0.6840805411338806,
            3.131196975708008,
            2.99519944190979,
            1.640851616859436,
            5.422021389007568,
            -0.26689082384109497,
            0.01162518560886383,
            -0.3331993520259857,
            -2.6258320808410645,
            -4.610039710998535,
            1.2292617559432983,
            2.5535972118377686,
            1.3777843713760376,
            2.382395029067993,
            -4.608886241912842,
            -2.440753221511841,
            -1.6379646062850952,
            -1.3169459104537964,
            1.882338285446167,
            5.207429885864258,
            0.3288355767726898,
            -7.217424392700195,
            1.276031494140625,
            -2.776571273803711,
            1.4832303524017334,
            -4.050933837890625,
            -0.8995042443275452,
            0.7068395614624023,
            -0.742394745349884,
            1.307997703552246,
            -1.1017143726348877,
            2.8679685592651367,
            0.49818965792655945,
            -2.1802563667297363,
            -1.8911490440368652,
            -0.10769140720367432,
            -0.3308340311050415,
            2.3740808963775635,
            1.0858784914016724,
            -0.8521129488945007,
            -1.2528278827667236,
            0.41653937101364136,
            9.633712768554688,
            6.914205551147461,
            1.7672290802001953,
            1.298088788986206,
            2.0870778560638428,
            -2.087646007537842,
            -5.044678688049316,
            0.20443283021450043,
            2.569248914718628,
            -1.654358983039856,
            -0.23279482126235962,
            1.4109084606170654,
            -0.8737694025039673,
            5.546777725219727,
            2.769989490509033,
            -1.2526048421859741,
            4.293887138366699,
            -4.98752498626709,
            -0.8538327813148499,
            -2.669405460357666,
            -1.4432846307754517,
            -1.3789734840393066,
            -3.934859037399292,
            2.2669529914855957,
            2.2818517684936523,
            -2.992465019226074,
            -0.1794886589050293,
            -0.9296278953552246,
            -3.6143877506256104,
            2.4219846725463867,
            3.889641761779785,
            -0.7037849426269531,
            -0.13685289025306702,
            0.5134366154670715,
            -0.4641566872596741,
            0.12963783740997314,
            -2.0318686962127686,
            -4.749948501586914,
            4.911101818084717,
            -1.6024092435836792,
            -3.895860195159912,
            -2.0396933555603027,
            -4.124786376953125,
            -0.6418973207473755,
            -0.9435519576072693,
            4.208688259124756,
            2.462040901184082,
            3.7865915298461914,
            2.6356799602508545,
            3.4606821537017822,
            -3.3949246406555176,
            1.5669021606445312,
            -1.1042526960372925,
            -3.687331199645996,
            -7.600508689880371,
            -0.7475712299346924,
            -0.6131776571273804,
            -3.8883564472198486,
            3.42409086227417,
            -4.251605987548828,
            -1.6167778968811035,
            5.328919410705566,
            1.3768925666809082,
            2.010939359664917,
            -3.7347660064697266,
            0.3066842555999756,
            -5.981536865234375,
            4.0618391036987305,
            -1.9373022317886353,
            1.6333227157592773,
            1.669165849685669,
            0.9619306325912476,
            4.772060871124268,
            2.1905791759490967,
            1.6733112335205078,
            -2.015753984451294,
            -0.6564814448356628,
            2.453587532043457,
            -0.0972406268119812,
            -0.7752717137336731,
            -0.7033831477165222,
            1.7853240966796875,
            2.130932569503784,
            11.650677680969238,
            -0.41143113374710083,
            0.2749653458595276,
            -2.909243106842041,
            -2.033822536468506,
            -2.1853551864624023,
            -3.194345712661743,
            1.2773714065551758,
            1.0856409072875977,
            2.1079206466674805,
            0.2076796293258667,
            -6.065788269042969,
            -1.398309350013733,
            -0.2709227204322815,
            -0.6075984239578247,
            -6.617461681365967,
            -3.1975200176239014,
            -1.4525163173675537,
            -2.0769102573394775,
            -2.911163568496704,
            0.06871016323566437,
            3.0040817260742188,
            -0.94627845287323,
            -1.4447683095932007,
            -2.8872530460357666,
            5.7224225997924805,
            -2.1840062141418457,
            2.212270975112915,
            -2.992994785308838,
            -1.8880177736282349,
            0.5028648376464844,
            4.000572681427002,
            -2.0919179916381836,
            0.6151131987571716,
            -0.7971548438072205,
            4.620874404907227,
            3.9435055255889893,
            -4.549467086791992,
            2.7559688091278076,
            -2.610110282897949,
            0.004689835011959076,
            0.38598889112472534,
            -0.8794718384742737,
            3.4248204231262207,
            -1.1234955787658691,
            1.5426766872406006,
            2.0120506286621094,
            1.626686930656433,
            -1.8834924697875977,
            9.103322982788086,
            -1.8169519901275635,
            -1.4207422733306885,
            -4.304535865783691,
            3.0687575340270996,
            1.1593053340911865,
            1.9799855947494507,
            -0.18289583921432495,
            -1.2961211204528809,
            2.685770034790039,
            1.1340813636779785,
            3.492601156234741,
            -1.471949577331543,
            0.8052741289138794,
            -3.06115460395813,
            -0.6913864612579346,
            3.0367369651794434,
            -4.222292423248291,
            4.623342514038086,
            0.8088668584823608,
            -2.503427505493164,
            3.000314235687256,
            3.8818259239196777,
            0.6248770356178284,
            0.4130219519138336,
            -1.008044719696045,
            -2.7830862998962402,
            1.3826518058776855,
            -1.3026103973388672,
            0.40881556272506714,
            5.691332817077637,
            -5.50752592086792,
            0.8322283625602722,
            -1.9172950983047485,
            0.5081396102905273,
            3.7719948291778564,
            -0.48596498370170593,
            4.579932689666748,
            2.990659713745117,
            -3.440035820007324,
            2.0848238468170166,
            -3.748011350631714,
            0.4609683156013489,
            4.280361652374268,
            3.6921491622924805,
            5.023097991943359,
            -6.511068820953369,
            -3.085505962371826,
            -3.5216307640075684,
            -0.2571682929992676,
            -0.5044214725494385,
            3.866158962249756,
            0.6897996664047241,
            -0.5967270731925964,
            -5.138585090637207,
            -1.0166739225387573,
            -0.7748479247093201,
            -1.154772400856018,
            -5.597020149230957,
            0.822873592376709,
            -3.625821352005005,
            2.836512327194214,
            -2.459437608718872,
            2.4244141578674316,
            -2.2942771911621094,
            3.2871522903442383,
            -2.7738475799560547,
            2.789247512817383,
            2.0956082344055176,
            0.8164138793945312,
            1.762730360031128,
            1.2318434715270996,
            -0.8912999629974365,
            -3.0820679664611816,
            -5.19279670715332,
            -1.937187910079956,
            0.2252046763896942,
            3.838364601135254,
            -2.9733433723449707,
            -3.075333595275879,
            0.0174521803855896,
            5.314451217651367,
            1.1088602542877197,
            -2.0843334197998047,
            2.8935766220092773,
            -0.6981813907623291,
            -1.157523274421692,
            1.6308680772781372,
            -0.13555985689163208,
            -1.306776762008667,
            3.1288251876831055,
            2.703517436981201,
            -2.488102436065674,
            -2.9188966751098633,
            7.998241424560547,
            3.3885464668273926,
            -1.981194257736206,
            -2.522686004638672,
            -3.00838041305542,
            1.2105141878128052,
            0.7361664175987244,
            2.5055174827575684,
            1.6223702430725098,
            2.9150538444519043,
            -0.7785208225250244,
            -2.5690090656280518,
            -2.980881690979004
        ]
    },
    "authors": [
        {
            "authorId": "2224465042",
            "name": "Michael Gunther"
        },
        {
            "authorId": "2264258732",
            "name": "Isabelle Mohr"
        },
        {
            "authorId": null,
            "name": "Bo Wang"
        },
        {
            "authorId": null,
            "name": "Han Xiao"
        }
    ],
    "references": [
        {
            "paperId": "c43cc65148bf7221ff035c75621b663371fe8250",
            "title": "Jina-ColBERT-v2: A General-Purpose Multilingual Late Interaction Retriever"
        },
        {
            "paperId": "e22ae34ea102a781d0494e115639e8d081bf6920",
            "title": "Jina Embeddings 2: 8192-Token General-Purpose Text Embeddings for Long Documents"
        },
        {
            "paperId": "9ca329408813d209b1dcb36936f7f9cba82506bd",
            "title": "Train Short, Test Long: Attention with Linear Biases Enables Input Length Extrapolation"
        },
        {
            "paperId": "66c10bf1f11bc1b2d92204d8f8391d087f6de1c4",
            "title": "RoFormer: Enhanced Transformer with Rotary Position Embedding"
        },
        {
            "paperId": "807600ef43073cd9c59d4208ee710e90cf14efa8",
            "title": "BEIR: A Heterogenous Benchmark for Zero-shot Evaluation of Information Retrieval Models"
        },
        {
            "paperId": "58ed1fbaabe027345f7bb3a6312d41c5aac63e22",
            "title": "Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks"
        },
        {
            "paperId": "60b8ad6177230ad5402af409a6edb5af441baeb4",
            "title": "ColBERT: Efficient and Effective Passage Search via Contextualized Late Interaction over BERT"
        },
        {
            "paperId": "93d63ec754f29fa22572615320afe0521f7ec66d",
            "title": "Sentence-BERT: Sentence Embeddings using Siamese BERT-Networks"
        },
        {
            "paperId": "df2b0e26d0599ce3e70df8a9da02e51594e0e992",
            "title": "BERT: Pre-training of Deep Bidirectional Transformers for Language Understanding"
        },
        {
            "paperId": null,
            "title": "5 levels of text splitting"
        }
    ]
}