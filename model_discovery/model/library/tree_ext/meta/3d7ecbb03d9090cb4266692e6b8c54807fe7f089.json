{"paperId": "3d7ecbb03d9090cb4266692e6b8c54807fe7f089", "title": "Evaluating and improving transformers pre-trained on ASTs for Code Completion", "abstract": "Automatic code completion is one of the most popular developer assistance features which is usually performed using static program analysis. But, studies have shown that static analysis can be riddled with false positives. Another issue with static-analysis based code completion is that the recommendation does not take into account the history/ context in which the software is operating and rely on type/ alphabetical ordering of suggestions. A recent development that has shown to be promising in this direction is the use of language models such as transformers that are trained on real-world code from Github to provide context sensitive, accurate code completion suggestions. Studies on transformer-based code completion have shown that such restrictions can be leveraged; i.e; training transformers on structural representations of code (specifically ASTs) could have a positive impact on the accuracy of code completion. To this end, the work by Kim et al. implemented and evaluated TravTrans which is based on the powerful text prediction language model GPT-2 by training on abstract syntax trees instead of treating code as plain texts. Using alternative source code representation such as AST provides the already potent language model with an additional layer of program semantic-awareness. But, TravTrans has adapted several rigid choices regarding various components of the transformer architecture like embedding sizes, sliding windows etc. TravTrans also suffers from issues related to running out of vocabulary. In this paper, we reproduce the TravTrans model and perform a deeper, fine-grained analysis of the impact of various architectural and code-level settings on the prediction. As a result of our fine-grained analysis, we also identify several aspects that need improvements like the fact that the model performs particularly poorly with code involving dictionaries and lists. We also offer solutions to a few of the issues like the out-of-vocabulary issue. Finally, our results motivates the need for a customizable-transformer architecture for coding tasks.", "venue": "IEEE International Conference on Software Analysis, Evolution, and Reengineering", "year": 2023, "citationCount": 4, "influentialCitationCount": 0, "openAccessPdf": null, "tldr": {"model": "tldr@v2.0.0", "text": "A deeper, fine-grained analysis of the impact of various architectural and code-level settings on the prediction of the TravTrans model motivates the need for a customizable-transformer architecture for coding tasks."}, "embedding": {"model": "specter_v2", "vector": [-0.10373793542385101, 0.4052758812904358, -0.7452009916305542, -0.07806718349456787, -0.7045219540596008, -0.6904287338256836, 0.261161744594574, 0.09881459921598434, 0.30139440298080444, -0.7584807276725769, 0.7389541268348694, -0.9429391622543335, 0.45249703526496887, -0.02229812741279602, -0.23118403553962708, 0.3149014115333557, -0.2973204255104065, 0.108766570687294, 0.26774194836616516, -0.4648040235042572, 0.1778257191181183, -0.7026878595352173, -1.011379361152649, 0.49763378500938416, 1.178891897201538, 0.08087489008903503, -0.5176190733909607, 0.5515767335891724, -0.6080043911933899, 0.7539006471633911, 0.9502315521240234, -0.6181236505508423, 0.35393282771110535, 0.5425472259521484, -0.3053138852119446, -0.38563817739486694, 0.2509463131427765, -0.11423350870609283, -0.1044783741235733, 0.7998273372650146, -0.7066300511360168, -0.1862027645111084, 0.2887341380119324, -0.9954776167869568, -0.2690599262714386, 1.0634870529174805, 0.5473431944847107, 0.8660450577735901, 0.24406220018863678, -0.1329980194568634, 1.3196941614151, -1.3149539232254028, 0.08386555314064026, 0.8660047650337219, 0.8698301911354065, 0.46014729142189026, -0.45174217224121094, -0.27514269948005676, -0.25400060415267944, -0.4783985912799835, -1.0458968877792358, -0.804809033870697, -0.30971384048461914, -1.1810461282730103, 2.3796117305755615, -0.2505909502506256, -0.4777623414993286, -0.025419794023036957, 0.29971808195114136, 0.8555347323417664, -0.1311662197113037, -0.5663262009620667, -0.112921804189682, -0.02563304826617241, 0.283845454454422, 1.053626537322998, -0.46000921726226807, 0.26834219694137573, -0.7560806274414062, -0.7436165809631348, 0.059663865715265274, 0.18343405425548553, 0.16271637380123138, -0.7430056929588318, 0.016648905351758003, 0.47625142335891724, -0.048500627279281616, 1.020265817642212, -0.16558444499969482, 0.41284412145614624, 0.837726891040802, 0.20654195547103882, -0.11133124679327011, 0.48527368903160095, -0.26722627878189087, -0.01892300881445408, -0.8095542788505554, -0.12335441261529922, 0.1534525752067566, 0.6958749890327454, 0.22388924658298492, 0.7180532217025757, -1.1891180276870728, 0.1366187036037445, 1.1799691915512085, 0.10890862345695496, 0.2841928005218506, -0.38357141613960266, 0.578427255153656, 0.21944208443164825, 0.44911548495292664, -0.2843649685382843, 0.4127015471458435, 0.004033797420561314, -0.3425758481025696, -0.4949991703033447, -0.31746914982795715, 0.242670476436615, -0.9471965432167053, 0.1523379236459732, -0.46026721596717834, -0.28163009881973267, 0.31975460052490234, 0.30656924843788147, 0.22187736630439758, 0.1870635449886322, 0.18111154437065125, 0.19096124172210693, 0.20593544840812683, -0.8177604675292969, -0.3556003272533417, -1.2385221719741821, 0.8585590720176697, -0.38443970680236816, -0.01770702376961708, -0.345194935798645, -1.2158634662628174, -0.8167881369590759, -0.7778159976005554, 0.23339879512786865, -0.17520281672477722, 0.4410252869129181, 1.0616614818572998, 0.511195719242096, -1.7095893621444702, 1.0958092212677002, -0.6327486038208008, -0.1740819662809372, 0.10085414350032806, 0.2343306839466095, 0.30498287081718445, -0.2263748198747635, -0.331123411655426, 0.12146829813718796, 0.06990870088338852, -1.2305675745010376, -0.8419877290725708, -0.6200008988380432, -1.192710280418396, 0.04195696860551834, 0.3612644374370575, -0.02854285202920437, 1.5453349351882935, -0.09530674666166306, -0.8973897695541382, 0.31799548864364624, -0.4252566993236542, 0.07466168701648712, 0.10396701097488403, -0.00014101962733548135, -0.4449789226055145, -1.0937718152999878, 0.45865288376808167, -0.402217298746109, 0.48888251185417175, -0.22467243671417236, -0.3124045133590698, 0.3767143785953522, 0.19201703369617462, -0.3722563087940216, -0.343727171421051, 1.1044217348098755, -0.2269391268491745, 0.21379615366458893, 0.14447154104709625, 0.9287737607955933, -0.2171870321035385, -0.26073840260505676, -0.25959905982017517, -0.9799813628196716, 0.307672917842865, -0.6572749614715576, 1.3151129484176636, -0.9731046557426453, -0.5736616253852844, -0.26264461874961853, 0.05421680212020874, -0.19566451013088226, -0.4405395984649658, 0.8886792063713074, -0.991446852684021, 0.8038220405578613, -0.24859723448753357, -0.6275160908699036, -0.05594390258193016, -0.6387487649917603, -0.6842553615570068, -0.2866990566253662, -0.18827860057353973, 1.0142534971237183, -0.8604738116264343, 0.45795974135398865, 0.05500984564423561, 0.08109741657972336, -1.0760165452957153, 1.2682243585586548, -0.5089591145515442, -0.25462040305137634, -0.019433896988630295, 0.07829558849334717, 0.09395530074834824, -0.09623866528272629, 0.4887714982032776, 0.030829062685370445, -0.716558039188385, 0.7188208699226379, 0.12457151710987091, 1.5112138986587524, -0.4726630747318268, 0.1839200109243393, -0.23301784694194794, -0.4646829664707184, 0.5210509300231934, 0.9412677884101868, 0.0942755788564682, -0.3392881453037262, -0.2850826680660248, 0.862230122089386, -0.449756920337677, 0.21510516107082367, 0.5965045094490051, 0.6713777184486389, -0.03554719313979149, 0.6163145899772644, 0.39385929703712463, -0.25709909200668335, 0.5867763161659241, 0.38367339968681335, 1.423478126525879, 0.7114138603210449, 0.3165086507797241, -0.26155757904052734, 0.6292415261268616, -0.23596036434173584, -0.04319280385971069, -0.07895196229219437, 1.1789023876190186, 0.7661627531051636, 0.5681259632110596, -0.9165388345718384, -0.49448204040527344, 0.18213742971420288, 1.1008001565933228, 1.639276385307312, -0.42981934547424316, -0.8565277457237244, -0.6464106440544128, -0.9813038110733032, -0.40930309891700745, 0.7701678276062012, -0.2973823547363281, -0.6548642516136169, -0.39040008187294006, -0.8794628381729126, 0.7353881597518921, 0.7280844449996948, 0.6886147260665894, 0.12115687876939774, -0.2967093288898468, -0.2342034876346588, 0.01518377847969532, -0.3007751703262329, -0.5415942072868347, 0.5362588167190552, -0.7738193273544312, -0.45129257440567017, 0.505909264087677, -0.010299943387508392, 0.3567972481250763, -0.6617615222930908, 0.9108066558837891, 0.7423779964447021, -0.16022536158561707, 0.24032697081565857, 0.1638420671224594, -0.24208897352218628, -1.2919138669967651, 0.014164614491164684, -0.2408018410205841, -0.8221099972724915, 0.8438635468482971, 0.2994327247142792, 0.44194212555885315, 0.4413999319076538, -0.3294706344604492, 0.010843662545084953, -0.12070541083812714, 0.13592123985290527, 0.16804073750972748, 0.047328971326351166, -0.8132895827293396, -0.7467641830444336, 0.7418206334114075, 0.2946748435497284, -0.7384800314903259, 0.3812900483608246, -0.9297199249267578, -0.15743666887283325, 0.9141761064529419, -0.10251618176698685, -0.23462209105491638, -1.0295277833938599, 0.22919932007789612, 0.02013268694281578, 0.2151384949684143, 0.3001130223274231, 0.6917384266853333, -0.1212795302271843, 0.7770020961761475, 0.7956292033195496, 0.31857404112815857, -0.4046327769756317, -0.15934816002845764, -0.9810324907302856, 0.3303068280220032, 0.17201125621795654, 0.9622268080711365, -0.7032743096351624, -0.852702796459198, 0.2063695192337036, -0.07566506415605545, -0.32020774483680725, -0.11033963412046432, 0.030620329082012177, -0.09003672748804092, -0.49580666422843933, -0.6437946557998657, -0.5256449580192566, -1.0313072204589844, -0.4554440379142761, 0.24043340981006622, -0.8841865062713623, 0.02492491900920868, -0.8589218258857727, -0.8167836666107178, -0.8559263348579407, -0.7474267482757568, -1.4179937839508057, 0.37307488918304443, -0.4627537727355957, -0.23843792080879211, -0.1887095868587494, 0.22934357821941376, -0.07571860402822495, 1.1955198049545288, -0.7167066335678101, 1.2058348655700684, -0.02005961537361145, -0.32365304231643677, 0.18304727971553802, 0.24009384214878082, 0.5630795359611511, -0.3881475031375885, 0.8555113077163696, -0.3500083386898041, -0.024428246542811394, -0.1072133481502533, -0.19922558963298798, -0.2599296271800995, -0.12212367355823517, 0.766054630279541, -0.14362464845180511, -0.7115792632102966, 0.08443686366081238, 1.8514550924301147, -0.1336851567029953, 0.4869001805782318, 0.2624528408050537, 1.1300381422042847, 0.2488986700773239, 0.20841582119464874, 0.7048476338386536, 0.12394256144762039, 0.42407065629959106, 0.5353357195854187, -0.10566424578428268, -0.08265259116888046, -0.2770024538040161, 0.7655873894691467, 1.2534034252166748, -0.21298491954803467, 0.19226084649562836, -2.050177574157715, 0.8401080965995789, -1.4413284063339233, -0.1890881508588791, -0.05228685960173607, 1.0380010604858398, 0.6845756769180298, -0.6022844314575195, -0.2865404188632965, 0.29024186730384827, 0.13842710852622986, -0.27803632616996765, 0.06726717948913574, -0.6580440998077393, 1.0867562294006348, 0.4736352860927582, 0.2615886926651001, 0.5503032803535461, -0.2777940630912781, 0.22908055782318115, 14.277735710144043, 0.662586510181427, -0.016219960525631905, 0.7131758332252502, 0.08645038306713104, 1.0661468505859375, -0.7894803285598755, 0.5791449546813965, -1.1424974203109741, -0.4567468762397766, 1.160349726676941, -0.4450351595878601, 0.595817506313324, 0.6615957021713257, -0.17963311076164246, -0.04654105380177498, -0.7859246730804443, 0.07329403609037399, 0.6094896197319031, -1.3426902294158936, 0.39556872844696045, 0.20895637571811676, 0.2549593448638916, 0.3103223145008087, 0.6269681453704834, 1.0672906637191772, 0.85079425573349, -0.7549628019332886, 0.6841661334037781, -0.2938302755355835, 1.3426249027252197, 0.07360906898975372, 0.7784274220466614, 0.5350479483604431, -1.0530312061309814, -0.6068090796470642, -0.6032008528709412, -1.1301147937774658, -0.034123022109270096, 0.09612094610929489, -1.5207533836364746, -0.3148064613342285, -0.029323983937501907, 1.0397847890853882, -0.35084664821624756, 0.6854555010795593, -0.4663267433643341, 0.6207823753356934, 0.3832588195800781, 0.29703080654144287, -0.5618159770965576, 0.6793509125709534, 0.025998927652835846, -0.17812639474868774, 0.3179621398448944, -0.11129868030548096, 0.5204521417617798, 0.49549490213394165, -0.04318072646856308, 0.3183175325393677, -0.4387216567993164, -0.3987351059913635, -0.47178369760513306, 0.615876317024231, 0.24882805347442627, 0.28271088004112244, -0.5912440419197083, -0.1605636477470398, 0.7551000714302063, 0.0790073499083519, -0.27747857570648193, -0.06056654825806618, 0.4639010429382324, 0.5278885960578918, -0.17854946851730347, 0.36426329612731934, -0.6199010014533997, -0.8042519688606262, -0.7728112936019897, -0.6246349215507507, 0.12225811928510666, -0.6790669560432434, -0.2500038743019104, 1.090140700340271, -0.07492782175540924, -0.9306625723838806, 0.11750388145446777, -0.7545593976974487, -0.29622527956962585, 0.2750950753688812, -0.9684287905693054, -0.33296599984169006, 0.04528236389160156, -0.1690583974123001, -0.35607707500457764, -0.15499894320964813, 1.5800920724868774, -0.015594108030200005, -0.13672173023223877, -0.3823448121547699, 0.07524276524782181, 0.2222398966550827, -0.16031694412231445, -1.4759602546691895, 1.1932399272918701, 0.8598155379295349, -0.24684232473373413, 0.807967483997345, 0.16169430315494537, -0.554563045501709, -0.7807774543762207, -0.40251845121383667, 0.8121022582054138, -1.4551963806152344, 0.01580522023141384, -1.075179100036621, -0.9290434122085571, 0.3935199975967407, 0.6600202918052673, -0.6118789315223694, 0.21278882026672363, 0.1121039018034935, -0.9383075833320618, -0.1642644852399826, -0.796544075012207, -0.019312739372253418, 0.7264540195465088, -0.8136114478111267, -0.32122039794921875, 0.31386277079582214, 0.21552260220050812, -1.0988515615463257, -0.798311173915863, 0.06128806620836258, -0.2578752934932709, -0.41279974579811096, 0.7140250205993652, 0.30687740445137024, 1.3161884546279907, 0.5069830417633057, -0.02777521125972271, -0.8733865022659302, -0.2799970805644989, -0.8746597170829773, 0.5455719232559204, 0.18020741641521454, 1.342700719833374, -0.5080721378326416, 0.15175163745880127, 1.7478384971618652, -0.3344767987728119, 0.2480345517396927, -0.35138174891471863, 0.010649390518665314, 0.10869252681732178, -0.5398036241531372, 0.26624834537506104, -0.027412209659814835, 0.5442899465560913, -0.2838079035282135, 0.516643226146698, 0.4701785743236542, -0.5058769583702087, -0.47333988547325134, 0.8264868855476379, -0.24997298419475555, -0.1568281352519989, 0.1721397340297699, -0.07727877050638199, -0.6485908627510071, 0.12675023078918457, -1.3165165185928345, 0.7900376915931702, -0.9649079442024231, -0.0005870398017577827, 0.1198328286409378, 0.055083222687244415, 0.915726900100708, 0.41336432099342346, -0.6051472425460815, -1.1307131052017212, -0.42114391922950745, -0.4919118881225586, 0.5726821422576904, 0.3476736843585968, -0.7222657799720764, 0.21439769864082336, -0.26789095997810364, 0.057346001267433167, 0.155542254447937, 0.3721406161785126, -0.9823799133300781, -0.8369787335395813, -1.2271758317947388, 0.37167876958847046, 0.05172364413738251, -0.1725182831287384, -0.6111189126968384, 0.45644137263298035, 0.23048247396945953, -0.5240247845649719, 0.6063221096992493, -0.28036966919898987, -0.9625381827354431, -0.15815651416778564, 0.4928615987300873, -0.6657118797302246, 0.376777708530426, 0.3238184154033661, -0.7518647313117981, -0.2049732357263565, 0.2318190187215805, -0.4167156517505646, -1.0378667116165161, -0.7577095627784729, 0.25904273986816406, -1.0555561780929565, -0.043985527008771896, -0.11957930773496628, -0.15430913865566254, -1.3258699178695679, 0.05828544870018959, 0.39584487676620483, 0.18263570964336395, 0.5691870450973511, 1.2957828044891357, 0.3995695412158966, -0.8049570322036743, 0.28435444831848145, 0.40749016404151917, 0.24491359293460846, -0.32001736760139465, -0.15299217402935028, 0.7232038974761963, -0.34588295221328735, 0.030974065884947777, 0.25511428713798523, 0.0827064961194992, -1.1223794221878052, 0.16504253447055817, 0.47661885619163513, -0.37025347352027893, -0.2071651667356491, 0.7000734806060791, -0.349549263715744, -0.8858200311660767, -0.4293031096458435, -1.3397486209869385, -0.5474729537963867, -1.3198705911636353, 0.5806476473808289, -0.024336306378245354, 0.2809421420097351, -0.2168324887752533, -0.6311017274856567, 0.036690227687358856, -0.23817214369773865, -0.4516134560108185, 0.7382637858390808, 0.2646724283695221, -0.813701331615448, 0.3062412440776825, -0.004255867097526789, -0.19798016548156738, -0.27522847056388855, -0.26762306690216064, 0.061364177614450455, -0.8545108437538147, 0.09824510663747787, -0.7842113971710205, -0.6364896893501282, 0.8646315336227417, 0.3478631377220154, 0.20916911959648132, 0.02261931076645851, -0.4519082009792328, -0.3767656683921814, 0.24917049705982208, 0.6813173890113831, -0.25097382068634033, -0.4560265839099884, 1.0369501113891602, 1.1637972593307495, -0.8995509743690491, 0.18617220222949982, -0.6635897159576416, -0.7942531108856201, 1.368797779083252, 0.8351399302482605, 0.030159631744027138, 0.6215964555740356, 0.1633923500776291, -0.09121105819940567, -0.023291131481528282, -1.015342354774475, 0.063629649579525, 0.5433461666107178, 1.5877643823623657, 1.325223684310913, -0.04888071119785309, 0.19074788689613342, 0.9314264059066772, 0.38856664299964905, 0.5478208661079407, 1.2531920671463013, 0.7216387987136841, -0.05082753300666809, -0.4998038411140442, -0.08325590193271637, 0.9234224557876587, -0.9562069773674011, -1.020000696182251, -0.016968851909041405, 0.36129435896873474, 0.10898349434137344, 0.7313842177391052, -0.05890662968158722, -0.4154373109340668, 0.5665063261985779, 0.7092370986938477, -0.09491925686597824, -1.3650667667388916, -0.8696728944778442, -0.31307294964790344, -0.06355354189872742, -0.15786422789096832, -0.11329510062932968, -0.5275553464889526, -0.44480568170547485, 0.06721440702676773, 0.2669214606285095, 0.4929024279117584, 0.2105034589767456, 0.8710289001464844, 0.3978921175003052, 0.2714092433452606, -0.520012617111206, -0.22765523195266724, -0.5235931873321533, -0.690898060798645, 0.3052000105381012, -0.74837726354599, -0.11478106677532196, -0.1916181594133377, -0.13686469197273254, 0.16365715861320496]}, "authors": [{"authorId": "2217495334", "name": "Marcel Ochs"}, {"authorId": "2118930782", "name": "Krishna Narasimhan"}, {"authorId": "1681134", "name": "M. Mezini"}], "references": [{"paperId": "5bfb0cc16b871c75e32a6a9d54dd7db225260e04", "title": "CodeTrans: Towards Cracking the Language of Silicone's Code Through Self-Supervised Deep Learning and High Performance Computing"}, {"paperId": "2b2711b23dd2503933b2f02a41574fc72d21aabf", "title": "Empirical study of transformers for source code"}, {"paperId": "90abbc2cf38462b954ae1b772fac9532e2ccd8b0", "title": "Language Models are Few-Shot Learners"}, {"paperId": "8ee2351221b72fca5eef4c42147ed67071903d93", "title": "IntelliCode compose: code generation using transformer"}, {"paperId": "21b11793b960a3e37c0eab7aae6127c28fd38e5c", "title": "Code Prediction by Feeding Trees to Transformers"}, {"paperId": "3928b2177086532775fbf607ae3e05a0375a5061", "title": "Language Modeling with Deep Transformers"}, {"paperId": "204e3073870fae3d05bcbc2f6a8e263d9b72e776", "title": "Attention is All you Need"}, {"paperId": "c6850869aa5e78a107c378d2e8bfa39633158c0c", "title": "Google's Neural Machine Translation System: Bridging the Gap between Human and Machine Translation"}, {"paperId": "66911442b67460f0e602a1f56b7342dd593c1993", "title": "Intelligent Code Completion with Bayesian Networks"}, {"paperId": "a418524a3576afff4dc2178ed169e692915bd46b", "title": "An Online Sequence-to-Sequence Model Using Partial Conditioning"}, {"paperId": "0067697679649db322f2a4bed71a692d03c81a8e", "title": "Accuracy Assessment and Analysis for GPT2"}, {"paperId": "060cc5c0fa6bed9a39bdb6f9c995586f4709006e", "title": "Why don't software developers use static analysis tools to find bugs?"}, {"paperId": "ed6262b569c0a62c51d941228c54f34e563af022", "title": "Japanese and Korean voice search"}, {"paperId": "1a3f80af28be2a2c22fdd40379a9a2396de0b276", "title": "Natural-Language Processing"}, {"paperId": "942b7c08e20161d7e10fc9c5643d3366da6bd653", "title": "Approximating the Gradient of Cross-Entropy Loss Function"}, {"paperId": "9405cc0d6169988371b2755e573cc28650d14dfe", "title": "Language Models are Unsupervised Multitask Learners"}]}