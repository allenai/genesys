{"paperId": "e77b127e9e2117d5d213326e350dbd14192247bc", "title": "Penalty Decoding: Well Suppress the Self-Reinforcement Effect in Open-Ended Text Generation", "abstract": "The decoding algorithm is critical for open-ended text generation, transforming latent representations into coherent and meaningful outputs. This paper investigates the self-reinforcement effect in text generation and the effectiveness of a repetition penalty to mitigate it. However, determining the optimal repetition penalty value is challenging. To tackle this, we propose a forgetting mechanism that disregards distant tokens, reducing the burden of penalty selection. In addition, we introduce a length penalty to address overly short sentences caused by excessive penalties. Our penalty decoding approach incorporating three strategies helps resolve issues with sampling methods deviating from factual information. Experimental results demonstrate the efficacy of our approach in generating high-quality sentences resembling human output.", "venue": "Conference on Empirical Methods in Natural Language Processing", "year": 2023, "citationCount": 1, "influentialCitationCount": 0, "openAccessPdf": null, "tldr": {"model": "tldr@v2.0.0", "text": "The self-reinforcement effect in text generation and the effectiveness of a repetition penalty to mitigate it is investigated and a forgetting mechanism that disregards distant tokens is proposed, reducing the burden of penalty selection."}, "embedding": {"model": "specter_v2", "vector": [0.007549479603767395, 1.029518723487854, -0.06465325504541397, 0.19993574917316437, -0.29754638671875, -0.3874291181564331, 0.536349892616272, -0.1444830298423767, -0.04045004025101662, 0.38505616784095764, 0.7348628044128418, 0.2724115550518036, 0.2195204496383667, -0.24797207117080688, -0.4910731911659241, -0.04092118889093399, -0.8369536399841309, 0.24719564616680145, -0.4035589396953583, -0.19439463317394257, 0.04474823176860809, -1.1580994129180908, -1.011775016784668, 0.2254563421010971, 1.0622479915618896, -0.2512696385383606, 0.06493230909109116, 1.0102018117904663, -0.41572806239128113, 0.25992366671562195, 0.10819867998361588, -0.6990541815757751, 0.01745857484638691, -0.4409443438053131, -0.0655985176563263, 0.09356578439474106, 0.07517005503177643, -0.4637712836265564, -0.4078539311885834, 0.614033579826355, -0.0476066954433918, -0.02977997437119484, 0.5926861763000488, -0.23765809834003448, -0.6096583604812622, 1.2629283666610718, 0.6515496373176575, 0.2796139121055603, 0.5803674459457397, -0.6791085004806519, 1.444084644317627, -1.2244549989700317, 0.5582399368286133, 1.31545889377594, 0.27468571066856384, 0.5439888834953308, -0.37098973989486694, -0.4457165002822876, 0.9180445075035095, -0.2007722109556198, -1.0435560941696167, -0.08764712512493134, 0.013132750056684017, -0.09348645806312561, 1.3300849199295044, -0.3826250731945038, 0.08610890060663223, 1.0635415315628052, 0.007627375423908234, 1.5535424947738647, -0.378337025642395, -0.9889969229698181, -0.2890327274799347, 0.3009001314640045, 0.0797920823097229, 1.0670660734176636, -0.03811333328485489, 0.34057796001434326, -1.0461773872375488, -0.1352347582578659, 0.6090390682220459, -0.5741093754768372, -0.19987522065639496, -0.14658035337924957, -0.23422393202781677, 0.6300347447395325, -0.2074107974767685, 0.7164823412895203, -0.13064877688884735, 0.7517114877700806, 0.25024619698524475, 0.2618013322353363, 0.3941027820110321, 0.26378291845321655, 0.19540438055992126, -0.056176505982875824, -0.7847936153411865, 0.5243723392486572, 0.35203737020492554, 0.989078164100647, -0.04136062040925026, 0.4655148983001709, -1.4123950004577637, 0.3694782257080078, 1.2522495985031128, -0.2571442425251007, 1.0061590671539307, -0.545278787612915, 0.3118551969528198, -0.7529493570327759, 0.722014844417572, -0.6058512330055237, 0.015249839052557945, -0.21997404098510742, -0.4008839428424835, -0.9215059280395508, -0.15059232711791992, -0.37863680720329285, -0.7030136585235596, 0.9440884590148926, -0.2734648585319519, -0.11400538682937622, 0.12226757407188416, 0.5786383152008057, 0.18478409945964813, 0.46709999442100525, -0.06086031347513199, -0.17024964094161987, 0.46337777376174927, -0.6678189039230347, -1.0228978395462036, -0.8454899787902832, 0.5925078988075256, -0.28968656063079834, 0.29324281215667725, -0.11864212900400162, -1.4192053079605103, -0.8751240968704224, -1.0896978378295898, 0.2942928671836853, -0.09260368347167969, 0.483940064907074, 1.0372117757797241, 0.7772441506385803, -0.6088998317718506, 1.4227337837219238, -0.13036185503005981, -0.04720499739050865, 0.35546383261680603, -0.13690650463104248, 0.4143141210079193, -0.4872402250766754, -1.223239779472351, -0.06676881015300751, 0.38262173533439636, -1.0806481838226318, -0.22710810601711273, -0.23057019710540771, -1.0782256126403809, -0.2670060396194458, 0.33335381746292114, -0.6001770496368408, 1.240980625152588, -0.3961324989795685, -1.3047313690185547, 0.2803811728954315, -0.560526430606842, 0.1862489879131317, 0.6646715402603149, -0.5296931862831116, -0.5737297534942627, -0.5129100680351257, 0.1199851855635643, 0.3507941663265228, 0.8144589066505432, -0.30795609951019287, -0.008247827179729939, 0.3400810956954956, -0.4158778786659241, 0.005564009305089712, -0.439203143119812, 0.2117248922586441, -0.34315741062164307, -0.8534058928489685, 0.3722626566886902, 0.8849045038223267, 0.11582112312316895, -0.6800658106803894, -0.2910866439342499, -1.3158483505249023, 0.16259528696537018, -0.1198391541838646, 1.0775939226150513, -0.8507168292999268, -0.9570260047912598, -0.26565831899642944, -0.30020374059677124, -0.23505811393260956, -0.8695313930511475, 0.9893049001693726, -0.3287840187549591, 0.6291933059692383, -0.17272481322288513, -0.7041874527931213, 0.37826845049858093, -0.4690428078174591, -0.6854934096336365, -0.2720954120159149, 0.4628598392009735, 0.9615191221237183, -1.3487125635147095, -0.0011750850826501846, -0.3075116276741028, -0.042420778423547745, -0.769156277179718, 1.2439405918121338, -0.7748165726661682, 0.05595286935567856, -0.2730071544647217, -0.3021482825279236, 0.2812477648258209, 0.07091563940048218, 0.15069982409477234, 0.20267349481582642, 0.09766882658004761, 0.40354394912719727, -0.6746618747711182, 1.7268961668014526, -0.04539317265152931, 0.3108889162540436, -0.6239062547683716, -0.11203742772340775, 0.4466802477836609, 0.67661052942276, -0.31972360610961914, -0.08425304293632507, -0.027764620259404182, 0.2625161409378052, -0.7214381694793701, -0.20845916867256165, 0.8263407349586487, 0.6309407353401184, -0.19164130091667175, 0.4541603624820709, 0.5765532851219177, -0.12932026386260986, 1.2433604001998901, 0.515605628490448, 0.8396835327148438, 0.9031192064285278, 0.21480725705623627, 0.2276851087808609, 0.026775937527418137, -0.6055367588996887, 0.1271733194589615, 0.6954050064086914, 0.8630122542381287, 1.384037971496582, 0.4830227792263031, -0.6282898187637329, -0.35251957178115845, -0.3134559392929077, 0.9617468118667603, 1.2096394300460815, -0.15418773889541626, -0.5536565184593201, -0.7129180431365967, -0.5062654614448547, -0.192903533577919, 0.8501003980636597, -0.5849925875663757, -0.2668161392211914, -0.28693315386772156, -1.114054799079895, 0.8437489867210388, -0.01168920285999775, 0.6256952285766602, -0.40192610025405884, -0.04864068701863289, 0.33305203914642334, 0.01670020818710327, -0.32904455065727234, -0.8212099671363831, 0.15339018404483795, -0.38844382762908936, 0.010110870003700256, -0.4610796272754669, 0.022969050332903862, 0.24908477067947388, -0.5943421125411987, 1.2568583488464355, -0.3574936091899872, -0.3560229241847992, 0.12850020825862885, -0.05432898923754692, -0.8579394221305847, -0.7906078100204468, 0.15765008330345154, -0.008869058452546597, -0.29367801547050476, 0.20650087296962738, 0.5698419213294983, 0.15679340064525604, -0.12610746920108795, -0.5984659790992737, 0.1671348512172699, 0.14189289510250092, 0.4027602970600128, 0.06321939826011658, 0.07748400419950485, 0.20979158580303192, -1.0951075553894043, 1.2204482555389404, 0.12354610860347748, -0.015247826464474201, 0.020197562873363495, -0.6065229773521423, -0.08307486772537231, 0.3756273686885834, -0.9033182263374329, -0.558077871799469, -0.9641943573951721, 0.38991162180900574, 0.3434605598449707, -0.14944520592689514, 0.08852986246347427, 0.3350023627281189, 0.4828791320323944, 0.4903945028781891, 0.5576213598251343, 0.42475011944770813, 0.02062549628317356, 0.7556948065757751, -0.8510086536407471, 0.1877971738576889, 0.11558669060468674, 0.32574811577796936, -0.07343261688947678, -0.7338894605636597, -0.4380633234977722, -0.31425076723098755, 0.31030693650245667, 0.1681487262248993, -0.37850797176361084, -0.04802056774497032, -0.7511018514633179, -0.6222637295722961, -0.2603188753128052, -1.1022961139678955, -0.11913297325372696, -0.41037270426750183, -0.245099276304245, -0.3460191488265991, -0.6294547319412231, -0.7477100491523743, -0.8280816674232483, -0.2023589313030243, -0.579958438873291, 0.28063127398490906, -0.0062272874638438225, -0.8006160855293274, -0.35980960726737976, 0.3605102002620697, -0.5375773310661316, 0.499656617641449, -0.48313596844673157, 0.5331259369850159, 0.33095234632492065, -0.2914268970489502, -0.41177898645401, 0.4289514422416687, 0.15447171032428741, -0.1277678906917572, 0.09882470965385437, -0.5938306450843811, -0.05722557753324509, -0.37933796644210815, -0.4157375395298004, 0.3309890627861023, 0.06582687050104141, 0.530242919921875, -0.14203238487243652, -0.5113294720649719, 0.27875393629074097, 1.4150989055633545, -0.8542200922966003, 0.10110379755496979, -0.04441501200199127, 0.7387590408325195, 0.5831796526908875, -0.10428153723478317, 0.9280487895011902, 0.33918243646621704, 0.28605353832244873, 0.03160429000854492, -0.13617850840091705, -0.3149385154247284, -1.1023591756820679, 0.8596352338790894, 1.30209481716156, 0.4976407587528229, -0.40994665026664734, -0.6685729622840881, 0.8796758055686951, -1.5230823755264282, -0.6191937327384949, 0.2726934850215912, 0.6269861459732056, 0.4429561495780945, -0.535735011100769, -0.3452953100204468, 0.12946610152721405, 0.5409061312675476, 0.25984010100364685, -0.2915210425853729, -0.49058449268341064, -0.02211134321987629, 0.13414058089256287, 0.2383641004562378, 0.6596763134002686, -0.16723544895648956, 0.648674726486206, 14.966959953308105, 0.8797281384468079, 0.6119537353515625, 0.25205090641975403, 0.5039935111999512, 0.08195468783378601, -0.6274356842041016, -0.13774913549423218, -1.0503559112548828, 0.0005654421984218061, 0.6509725451469421, -0.38824427127838135, 0.6394326090812683, -0.11154043674468994, 0.1567445546388626, -0.08613806962966919, -0.22917233407497406, 0.4893733263015747, 0.8647115230560303, -0.8621830940246582, 0.6515951156616211, 0.006825694348663092, 0.5763375759124756, -0.10998779535293579, 0.5799696445465088, 0.7644240260124207, 0.7014444470405579, -0.44664955139160156, 0.7605674862861633, 0.4095805585384369, 0.9088063836097717, -0.22139674425125122, 0.2691270411014557, 0.6096060872077942, -0.3883745074272156, -0.31409168243408203, -0.9856008291244507, -1.2868447303771973, 0.28109750151634216, 0.6231369972229004, -0.7454363703727722, -0.018765820190310478, -0.5168866515159607, 0.5843586325645447, 0.006850531790405512, 0.18790525197982788, -0.6143286824226379, 0.7465251088142395, 0.21889753639698029, -0.26906827092170715, 0.11223536729812622, 0.4398905038833618, 0.6785314083099365, -0.09700147062540054, 0.6543287038803101, -0.09516017884016037, -0.12267588824033737, 0.6903297305107117, -0.33547061681747437, -0.06673628836870193, -0.6417820453643799, -0.29327675700187683, -0.1990474909543991, 0.4305844306945801, 0.6042289137840271, 0.13963425159454346, -0.016872255131602287, 0.7223180532455444, 0.9061893820762634, 0.3356825113296509, -0.29667168855667114, -0.355541467666626, 0.29785415530204773, -0.09681056439876556, 0.078242726624012, 0.45012009143829346, -0.4532023072242737, -0.5946753621101379, -0.5180790424346924, -0.28950235247612, 0.12439565360546112, -0.7444266676902771, -0.8862894177436829, 0.7204034328460693, -0.5113842487335205, -0.8035716414451599, -0.08536995947360992, -0.449817955493927, -0.5352144837379456, 0.4013557732105255, -1.0634486675262451, -0.3052158057689667, 0.2083783745765686, -0.8111240267753601, -0.2315996289253235, -0.3184945285320282, 1.3121258020401, -0.5511256456375122, -0.36175036430358887, 0.25413206219673157, 0.47338253259658813, -0.2663705050945282, 0.11433269828557968, -1.141110897064209, 0.8926697969436646, 0.12189055979251862, 0.11343353241682053, 0.40503358840942383, 0.3371281921863556, -0.11777765303850174, -0.7855189442634583, -0.24733637273311615, 0.8980660438537598, -0.7415194511413574, -0.7711751461029053, -0.7068990468978882, -0.7945913076400757, -0.1992691457271576, 0.8527835607528687, -0.7824931740760803, 0.3867627680301666, 0.18011359870433807, -0.17078375816345215, 0.0868728831410408, -0.6843716502189636, 0.43296846747398376, 0.5726084113121033, -0.053046856075525284, -0.4469462037086487, 0.11326330155134201, 0.2580550014972687, -0.9783959984779358, -0.0653141438961029, -0.49275144934654236, 0.23363004624843597, -0.497692346572876, 0.6254032254219055, -0.11159183084964752, 0.829554557800293, 0.5845157504081726, 0.46553710103034973, -1.1736674308776855, -0.6379618048667908, -1.3582334518432617, 0.3328775465488434, 0.6741332411766052, 0.7861721515655518, -0.26056602597236633, 0.5789177417755127, 0.9199684858322144, 0.5213961005210876, -0.0735275000333786, -0.5901764035224915, -0.3207990825176239, 0.28192514181137085, -0.4516582787036896, 0.34236273169517517, -0.31586283445358276, 0.33492761850357056, 0.2058103084564209, 0.2807616591453552, 0.39696627855300903, 0.08389461040496826, -0.9906346201896667, 0.6033065319061279, 0.20475521683692932, 0.10423985123634338, -0.5324385762214661, 0.01013633981347084, -1.514744520187378, -0.21145620942115784, -1.2684710025787354, -0.014705142006278038, -1.3492803573608398, -0.6169815063476562, 0.4336206614971161, 0.08473361283540726, -0.5803521275520325, -0.20548465847969055, -0.3251132667064667, -0.4678153991699219, -0.7440798878669739, -0.5010609030723572, 1.0284842252731323, 0.9798306226730347, -0.7273098230361938, -0.011741108261048794, -0.35899749398231506, -0.3930642008781433, 0.33064910769462585, 0.5733557343482971, -0.6682414412498474, -0.5553105473518372, -1.5611361265182495, 0.6932278275489807, -0.14746080338954926, -0.06214030459523201, -0.7388519644737244, 0.1930096447467804, 0.7762585282325745, 0.5995544791221619, -0.2753930389881134, 0.009331907145678997, -0.5624217987060547, -0.3216802179813385, 0.10223972797393799, -0.7936682105064392, -0.02827555499970913, -0.15995533764362335, -0.15373773872852325, -0.20488902926445007, 0.08169335871934891, -0.4325142502784729, -1.4712427854537964, -0.088729128241539, 0.12415745854377747, -0.9547364115715027, 0.3695661425590515, -0.1479053646326065, -0.46128347516059875, -0.8906494975090027, -0.5225077867507935, 0.07901466637849808, 0.28793635964393616, -0.15520359575748444, 1.2089823484420776, 0.6409547924995422, -1.3371357917785645, -0.34232136607170105, 0.5027292370796204, 0.02243172563612461, -0.21127404272556305, 0.4885968267917633, -0.36517730355262756, -0.24567097425460815, 0.08859831839799881, 0.6585676074028015, 0.4914844334125519, -0.4832485616207123, -0.24022704362869263, 0.24772009253501892, -0.7081515789031982, -0.32203659415245056, 0.8761191964149475, -0.5079339146614075, -0.9335004687309265, 0.19139070808887482, -0.661623477935791, -0.5492350459098816, -0.3250266909599304, 0.785406231880188, 0.5558519959449768, -0.4938434362411499, 0.29266276955604553, -0.10762913525104523, 0.03790578246116638, -0.34947115182876587, -0.8980891704559326, 0.39570364356040955, -0.4280504882335663, -0.10983031988143921, 0.7788528203964233, 0.32020947337150574, -0.6022926568984985, -0.6965789794921875, -0.12146691232919693, -0.33364740014076233, -0.5891300439834595, 0.12727423012256622, -0.5288564562797546, 0.1662011742591858, 0.5459924340248108, 0.4071238338947296, 0.4360373020172119, -0.3072291910648346, -0.46175166964530945, 0.3132527768611908, 0.21218667924404144, -0.018786558881402016, -1.0483641624450684, -0.1824396550655365, 1.2332359552383423, 1.464880347251892, -0.6014958620071411, 0.20782436430454254, -0.1875470131635666, -1.0121872425079346, 1.0621079206466675, 0.31604135036468506, -0.0801912322640419, 0.42129796743392944, -0.5290622711181641, 0.25170376896858215, 0.37206196784973145, -1.288008213043213, -0.3488190770149231, 0.46479281783103943, 1.2203272581100464, 1.277461051940918, 0.11581220477819443, -0.4843708872795105, 1.0653624534606934, 0.006022681947797537, 0.46087658405303955, 0.9497438669204712, 0.12773694097995758, 0.014912376180291176, -0.6203630566596985, -0.07451207935810089, 0.7546511292457581, -0.7266817688941956, -0.44278275966644287, 0.05167173966765404, 0.07783142477273941, 0.29511043429374695, 0.95478755235672, 0.4229462444782257, 0.12061740458011627, 0.2778278887271881, 0.4114479422569275, 0.5560044646263123, -0.3812180757522583, -0.41610702872276306, -0.009809082373976707, -0.2641521990299225, 0.20306076109409332, 0.23255351185798645, -0.5514276623725891, -0.03811464086174965, -0.04391561448574066, -0.008801867254078388, 0.2308989316225052, 0.0806422159075737, 0.6755497455596924, 0.7398175001144409, 0.6521213054656982, 0.007481332402676344, -0.2559298574924469, -0.49874475598335266, -1.2703083753585815, -0.1872444748878479, -0.3326200246810913, -0.40327319502830505, -0.13309413194656372, -0.13102467358112335, -0.062407031655311584]}, "authors": [{"authorId": "2261473892", "name": "Wenhong Zhu"}, {"authorId": "37149808", "name": "Hong-ping Hao"}, {"authorId": "2261476238", "name": "Rui Wang"}], "references": [{"paperId": "e65b346d442e9962a4276dc1c1af2956d9d5f1eb", "title": "Self-Instruct: Aligning Language Models with Self-Generated Instructions"}, {"paperId": "91b07210ec07a229e5caf2d5f009a523b39e40ae", "title": "Momentum Decoding: Open-ended Text Generation As Graph Exploration"}, {"paperId": "21f0b7d4d4163e7a06fb420599b586958e9168a3", "title": "Truncation Sampling as Language Model Desmoothing"}, {"paperId": "5697a0ede5425954d48daa6e1893dc87bd7d8be7", "title": "Contrastive Search Is What You Need For Neural Text Generation"}, {"paperId": "6151ee4af6a3fe78f2df7c605598cd9e02b23c5b", "title": "Learning to Break the Loop: Analyzing and Mitigating Repetitions for Neural Text Generation"}, {"paperId": "492a655a67e6ec7423a968cedb70eec0cdbc8e98", "title": "A Contrastive Framework for Neural Text Generation"}, {"paperId": "8484fdb56e4690927dc0191ede11c2d24bc5e2ef", "title": "MAUVE: Measuring the Gap Between Neural Text and Human Text using Divergence Frontiers"}, {"paperId": "90abbc2cf38462b954ae1b772fac9532e2ccd8b0", "title": "Language Models are Few-Shot Learners"}, {"paperId": "ec55f76812cacc12d29ec632d924377524a13022", "title": "Don\u2019t Say That! Making Inconsistent Dialogue Unlikely with Unlikelihood Training"}, {"paperId": "75acc731bdd2b626edc74672a30da3bc51010ae8", "title": "CTRL: A Conditional Transformer Language Model for Controllable Generation"}, {"paperId": "cf4aa38ae31b43fd07abe13b4ffdb265babb7be1", "title": "The Curious Case of Neural Text Degeneration"}, {"paperId": "29de7c0fb3c09eaf55b20619bceaeafe72fd87a6", "title": "Hierarchical Neural Story Generation"}, {"paperId": "204e3073870fae3d05bcbc2f6a8e263d9b72e776", "title": "Attention is All you Need"}, {"paperId": "85b68477a6e031d88b963833e15a4b4fc6855264", "title": "A Corpus and Cloze Evaluation for Deeper Understanding of Commonsense Stories"}, {"paperId": "e8f1d69cdf4d92350ce237e2d6a615ebe2e52e43", "title": "Mirostat: a Neural Text decoding Algorithm that directly controls perplexity"}, {"paperId": null, "title": "Hug-gingface\u2019s transformers: State-of-the-art natural language processing"}, {"paperId": "9405cc0d6169988371b2755e573cc28650d14dfe", "title": "Language Models are Unsupervised Multitask Learners"}, {"paperId": null, "title": "2023. Locally typical sampling"}, {"paperId": null, "title": "2023. Llm-eval: Unified multi-dimensional automatic evaluation for open-domain conversations with large language models"}, {"paperId": null, "title": "metric that quantifies the similarity in token distribution between generated text and human-written text"}, {"paperId": null, "title": "A Experimental Details A.1 Expeimental Setups We conducted all experiments using the"}, {"paperId": null, "title": "2023. Gpt-4 technical report"}]}