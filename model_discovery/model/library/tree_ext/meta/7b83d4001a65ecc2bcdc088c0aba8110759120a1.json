{"paperId": "7b83d4001a65ecc2bcdc088c0aba8110759120a1", "title": "Concise and Precise Context Compression for Tool-Using Language Models", "abstract": "Through reading the documentation in the context, tool-using language models can dynamically extend their capability using external tools. The cost is that we have to input lengthy documentation every time the model needs to use the tool, occupying the input window as well as slowing down the decoding process. Given the progress in general-purpose compression, soft context compression is a suitable approach to alleviate the problem. However, when compressing tool documentation, existing methods suffer from the weaknesses of key information loss (specifically, tool/parameter name errors) and difficulty in adjusting the length of compressed sequences based on documentation lengths. To address these problems, we propose two strategies for compressing tool documentation into concise and precise summary sequences for tool-using language models. 1) Selective compression strategy mitigates key information loss by deliberately retaining key information as raw text tokens. 2) Block compression strategy involves dividing tool documentation into short chunks and then employing a fixed-length compression model to achieve variable-length compression. This strategy facilitates the flexible adjustment of the compression ratio. Results on API-Bank and APIBench show that our approach reaches a performance comparable to the upper-bound baseline under up to 16x compression ratio.", "venue": "", "year": 2024, "citationCount": 0, "influentialCitationCount": 0, "openAccessPdf": null, "tldr": {"model": "tldr@v2.0.0", "text": "This work proposes two strategies for compressing tool documentation into concise and precise summary sequences for tool-using language models that reach a performance comparable to the upper-bound baseline under up to 16x compression ratio."}, "embedding": {"model": "specter_v2", "vector": [0.1738709807395935, 0.12341781705617905, -1.0645747184753418, 0.061404816806316376, -0.4766613245010376, -0.5829688906669617, 0.5743358135223389, -0.0666828453540802, -0.2703174948692322, -0.028037842363119125, 0.8330045342445374, -0.820236086845398, 0.3429282605648041, 0.15224452316761017, 0.06986625492572784, 0.3885021507740021, -0.5306196212768555, -0.08933453261852264, -0.35243260860443115, 0.2648780643939972, 0.23893429338932037, -0.6295419931411743, -1.0305700302124023, 0.45898911356925964, 0.8519262671470642, 0.08005125820636749, 0.07684877514839172, 1.0818780660629272, -1.0833569765090942, 0.23493139445781708, 0.276481568813324, -0.29044684767723083, 0.03939193859696388, -0.22766245901584625, 0.012264573946595192, -0.20965822041034698, 0.17266367375850677, -0.5686351656913757, -0.16552488505840302, 0.2615559697151184, -0.5980144739151001, -0.4738502502441406, 0.24845241010189056, -0.6724937558174133, 0.1286058872938156, 1.2174166440963745, 0.47113195061683655, 0.649135172367096, 0.06086556613445282, -0.47858384251594543, 1.0441961288452148, -0.9690670371055603, 0.024278482422232628, 1.0635733604431152, 0.33355334401130676, 0.20397025346755981, 0.05148216709494591, -0.5193665623664856, 0.07060476392507553, -0.5785091519355774, -0.6373085975646973, -0.29956233501434326, -0.10710079222917557, -0.5506988167762756, 2.043097972869873, 0.04495298117399216, 0.029928918927907944, 0.17398980259895325, 0.46954819560050964, 1.022815227508545, -0.5253115296363831, -1.0893760919570923, -0.36066874861717224, -0.22484029829502106, 0.42992669343948364, 0.7329663038253784, -0.0480620451271534, 0.08188437670469284, -0.723676323890686, -0.6754253506660461, 0.5763577222824097, 0.3145706057548523, -0.08869961649179459, -0.16847257316112518, -0.4759511351585388, 0.2551776170730591, -0.3890230059623718, 1.0363374948501587, 0.20380817353725433, 0.7798705101013184, 0.8397555947303772, 0.41006797552108765, 0.036640048027038574, 0.1660183072090149, -0.018172487616539, -0.34488144516944885, -1.0397439002990723, 0.034868065267801285, 0.14960654079914093, 1.027453064918518, -0.4194970428943634, 0.17266783118247986, -0.8656079769134521, 0.3093620538711548, 1.2011370658874512, -0.0402509868144989, 0.5211783647537231, -0.701372504234314, 0.8284868597984314, 0.013160924427211285, 0.6272192001342773, 0.029171062633395195, 0.22892683744430542, -0.28325387835502625, -0.13457313179969788, -1.1311465501785278, -0.4167957305908203, -0.09788778424263, -0.6750410795211792, 0.16533072292804718, -0.769533097743988, 0.12089033424854279, 0.13585472106933594, -0.10027264058589935, 0.27974334359169006, 0.461123526096344, 0.1398635357618332, -0.3858272135257721, 0.47136014699935913, -0.8315102458000183, -0.8560501337051392, -1.4164941310882568, 0.9052267670631409, -1.0698515176773071, 0.8913214206695557, -0.7088134288787842, -1.372489333152771, -0.6712772250175476, -1.1911349296569824, 0.078523650765419, -0.20143018662929535, 0.3750261068344116, 1.132646918296814, 0.44802045822143555, -0.8112580180168152, 0.767449676990509, -0.4537044167518616, -0.08025077730417252, -0.17036743462085724, -0.16016682982444763, 0.5028534531593323, -0.30880191922187805, -0.6323557496070862, -0.2570075988769531, -0.12068000435829163, -1.330958604812622, 0.08391586691141129, -0.6228064894676208, -1.2941346168518066, 0.14956451952457428, 0.44684091210365295, -0.4318390190601349, 1.570283055305481, 0.43701621890068054, -0.986181914806366, 0.17102199792861938, -0.19654279947280884, 0.3341681957244873, 0.3067914545536041, -0.5120705962181091, -0.45348623394966125, -0.1795705258846283, -0.0016427179798483849, -0.19316762685775757, -0.1139073595404625, -0.32383471727371216, -0.2675926387310028, 0.7075408101081848, -0.22047090530395508, -0.1481248438358307, -0.10164579004049301, 1.2929686307907104, -0.9576918482780457, -0.4454686641693115, -0.02632060833275318, 0.7338898181915283, -0.03024640493094921, 0.2205885350704193, -0.2258155643939972, -0.4029574990272522, 1.0222901105880737, -0.35345742106437683, 2.424774646759033, -0.9173929691314697, -0.9764019250869751, -0.41774940490722656, -0.7560560703277588, 0.13664540648460388, -0.551069974899292, 1.0703097581863403, 0.055290766060352325, 1.140722393989563, -0.7144953012466431, -0.756843626499176, -0.13842721283435822, -0.14130787551403046, -1.0460253953933716, -0.6742161512374878, -0.4067394733428955, 0.8507703542709351, -0.6281507611274719, -0.11585398763418198, 0.2290009707212448, 0.2118861824274063, -0.49179840087890625, 1.091889500617981, -0.4239458441734314, 0.03356220945715904, -0.2045154571533203, 0.38529983162879944, 0.024732626974582672, 0.060125239193439484, 0.3995329737663269, 0.025846196338534355, -0.41719573736190796, 0.4664110541343689, -0.19814081490039825, 1.406332015991211, -0.867832362651825, 0.07586921751499176, 0.2489888221025467, 0.2006043791770935, 0.08001039922237396, 0.5247839689254761, -0.1313384771347046, -0.11720521748065948, -0.061220910400152206, 0.591336727142334, -0.27895087003707886, 0.19558264315128326, 0.6565260887145996, 0.9774097800254822, -0.829727053642273, 0.5543229579925537, 0.2800489068031311, -0.34926533699035645, 0.8665465712547302, 0.32561054825782776, 0.8621772527694702, 0.2976205050945282, 0.7427160143852234, 0.24099498987197876, 0.3910481631755829, -0.6414108872413635, -0.24046355485916138, 0.4860420525074005, 0.6995645761489868, 0.6995580196380615, 0.5895397663116455, -0.40708649158477783, -0.38355928659439087, 0.2908759117126465, 0.7864034175872803, 1.3929680585861206, -0.4016675055027008, -0.8515622019767761, -0.770474374294281, -0.8260336518287659, -0.09304048120975494, 0.5813103914260864, -0.19206616282463074, -0.3189690113067627, -0.8609042763710022, -0.43615958094596863, 1.0334892272949219, 0.5039952397346497, 1.0259459018707275, -0.3706575334072113, -0.4699629247188568, 0.06760059297084808, 0.2905057966709137, -0.4007035195827484, -0.9415348172187805, 0.35145461559295654, -1.0314027070999146, -0.5257119536399841, 0.1837187558412552, -0.18154115974903107, -0.3119237422943115, -0.26948976516723633, 1.1686275005340576, 0.6594834327697754, -0.410835325717926, 0.555899441242218, 0.3279656767845154, -0.5188647508621216, -1.2327511310577393, -0.10214757174253464, -0.5944241881370544, -1.1890591382980347, 0.5653215050697327, 0.38799184560775757, 0.34053269028663635, 0.13822335004806519, -0.7193300724029541, 0.06539717316627502, 0.250354140996933, 0.043872591108083725, 0.6669055819511414, -0.6115463376045227, -0.40694501996040344, -0.9123803377151489, 1.3150091171264648, 0.4635026454925537, -0.3859984576702118, 0.589123010635376, -0.7260236740112305, -0.33678996562957764, 0.5727646946907043, -0.3805277943611145, -0.16636107861995697, -1.246284008026123, 0.6826722621917725, 0.4744460880756378, 0.03636116161942482, 0.5921191573143005, 0.29085326194763184, 0.10399118065834045, -0.19100813567638397, 0.6049847602844238, 0.39053335785865784, -0.5519904494285583, 0.1898382306098938, -0.04521385207772255, 0.3417734205722809, 0.1651027798652649, -0.05729176849126816, -0.5927272439002991, -0.529232382774353, -0.10045186430215836, 0.2721559405326843, -0.36895719170570374, -0.020672734826803207, 0.06510769575834274, -0.3991091847419739, -0.3620024025440216, 0.07713515311479568, -0.8246846795082092, -1.0459489822387695, -0.4940243363380432, 0.24569270014762878, -0.2652902603149414, -0.3057582378387451, -0.5896114706993103, -1.1373176574707031, -0.7848208546638489, -0.7004421353340149, -1.3225138187408447, 0.7576072812080383, -0.5282606482505798, -0.4216403067111969, -0.16892743110656738, 0.0995425432920456, -0.6101399660110474, 0.6978397965431213, -0.4530614912509918, 1.1874134540557861, 0.3510560095310211, -0.06775812804698944, -0.4259559214115143, 0.3239005208015442, 0.4552174508571625, 0.16516296565532684, 0.7104517221450806, 0.0005457076476886868, 0.5181235074996948, 0.1516783982515335, 0.36371567845344543, 0.03424824774265289, 0.29453805088996887, 0.8331543803215027, -0.07875750958919525, -0.8283371925354004, 0.00846305675804615, 1.316763162612915, -0.3084913492202759, 0.0766892209649086, 0.27776485681533813, 0.6236577033996582, 0.0766647458076477, 0.35671937465667725, 0.5292474627494812, -0.6048917770385742, 0.44263124465942383, 0.1627485752105713, -0.08860042691230774, -0.478814959526062, -0.3056793510913849, 0.5595980286598206, 1.7460442781448364, 0.16743290424346924, 0.023223068565130234, -1.3893800973892212, 0.5074916481971741, -1.2918570041656494, -0.1334538459777832, 0.47635748982429504, 0.9592897295951843, 0.8611800670623779, -0.33430472016334534, -0.43016353249549866, 0.2031526267528534, 0.43324270844459534, 0.35889941453933716, -0.007418347056955099, -0.8828145265579224, 0.5905144810676575, 0.06531784683465958, 0.1256008893251419, 0.8059836626052856, -0.30196908116340637, 0.11666227132081985, 14.804946899414062, 0.6141613125801086, 0.15948206186294556, 0.5931713581085205, 0.21746303141117096, 0.2970530390739441, -0.3350009024143219, -0.22153563797473907, -1.1929341554641724, 0.2504462003707886, 1.2951135635375977, -0.4388425350189209, 0.34804144501686096, 0.3050844669342041, 0.15736939013004303, 0.08478736877441406, -0.3890621066093445, 0.6290135979652405, 0.2957873046398163, -1.2981622219085693, 0.5878822803497314, 0.6615397930145264, -0.05992764234542847, -0.08417008072137833, 0.6083459258079529, 0.8614120483398438, 0.07636401057243347, -0.37267184257507324, 0.1535513997077942, -0.20927946269512177, 1.0672043561935425, -0.4687230587005615, 0.9023321270942688, 0.46398067474365234, -0.8892517685890198, -0.4555480182170868, -0.7605133056640625, -1.2174639701843262, 0.30579906702041626, 0.323712021112442, -0.9609782695770264, -0.5600130558013916, -0.5654140114784241, 0.47720587253570557, -0.02498270571231842, 0.45181941986083984, -0.14306779205799103, 0.813616156578064, 0.014139249920845032, 0.11634215712547302, 0.1578816920518875, 0.2701703906059265, 0.21874332427978516, 0.4865054488182068, 0.432522177696228, -0.263771653175354, 0.4452151358127594, -0.036507174372673035, -0.4863571524620056, 0.1301599144935608, -0.9773738980293274, -0.6936580538749695, 0.1315789371728897, 0.34472328424453735, 0.3033791184425354, -0.07146970927715302, -0.7321342825889587, 0.12072321027517319, 0.10761969536542892, 0.08844437450170517, -0.16350066661834717, -0.18223994970321655, 0.5115192532539368, 0.1330062747001648, -0.04280853271484375, -0.010405189357697964, -0.6024655699729919, -0.4865288734436035, -0.3544485867023468, -0.4493330717086792, 0.504341185092926, -0.4593605697154999, -0.07210877537727356, 0.8157175183296204, 0.29612627625465393, -1.109400987625122, -0.3462108373641968, -0.48858803510665894, -0.2913379669189453, 0.15286190807819366, -1.158086895942688, -0.7532856464385986, 0.3911079466342926, -0.5939918160438538, -0.12335213273763657, -0.12045414745807648, 1.6332930326461792, 0.11167819797992706, -0.12421584129333496, 0.1207549124956131, 0.24563953280448914, -0.16218645870685577, 0.045790400356054306, -0.9348401427268982, 0.6231715679168701, 0.5496809482574463, -0.14948943257331848, 0.9185566306114197, -0.005833838600665331, -0.5707482695579529, -0.7118678092956543, -0.2637530267238617, 0.584694504737854, -0.8842153549194336, -0.109218068420887, -1.0314618349075317, -0.8959222435951233, 0.23596960306167603, 0.6245743632316589, -0.44343575835227966, 0.8889979124069214, -0.01942574419081211, -0.4407327473163605, 0.22520777583122253, -1.0469753742218018, 0.38788890838623047, 0.7875082492828369, -0.6124182343482971, -0.24211721122264862, 0.05450388416647911, 0.7543630599975586, -0.8823478817939758, -0.5303289890289307, -0.15734288096427917, 0.07705378532409668, -0.16181868314743042, 0.4680838882923126, 0.23023615777492523, 0.9937090277671814, 0.6407235860824585, -0.45641666650772095, -0.49513721466064453, 0.33229658007621765, -0.8595234155654907, -0.26821237802505493, 0.3206852674484253, 0.7853252291679382, -0.18813540041446686, -0.1859293282032013, 1.0970302820205688, -0.11709829419851303, -0.24626760184764862, -0.6210202574729919, -0.5175880789756775, 0.3870287537574768, -0.5083407163619995, 0.793246865272522, -0.3185862600803375, 0.2975444793701172, -0.5052193403244019, 0.734400749206543, 0.17542000114917755, -0.6958921551704407, -0.36883658170700073, 0.5919082164764404, 0.16667112708091736, -0.23688630759716034, -0.5603175163269043, -0.23302090167999268, -0.8498297333717346, -0.15591777861118317, -0.7128390073776245, -0.0024829134345054626, -1.072452187538147, -0.17761121690273285, 0.5027176141738892, -0.08442216366529465, 0.09341741353273392, 0.3325059115886688, -0.48072314262390137, -0.5714861154556274, -0.17361761629581451, -0.3610975742340088, 0.22696079313755035, 0.8503770232200623, -0.6568573117256165, -0.1582845151424408, 0.07080402970314026, 0.042380813509225845, 0.1480983942747116, 0.26822009682655334, -0.5404088497161865, -0.6850776672363281, -1.3623422384262085, 0.0498298704624176, -0.25967735052108765, -0.3100108802318573, -0.4800235629081726, 0.028043219819664955, 0.10010447353124619, -0.29577183723449707, 0.026689045131206512, -0.17945218086242676, -0.972255289554596, -0.37286561727523804, 0.5165913701057434, -0.48226234316825867, 0.3195834457874298, 0.505440890789032, -0.4814395308494568, -0.5061046481132507, 0.15880855917930603, -0.584071934223175, -0.9850165247917175, -0.39052653312683105, -0.1564418077468872, -0.6540444493293762, -0.33324486017227173, -0.31834301352500916, 0.04551272466778755, -0.9229661226272583, -0.31485962867736816, 0.33295688033103943, -0.11406319588422775, 0.23917387425899506, 1.0032786130905151, 0.0632612556219101, -0.8957604169845581, 0.5064556002616882, 0.33715102076530457, 0.0646798387169838, -0.6112392544746399, -0.13177885115146637, 0.16040781140327454, -0.5667304992675781, 0.6481321454048157, 0.6571798920631409, 0.010023294016718864, -1.3271580934524536, -0.4005542993545532, 0.2359401434659958, -0.5945159196853638, -0.27462711930274963, 0.45723792910575867, -0.6693587303161621, -0.7329766154289246, 0.23395361006259918, -1.8712754249572754, -0.13980907201766968, -0.9394559264183044, 1.2088192701339722, 0.06992441415786743, 0.4131249189376831, 0.20602640509605408, -0.514415979385376, 0.19377899169921875, -0.3423732817173004, -0.5387950539588928, 0.6338357329368591, -0.21161553263664246, -0.33778366446495056, 0.6584075093269348, 0.36205148696899414, -0.06687614321708679, -0.5118064880371094, 0.0863070860505104, -0.24350035190582275, -0.5284733772277832, 0.26739364862442017, -0.8182497620582581, -0.025620803236961365, 0.7896431684494019, 0.4880356788635254, 0.5243549942970276, 0.002783070085570216, -0.20160795748233795, 0.24012957513332367, 0.4318560063838959, 0.2991616427898407, -0.5501332879066467, -0.7834441065788269, 0.712459921836853, 1.6285566091537476, -0.6680362820625305, 0.7188475728034973, -0.22955705225467682, -0.5186765789985657, 1.1490652561187744, 0.25617435574531555, 0.2326325923204422, 0.7516994476318359, 0.4413713812828064, 0.34397250413894653, 0.4680159389972687, -0.6559769511222839, 0.00019263273861724883, 0.18853503465652466, 1.1091803312301636, 1.31487238407135, 0.19138091802597046, -0.47490406036376953, 1.3486191034317017, 0.09657412022352219, 0.537260115146637, 1.021244764328003, 1.4637033939361572, -0.29700109362602234, -0.7312942743301392, -0.22995571792125702, 0.9762648940086365, -0.9426794648170471, -0.6321335434913635, 0.009654954075813293, 1.2412712574005127, 0.020827876403927803, 0.6940180063247681, 0.53252774477005, 0.06265270709991455, 0.5120951533317566, 0.6840087175369263, 0.2831721007823944, -1.1004139184951782, -0.5865285396575928, 0.3547452688217163, -0.15855097770690918, -0.07077617943286896, 0.09406311810016632, -0.3899673521518707, -0.21009783446788788, 0.11933675408363342, 0.5596806406974792, 0.21606308221817017, 0.5731253623962402, 0.7427954077720642, 0.7291222214698792, 0.34209075570106506, -0.7849382162094116, -0.42215341329574585, -0.3464311361312866, -1.2152888774871826, 0.015461393631994724, -0.9151155352592468, -0.3515245020389557, -0.37043365836143494, -0.25824445486068726, -0.020008297637104988]}, "authors": [{"authorId": "2115683276", "name": "Yang Xu"}, {"authorId": "1419728983", "name": "Yunlong Feng"}, {"authorId": "2292039878", "name": "Honglin Mu"}, {"authorId": "2282135504", "name": "Yutai Hou"}, {"authorId": "2292026251", "name": "Yitong Li"}, {"authorId": "2309666763", "name": "Xinghao Wang"}, {"authorId": "2309249814", "name": "Wanjun Zhong"}, {"authorId": "2309673692", "name": "Zhongyang Li"}, {"authorId": "2309245675", "name": "Dandan Tu"}, {"authorId": "2283927956", "name": "Qingfu Zhu"}, {"authorId": "2309443056", "name": "Min Zhang"}, {"authorId": "2292032004", "name": "Wanxiang Che"}], "references": [{"paperId": "4c0428917aeee6aa7bd434f337d039f35996b736", "title": "LongLLMLingua: Accelerating and Enhancing LLMs in Long Context Scenarios via Prompt Compression"}, {"paperId": "29f032fc875576b5c3c6b1c2d76af8639bacfb88", "title": "OpenChat: Advancing Open-source Language Models with Mixed-Quality Data"}, {"paperId": "0bfc804e31eecfd77f45e4ee7f4d629fffdcd628", "title": "ToolLLM: Facilitating Large Language Models to Master 16000+ Real-world APIs"}, {"paperId": "455866ca838f356b53a7e3e5b344834f9e93dbbc", "title": "ToolAlpaca: Generalized Tool Learning for Language Models with 3000 Simulated Cases"}, {"paperId": "b458fc5261595f44b36325e5eaea1f874d65138f", "title": "GPT4Tools: Teaching Large Language Model to Use Tools via Self-instruction"}, {"paperId": "7d8905a1fd288068f12c8347caeabefd36d0dd6c", "title": "Gorilla: Large Language Model Connected with Massive APIs"}, {"paperId": "2f7364d8e5cf94315bf8905f57de9c5543e9a4bf", "title": "Adapting Language Models to Compress Contexts"}, {"paperId": "53d128ea815bcc0526856eb5a9c42cc977cb36a7", "title": "Toolformer: Language Models Can Teach Themselves to Use Tools"}, {"paperId": "f58ca7ba4a08b7082e86b7a5989b4b0fda2107ab", "title": "Binding Language Models in Symbolic Languages"}, {"paperId": "f3cf71c51b882fe3111d71c4bf104297d38197f8", "title": "Inner Monologue: Embodied Reasoning through Planning with Language Models"}, {"paperId": "b3848d32f7294ec708627897833c4097eb4d8778", "title": "LaMDA: Language Models for Dialog Applications"}, {"paperId": "2f3efe44083af91cef562c1a3451eee2f8601d22", "title": "WebGPT: Browser-assisted question-answering with human feedback"}, {"paperId": "d6045d2ccc9c09ca1671348de86d07da6bc28eea", "title": "Training Verifiers to Solve Math Word Problems"}, {"paperId": null, "title": "SlimPajama: A 627B token cleaned and deduplicated version of RedPajama"}, {"paperId": null, "title": "2023. In-context autoencoder for context compression in a large language model"}, {"paperId": null, "title": "2023a. Api-bank: A benchmark for tool-augmented llms"}, {"paperId": null, "title": "2022. Recurrent memory transformer"}, {"paperId": null, "title": "2022. Internet-augmented dialogue generation"}, {"paperId": null, "title": "2023a. Llmlingua: Compressing prompts for accelerated inference of large language models"}, {"paperId": null, "title": "2023. Stanford alpaca: An instruction-following llama model"}, {"paperId": null, "title": "A.1 The Necessity of Non-key Information Although we use open datasets from existing work, there"}, {"paperId": null, "title": "OpenAI. 2023."}, {"paperId": null, "title": "2023. On the tool manipulation capability of open-source large language models"}, {"paperId": null, "title": "Theoretically, the model may guess the functionality of a tool only using the names of the APIs and parameters. Therefore"}, {"paperId": null, "title": "Together Computer. 2023. Redpajama: An open source recipe to reproduce"}, {"paperId": null, "title": "2024. Loma: Loss-less compressed memory attention"}, {"paperId": null, "title": "2023. Vicuna: An open-source chatbot impressing gpt-4 with 90%* chatgpt quality"}]}